<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Schweinberger">

<title>Lexicography with R – Language Technology and Data Analysis Laboratory (LADAL)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-c00ead3b610a61ca0c1a529afe17c12f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VSGK4KYDQZ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-VSGK4KYDQZ', { 'anonymize_ip': true});
</script>
<style>html{ scroll-behavior: smooth; }</style>
<script>
    // Wait for the document to be fully loaded
    document.addEventListener("DOMContentLoaded", function () {
        // Create a new div element to hold the dynamic content
        var newContainer = document.createElement("div");
        newContainer.classList.add("custom-banner");  // You can assign a class to the new container for styling

        // You can also add content inside the new container
        newContainer.innerHTML = `
          <div class="banner">
              <img src="/images/ladal_icon_white.png" alt="Icon" class="banner-icon">
              <span class="banner-text">Language Technology and Data Analysis Laboratory</span>
          </div>
      `

        // Select the header element
        var header = document.getElementById("quarto-header");

        // Select the nav element inside the header to place the new container just above it
        var navbar = header.querySelector("nav");

        // Insert the new container before the navbar element
        header.insertBefore(newContainer, navbar);
    });
</script>
<script src="../../site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="../../site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet">
<link href="../../site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet">
<script src="../../site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="../../site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="../../site_libs/tabwid-1.1.3/tabwid.js"></script>


<link rel="stylesheet" href="../../css/styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Language Technology and Data Analysis Laboratory (LADAL)</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">ABOUT</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../events.html"> 
<span class="menu-text">EVENTS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials.html"> 
<span class="menu-text">TUTORIALS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tools.html"> 
<span class="menu-text">TOOLS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">RESOURCES</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html"> 
<span class="menu-text">CONTACT</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#preparation-and-session-set-up" id="toc-preparation-and-session-set-up" class="nav-link" data-scroll-target="#preparation-and-session-set-up">Preparation and session set up</a></li>
  </ul></li>
  <li><a href="#creating-dictionaries" id="toc-creating-dictionaries" class="nav-link" data-scroll-target="#creating-dictionaries">Creating dictionaries</a>
  <ul class="collapse">
  <li><a href="#correcting-and-extending-dictionaries" id="toc-correcting-and-extending-dictionaries" class="nav-link" data-scroll-target="#correcting-and-extending-dictionaries">Correcting and Extending Dictionaries</a></li>
  <li><a href="#generating-dictionaries-for-other-languages" id="toc-generating-dictionaries-for-other-languages" class="nav-link" data-scroll-target="#generating-dictionaries-for-other-languages">Generating dictionaries for other languages</a></li>
  </ul></li>
  <li><a href="#finding-synonyms-creating-a-thesaurus" id="toc-finding-synonyms-creating-a-thesaurus" class="nav-link" data-scroll-target="#finding-synonyms-creating-a-thesaurus">Finding synonyms: creating a thesaurus</a></li>
  <li><a href="#creating-bilingual-dictionaries" id="toc-creating-bilingual-dictionaries" class="nav-link" data-scroll-target="#creating-bilingual-dictionaries">Creating bilingual dictionaries</a></li>
  <li><a href="#going-further-crowd-sourced-dictionaries-with-r-and-git" id="toc-going-further-crowd-sourced-dictionaries-with-r-and-git" class="nav-link" data-scroll-target="#going-further-crowd-sourced-dictionaries-with-r-and-git">Going further: crowd-sourced dictionaries with R and Git</a></li>
  <li><a href="#citation-session-info" id="toc-citation-session-info" class="nav-link" data-scroll-target="#citation-session-info">Citation &amp; Session Info</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lexicography with R</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Martin Schweinberger </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><img src="../../images/uq1.jpg" class="img-fluid" style="width:100.0%"></p>
<section id="introduction" class="level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p>This tutorial introduces lexicography with R and shows how to use R to create dictionaries and find synonyms through determining semantic similarity in R. While the initial example focuses on English, subsequent sections show how easily this approach can be generalized to languages other than English (e.g.&nbsp;German, French, Spanish, Italian, or Dutch). The entire R-markdown document for the sections below can be downloaded <a href="tutorials/lex/lex.qmd">here</a>.</p>
<p>Traditionally, dictionaries are listing of words that are commonly arranged alphabetically, which may include information on definitions, usage, etymologies, pronunciations, translation, etc. <span class="citation" data-cites="agnes2002webster steiner1985dictionaries">(see <a href="#ref-agnes2002webster" role="doc-biblioref">Agnes, Goldman, and Soltis</a>; <a href="#ref-steiner1985dictionaries" role="doc-biblioref">Steiner</a>)</span>. If such dictionaries, that are typically published as books contain translations of words in other languages, they are referred to as lexicons. Therefore, lexicographical references show the inter-relationships among lexical data, i.e.&nbsp;words.</p>
<p>Similarly, in computational linguistics, dictionaries represent a specific format of data where elements are linked to or paired with other elements in a systematic way. <em>Computational lexicology</em> refers to a branch of computational linguistics, which is concerned with the use of computers in the study of lexicons. Hence, computational lexicology has been defined as the use of computers in the study of machine-readable dictionaries <span class="citation" data-cites="amsler1981structure">(see e.g. <a href="#ref-amsler1981structure" role="doc-biblioref">Amsler</a>)</span>. Computational lexicology is distinguished from <em>computational lexicography</em>, which can be defined as the use of computers in the construction of dictionaries which is the focus of this tutorial. It should be noted, thought, that computational lexicology and computational lexicography are often used synonymously.</p>
<section id="preparation-and-session-set-up" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="preparation-and-session-set-up">Preparation and session set up</h2>
<p>This tutorial is based on R. If you have not installed R or are new to it, you will find an introduction to and more information how to use R <a href="tutorials/intror/intror.html">here</a>. For this tutorials, we need to install certain <em>packages</em> from an R <em>library</em> so that the scripts shown below are executed without errors. Before turning to the code below, please install the packages by running the code below this paragraph. If you have already installed the packages mentioned below, then you can skip ahead and ignore this section. To install the necessary packages, simply run the following code - it may take some time (between 1 and 5 minutes to install all of the packages so you do not need to worry if it takes some time).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set options</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors =</span> F) <span class="co"># no automatic data transformation</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="st">"scipen"</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">"digits"</span> <span class="ot">=</span> <span class="dv">4</span>) <span class="co"># suppress math annotation</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install packages</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"stringr"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"udpipe"</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidytext"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"coop"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"cluster"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"flextable"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"textdata"</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># install klippy for copy-to-clipboard button in code chunks</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rlesur/klippy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In a next step, we load the packages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(udpipe)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(coop)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cluster)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># activate klippy for copy-to-clipboard button</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>klippy<span class="sc">::</span><span class="fu">klippy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
</div>
</div>
<p>Once you have installed R and RStudio and once you have initiated the session by executing the code shown above, you are good to go.</p>
</section>
</section>
<section id="creating-dictionaries" class="level1">
<h1>Creating dictionaries</h1>
<p>In a first step, we load a text. In this case, we load George Orwell’s <em>Nineteen Eighty-Four</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">"tutorials/lex/data/orwell.txt"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(<span class="at">collapse =</span> <span class="st">" "</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># show the first 500 characters of the text</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(text, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">stop =</span> <span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1984 George Orwell Part 1, Chapter 1 It was a bright cold day in April, and the clocks were striking thirteen. Winston Smith, his chin nuzzled into his breast in an effort to escape the vile wind, slipped quickly through the glass doors of Victory Mansions, though not quickly enough to prevent a swirl of gritty dust from entering along with him. The hallway smelt of boiled cabbage and old rag mats. At one end of it a coloured poster, too large for indoor display, had been tacked to the wall. It "</code></pre>
</div>
</div>
<p>Next, we download a <code>udpipe</code> language model. In this case, we download a <code>udpipe</code> language model for English, but you can download <code>udpipe</code> language models for more than 60 languages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># download language model</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>m_eng <span class="ot">&lt;-</span> udpipe<span class="sc">::</span><span class="fu">udpipe_download_model</span>(<span class="at">language =</span> <span class="st">"english-ewt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In my case, I have stored this model in a folder called <code>udpipemodels</code> and you can load it (if you have also save the model in a folder called <code>udpipemodels</code> within your Rproj folder as shown below. )</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load language model from your computer after you have downloaded it once</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>m_eng <span class="ot">&lt;-</span> <span class="fu">udpipe_load_model</span>(<span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"udpipemodels"</span>, <span class="st">"english-ewt-ud-2.5-191206.udpipe"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In a next step, we implement the part-of-speech tagger.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenise, tag, dependency parsing</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>text_ann <span class="ot">&lt;-</span> udpipe<span class="sc">::</span><span class="fu">udpipe_annotate</span>(m_eng, <span class="at">x =</span> text) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># convert into a data frame</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove columns we do not need</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span>sentence, <span class="sc">-</span>paragraph_id, <span class="sc">-</span>sentence_id, <span class="sc">-</span>feats,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span>head_token_id, <span class="sc">-</span>dep_rel, <span class="sc">-</span>deps, <span class="sc">-</span>misc</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(text_ann, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   doc_id token_id   token   lemma  upos xpos
1    doc1        1    1984    1984 PROPN  NNP
2    doc1        2  George  George PROPN  NNP
3    doc1        3  Orwell  Orwell PROPN  NNP
4    doc1        4    Part    part PROPN  NNP
5    doc1        5       1       1   NUM   CD
6    doc1        6       ,       , PUNCT    ,
7    doc1        7 Chapter chapter PROPN  NNP
8    doc1        8       1       1   NUM   CD
9    doc1        1      It      it  PRON  PRP
10   doc1        2     was      be   AUX  VBD</code></pre>
</div>
</div>
<p>We can now use the resulting table to generate a first, basic dictionary that holds information about the word form (<em>token</em>), the part-of speech tag (<em>upos</em>), the lemmatized word type (<em>lemma</em>), and the frequency with which the word form is used as that part-of speech.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># generate dictionary</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>text_dict_raw <span class="ot">&lt;-</span> text_ann <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove non-words</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span>stringr<span class="sc">::</span><span class="fu">str_detect</span>(token, <span class="st">"</span><span class="sc">\\</span><span class="st">W"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter out numbers</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span>stringr<span class="sc">::</span><span class="fu">str_detect</span>(token, <span class="st">"[0-9]"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># group data</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(token, lemma, upos) <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># summarize data</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">frequency =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># arrange by frequency</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>frequency)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(text_dict_raw, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
# Groups:   token, lemma [10]
   token lemma upos  frequency
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;
 1 the   the   DET        5249
 2 of    of    ADP        2908
 3 a     a     DET        2277
 4 and   and   CCONJ      2064
 5 was   be    AUX        1795
 6 in    in    ADP        1446
 7 to    to    PART       1336
 8 it    it    PRON       1295
 9 he    he    PRON       1270
10 had   have  AUX        1018</code></pre>
</div>
</div>
<p>The above display is ordered by frequency but it is, of course more common, to arrange dictionaries alphabetically. To do this, we can simply use the <code>àrrange</code> function from the <code>dplyr</code> package as shown below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># generate dictionary</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>text_dict <span class="ot">&lt;-</span> text_dict_raw <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># arrange alphabetically</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(token)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(text_dict, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
# Groups:   token, lemma [9]
   token     lemma     upos  frequency
   &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;int&gt;
 1 A         a         DET         107
 2 A         a         NOUN          1
 3 AND       and       CCONJ         2
 4 Aaronson  Aaronson  PROPN         8
 5 About     about     ADV           4
 6 Above     above     ADP           2
 7 Abruptly  abruptly  ADV           2
 8 Actually  actually  ADV          13
 9 Adam      Adam      PROPN         1
10 Admission admission NOUN          1</code></pre>
</div>
</div>
<p>We have now generated a basic dictionary of English but, as you can see above, there are still some errors as the part-of-speech tagging was not perfect. As such, you will still need to check and edit the results manually but you have already a rather clean dictionary based on George Orwell’s <em>Nineteen Eighty-Four</em> to work with.</p>
<section id="correcting-and-extending-dictionaries" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="correcting-and-extending-dictionaries">Correcting and Extending Dictionaries</h2>
<p>Fortunately, it is very easy in R to correct entries, i.e., changing lemmas or part-of-speech tags, and to extend entries, i.e., adding additional layers of information such as urls or examples.</p>
<p>We will begin to extend our dictionary by adding an additional column (called <code>annotation</code>) in which we will add information.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># generate dictionary</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>text_dict_ext <span class="ot">&lt;-</span> text_dict <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># removing an entry</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span>(lemma <span class="sc">==</span> <span class="st">"a"</span> <span class="sc">&amp;</span> upos <span class="sc">==</span> <span class="st">"NOUN"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># editing entries</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">upos =</span> <span class="fu">ifelse</span>(lemma <span class="sc">==</span> <span class="st">"aback"</span> <span class="sc">&amp;</span> upos <span class="sc">==</span> <span class="st">"NOUN"</span>, <span class="st">"PREP"</span>, upos)) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adding comments</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">comment =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    lemma <span class="sc">==</span> <span class="st">"a"</span> <span class="sc">~</span> <span class="st">"also an before vowels"</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    lemma <span class="sc">==</span> <span class="st">"Aaronson"</span> <span class="sc">~</span> <span class="st">"Name of someone."</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    T <span class="sc">~</span> <span class="st">""</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(text_dict_ext, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 5
# Groups:   token, lemma [10]
   token     lemma     upos  frequency comment                
   &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;int&gt; &lt;chr&gt;                  
 1 A         a         DET         107 "also an before vowels"
 2 AND       and       CCONJ         2 ""                     
 3 Aaronson  Aaronson  PROPN         8 "Name of someone."     
 4 About     about     ADV           4 ""                     
 5 Above     above     ADP           2 ""                     
 6 Abruptly  abruptly  ADV           2 ""                     
 7 Actually  actually  ADV          13 ""                     
 8 Adam      Adam      PROPN         1 ""                     
 9 Admission admission NOUN          1 ""                     
10 Africa    Africa    PROPN        10 ""                     </code></pre>
</div>
</div>
<p>To make it a bit more interesting but also keep this tutorial simple and straight-forward, we will add information about the polarity and emotionally of the words in our dictionary. We can do this by performing a sentiment analysis on the lemmas using the <code>tidytext</code> package.</p>
<p>The <code>tidytext</code> package contains three sentiment dictionaries (<code>nrc</code>, <code>bing</code>, and <code>afinn</code>). For the present purpose, we use the <code>ncr</code>dictionary which represents the Word-Emotion Association Lexicon <span class="citation" data-cites="mohammad2013crowdsourcing">(<a href="#ref-mohammad2013crowdsourcing" role="doc-biblioref">Mohammad and Turney</a>)</span>. The Word-Emotion Association Lexicon which comprises 10,170 terms, and in which lexical elements are assigned scores based on ratings gathered through the crowd-sourced Amazon Mechanical Turk service. For the Word-Emotion Association Lexicon raters were asked whether a given word was associated with one of eight emotions. The resulting associations between terms and emotions are based on 38,726 ratings from 2,216 raters who answered a sequence of questions for each word which were then fed into the emotion association rating <span class="citation" data-cites="mohammad2013crowdsourcing">(cf. <a href="#ref-mohammad2013crowdsourcing" role="doc-biblioref">Mohammad and Turney</a>)</span>. Each term was rated 5 times. For 85 percent of words, at least 4 raters provided identical ratings. For instance, the word <em>cry</em> or <em>tragedy</em> are more readily associated with SADNESS while words such as <em>happy</em> or <em>beautiful</em> are indicative of JOY and words like <em>fit</em> or <em>burst</em> may indicate ANGER. This means that the sentiment analysis here allows us to investigate the expression of certain core emotions rather than merely classifying statements along the lines of a crude positive-negative distinction.</p>
<p>To be able to use the Word-Emotion Association Lexicon we need to add another column to our data frame called <code>word</code> which simply contains the lemmatized word. The reason is that the lexicon expects this column and only works if it finds a word column in the data. The code below shows how to add the emotion and polarity entries to our dictionary.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># generate dictionary</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>text_dict_snt <span class="ot">&lt;-</span> text_dict_ext <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">word =</span> lemma) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(<span class="fu">get_sentiments</span>(<span class="st">"bing"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(token, lemma, upos, comment) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">sentiment =</span> <span class="fu">paste0</span>(sentiment, <span class="at">collapse =</span> <span class="st">", "</span>))</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(text_dict_snt, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 5
# Groups:   token, lemma, upos [10]
   token     lemma     upos  comment                 sentiment
   &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;                   &lt;chr&gt;    
 1 A         a         DET   "also an before vowels" NA       
 2 AND       and       CCONJ ""                      NA       
 3 Aaronson  Aaronson  PROPN "Name of someone."      NA       
 4 About     about     ADV   ""                      NA       
 5 Above     above     ADP   ""                      NA       
 6 Abruptly  abruptly  ADV   ""                      negative 
 7 Actually  actually  ADV   ""                      NA       
 8 Adam      Adam      PROPN ""                      NA       
 9 Admission admission NOUN  ""                      NA       
10 Africa    Africa    PROPN ""                      NA       </code></pre>
</div>
</div>
<p>The resulting extended dictionary now contains not only the token, the lemma, and the pos-tag but also the sentiment from the Word-Emotion Association Lexicon.</p>
</section>
<section id="generating-dictionaries-for-other-languages" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="generating-dictionaries-for-other-languages">Generating dictionaries for other languages</h2>
<p>As mentioned above, the procedure for generating dictionaries can easily be applied to languages other than English. If you want to follow exactly the procedure described above, then the language set of the TreeTagger is the limiting factors as its R implementation only supports English, German, French, Italian, Spanish, and Dutch. fa part-of-speech tagged text in another language is already available to you, and you do not require the TreeTagger for the part-of-speech tagging, then you can skip the code chunk that is related to the tagging and you can modify the procedure described above to virtually any language.</p>
<p>We will now briefly create a German dictionary based on a subsection of the fairy tales collected by the brothers Grimm to show how the above procedure can be applied to a language other than English. In a first step, we load a German text into R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>grimm <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">"tutorials/lex/data/GrimmsFairytales.txt"</span>,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">encoding =</span> <span class="st">"latin1"</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(<span class="at">collapse =</span> <span class="st">" "</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># show the first 500 characters of the text</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(grimm, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">stop =</span> <span class="dv">200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Der Froschkönig oder der eiserne Heinrich  Ein Märchen der Brüder Grimm Brüder Grimm  In den alten Zeiten, wo das Wünschen noch geholfen hat, lebte ein König, dessen Töchter waren alle schön; aber die"</code></pre>
</div>
</div>
<p>Next, we download a <code>udpipe</code> language model. In this case, we download a <code>udpipe</code> language model for German, but you can download <code>udpipe</code> language models for more than 60 languages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># download language model</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>udpipe<span class="sc">::</span><span class="fu">udpipe_download_model</span>(<span class="at">language =</span> <span class="st">"german-hdt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In my case, I have stored this model in a folder called <code>udpipemodels</code> and you can load it (if you have also save the model in a folder called <code>udpipemodels</code> within your Rproj folder as shown below).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load language model from your computer after you have downloaded it once</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>m_ger <span class="ot">&lt;-</span> <span class="fu">udpipe_load_model</span>(<span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"udpipemodels"</span>,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># "german-hdt-ud-2.5-191206.udpipe"))</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"german-gsd-ud-2.5-191206.udpipe"</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In a next step, we generating the dictionary based on the brothers’ Grimm fairy tales. We go through the same steps as for the English dictionary and collapse all the steps into a single code block.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenise, tag, dependency parsing</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>grimm_ann <span class="ot">&lt;-</span> udpipe<span class="sc">::</span><span class="fu">udpipe_annotate</span>(m_ger, <span class="at">x =</span> grimm) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># convert into a data frame</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove non-words</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span>stringr<span class="sc">::</span><span class="fu">str_detect</span>(token, <span class="st">"</span><span class="sc">\\</span><span class="st">W"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter out numbers</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span>stringr<span class="sc">::</span><span class="fu">str_detect</span>(token, <span class="st">"[0-9]"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(token, lemma, upos) <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">frequency =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(lemma)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(grimm_ann, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
# Groups:   token, lemma [10]
   token           lemma           upos  frequency
   &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;     &lt;int&gt;
 1 A               A               NOUN          1
 2 Abend           Abend           NOUN          3
 3 Abschied        Abschied        NOUN          1
 4 Ade             Ade             NOUN          2
 5 Allergnädigster Allergnädigster ADJ           1
 6 Alte            Alte            NOUN          1
 7 Angst           Angst           NOUN          1
 8 Antwort         Antwort         NOUN          1
 9 Anwesenden      Anwesende       NOUN          1
10 Anzahl          Anzahl          NOUN          1</code></pre>
</div>
</div>
<p>As with the English dictionary, we have created a customized German dictionary based of a subsample of the brothers’ Grimm fairy tales holding the word form(<em>token</em>), the part-of-speech tag (<em>tag</em>), the lemmatized word type (<em>lemma</em>), the general word class (<em>wclass</em>), ad the frequency with which a word form occurs as a part-of-speech in the data (<em>frequency</em>).</p>
</section>
</section>
<section id="finding-synonyms-creating-a-thesaurus" class="level1">
<h1>Finding synonyms: creating a thesaurus</h1>
<p>Another task that is quite common in lexicography is to determine if words share some form of relationship such as whether they are synonyms or antonyms. In computational linguistics, this is commonly determined based on the collocational profiles of words. These collocational profiles are also called <em>word vectors</em> or <em>word embeddings</em> and approaches which determine semantic similarity based on collocational profiles or word embeddings are called distributional approaches (or distributional semantics). The basic assumption of distributional approaches is that words that occur in the same context and therefore have similar collocational profiles are also semantically similar. In fact, various packages, such as <code>qdap</code> or , <code>wordnet</code> already provide synonyms for terms (all of which are based on similar collocational profiles) but we would like to determine if words are similar without knowing it in advance.</p>
<p>In this example, we want to determine if two degree adverbs (such as <em>very</em>, <em>really</em>, <em>so</em>, <em>completely</em>, <em>totally</em>, <em>amazingly</em>, etc.) are synonymous and can therefore be exchanged without changing the meaning of the sentence (or, at least, not changing it dramatically). This is relevant in lexicography as such terms can then be linked to each other and inform readers that these words are interchangeable.</p>
<p>As a first step, we load the data which contains three columns:</p>
<ul>
<li><p>one column holding the degree adverbs which is called <em>pint</em></p></li>
<li><p>one column called <em>adjs</em> holding the adjectives that the degree adverbs have modified</p></li>
<li><p>one column called <em>remove</em> which contains the word <em>keep</em> and which we will remove as it is not relevant for this tutorial</p></li>
</ul>
<p>When loading the data, we</p>
<ul>
<li><p>remove the <em>remove</em> column</p></li>
<li><p>rename the <em>pint</em> column as <em>degree_adverb</em></p></li>
<li><p>rename the <em>adjs</em> column as <em>adjectives</em></p></li>
<li><p>filter out all instances where the degree adverb column has the value <code>0</code> (which means that the adjective was not modified)</p></li>
<li><p>remove instances where <em>well</em> functions as a degree adverb (because it behaves rather differently from other degree adverbs)</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load data</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>degree_adverbs <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">readRDS</span>(<span class="st">"tutorials/lex/data/dad.rda"</span>, <span class="st">"rb"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>remove) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">degree_adverb =</span> pint,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">adjective =</span> adjs</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    degree_adverb <span class="sc">!=</span> <span class="st">"0"</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    degree_adverb <span class="sc">!=</span> <span class="st">"well"</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(degree_adverbs, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   degree_adverb adjective
1           real       bad
2         really      nice
3           very      good
4         really     early
5         really       bad
6         really       bad
7             so      long
8         really wonderful
9         pretty      good
10        really      easy</code></pre>
</div>
</div>
<p>In a next step, we create a matrix from this data frame which maps how often a given amplifier co-occurred with a given adjective. In text mining, this format is called a text-document matrix or tdm (which is a transposed <a href="https://en.wikipedia.org/wiki/Document-term_matrix">document-term matrix</a> of dtm).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tabulate data (create term-document matrix)</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>tdm <span class="ot">&lt;-</span> <span class="fu">ftable</span>(degree_adverbs<span class="sc">$</span>adjective, degree_adverbs<span class="sc">$</span>degree_adverb)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># extract amplifiers and adjectives</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>amplifiers <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(<span class="fu">unlist</span>(<span class="fu">attr</span>(tdm, <span class="st">"col.vars"</span>)[<span class="dv">1</span>]))</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>adjectives <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(<span class="fu">unlist</span>(<span class="fu">attr</span>(tdm, <span class="st">"row.vars"</span>)[<span class="dv">1</span>]))</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># attach row and column names to tdm</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(tdm) <span class="ot">&lt;-</span> adjectives</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tdm) <span class="ot">&lt;-</span> amplifiers</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect data</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>tdm[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          completely extremely pretty real really
able               0         1      0    0      0
actual             0         0      0    1      0
amazing            0         0      0    0      4
available          0         0      0    0      1
bad                0         0      1    2      3</code></pre>
</div>
</div>
<p>In a next step, we extract the expected values of the co-occurrences if the amplifiers were distributed homogeneously and calculate the <em>Pointwise Mutual Information</em> (PMI) score and use that to then calculate the <em>Positive Pointwise Mutual Information</em> (PPMI) scores. According to <span class="citation" data-cites="levshina2015linguistics">Levshina</span> 327 - referring to <span class="citation" data-cites="bullinaria2007extracting">Bullinaria and Levy</span> - PPMI perform better than PMI as negative values are replaced with zeros. In a next step, we calculate the cosine similarity which will for the bases for the subsequent clustering.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compute expected values</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>tdm.exp <span class="ot">&lt;-</span> <span class="fu">chisq.test</span>(tdm)<span class="sc">$</span>expected</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate PMI and PPMI</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>PMI <span class="ot">&lt;-</span> <span class="fu">log2</span>(tdm <span class="sc">/</span> tdm.exp)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>PPMI <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(PMI <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, PMI)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate cosine similarity</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>cosinesimilarity <span class="ot">&lt;-</span> <span class="fu">cosine</span>(PPMI)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect cosine values</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>cosinesimilarity[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           completely   extremely      pretty       real      really
completely 1.00000000 0.204188725 0.000000000 0.05304354 0.126668434
extremely  0.20418873 1.000000000 0.007319316 0.00000000 0.004235346
pretty     0.00000000 0.007319316 1.000000000 0.09441299 0.062323271
real       0.05304354 0.000000000 0.094412995 1.00000000 0.131957473
really     0.12666843 0.004235346 0.062323271 0.13195747 1.000000000</code></pre>
</div>
</div>
<p>As we have now obtained a similarity measure, we can go ahead and perform a cluster analysis on these similarity values. However, as we have to extract the maximum values in the similarity matrix that is not 1 as we will use this to create a distance matrix. While we could also have simply subtracted the cosine similarity values from 1 to convert the similarity matrix into a distance matrix, we follow the procedure proposed by <span class="citation" data-cites="levshina2015linguistics">Levshina</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find max value that is not 1</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>cosinesimilarity.test <span class="ot">&lt;-</span> <span class="fu">apply</span>(cosinesimilarity, <span class="dv">1</span>, <span class="cf">function</span>(x) {</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(x <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">0</span>, x)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>maxval <span class="ot">&lt;-</span> <span class="fu">max</span>(cosinesimilarity.test)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co"># create distance matrix</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>amplifier.dist <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> (cosinesimilarity <span class="sc">/</span> maxval)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>clustd <span class="ot">&lt;-</span> <span class="fu">as.dist</span>(amplifier.dist)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In a next step, we visualize the results of the semantic vector space model as a dendrogram.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create cluster object</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>cd <span class="ot">&lt;-</span> <span class="fu">hclust</span>(clustd, <span class="at">method =</span> <span class="st">"ward.D"</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># plot cluster object</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cd, <span class="at">main =</span> <span class="st">""</span>, <span class="at">sub =</span> <span class="st">""</span>, <span class="at">yaxt =</span> <span class="st">"n"</span>, <span class="at">ylab =</span> <span class="st">""</span>, <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">cex =</span> .<span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="lex_files/figure-html/vsm8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The clustering solution shows that, as expected, <em>completely</em>, <em>extremely</em>, and <em>totally</em> - while similar to each other and thus interchangeable with each other - form a separate cluster from all other amplifiers. In addition, <em>real</em> and <em>really</em> form a cluster together. The clustering of <em>very</em>, <em>pretty</em>, <em>so</em>, <em>really</em>, and <em>real</em> suggest that these amplifiers are more or less interchangeable with each other but not with <em>totally</em>, <em>completely</em>, and <em>extremely</em>.</p>
<p>To extract synonyms automatically, we can use the cosine similarity matrix that a´we generated before. This is what we need to do:</p>
<ul>
<li>generate a column called word</li>
<li>replace the perfect similarity values of the diagonal with 0</li>
<li>look up the lowest value, i.e.&nbsp;the word that has the lowest distance to a given word</li>
<li>create a vector which holds those words (the synonym candidates).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>syntb <span class="ot">&lt;-</span> cosinesimilarity <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">colnames</span>(cosinesimilarity)) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_each</span>(<span class="fu">funs</span>(<span class="fu">replace</span>(., . <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">0</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">synonym =</span> <span class="fu">colnames</span>(.)[<span class="fu">apply</span>(., <span class="dv">1</span>, which.max)]) <span class="sc">%&gt;%</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(word, synonym)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>syntb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 word    synonym
completely completely  extremely
extremely   extremely completely
pretty         pretty       real
real             real     really
really         really       real
so                 so       real
totally       totally completely
very             very         so</code></pre>
</div>
</div>
<hr>
<div class="warning" style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<b>NOTE</b><br><br>Remember that this is only a tutorial! A proper study would have to take the syntactic context into account because, while we can say <em>This really great tutorial helped me a lot</em>. we probably would not say <em>This so great tutorial helped me a lot</em>. This is because so syntactically more restricted and is strongly disfavored in attributive contexts. Therefore, the syntactic context would have to be considered in a more thorough study.
</p>
<p style="margin-left:1em;">
</p>
<p></p>
</span></div>
<div class="question">
<p>`</p>
</div>
<hr>
<p>There are many more useful methods for identifying semantic similarity. A very useful method (which we have implemented here but only superficially is Semantic Vector Space Modeling. If you want to know more about this, this <a href="https://gederajeg.github.io/vector_space_model_indonesian/">tutorial by Gede Primahadi Wijaya Rajeg, Karlina Denistia, and Simon Musgrave</a> <span class="citation" data-cites="rajeg2020semvec">(<a href="#ref-rajeg2020semvec" role="doc-biblioref">Rajeg, Denistia, and Musgrave</a>)</span> is highly recommended and will give a better understanding of SVM but this should suffice to get you started.</p>
</section>
<section id="creating-bilingual-dictionaries" class="level1">
<h1>Creating bilingual dictionaries</h1>
<p>Dictionaries commonly contain information about elements. Bilingual or translation dictionaries represent a sub-category of dictionaries that provide a specific type of information about a given word: the translation of that word in another language. In principle, generating translation dictionaries is relatively easy and straight forward. However, not only is the devil hidden in the details but the generation of data-driven translation dictionaries also require a substantial data set consisting of sentences and their translation. This is often quite tricky as well aligned translations are unfortunately, and unexpectedly, rather hard to come by.</p>
<p>Despite these issues, if you have access to clean and well aligned, parallel multilingual data, then you simply need to check which correlation between the word in language A and language B is the highest and you have a likely candidate for its translation. The same procedure can be extended to generate multilingual dictionaries. Problems arise due to grammatical differences between languages, idiomatic expressions, homonymy and polysemy as well as due to word class issues. The latter, word class issues, can be solved by part-of-speech tagging and then only considering words that belong to the same (or realistically similar) parts-of speech. The other issues can also be solved but require substantial amounts of (annotated) data.</p>
<p>To explore how to generate a multilingual lexicon, we load a sample of English sentences and their German translations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load translations</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>translations <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">"tutorials/lex/data/translation.txt"</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">encoding =</span> <span class="st">"UTF-8"</span>, <span class="at">skipNul =</span> T</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-f9855c08{table-layout:auto;width:50%;}.cl-f97d68e0{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f97d68f4{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f980c260{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f980e498{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f980e4a2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f980e4a3{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f980e4ac{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-f9855c08"><thead><tr style="overflow-wrap:break-word;"><th class="cl-f980e498"><p class="cl-f980c260"><span class="cl-f97d68e0">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a2"><p class="cl-f980c260"><span class="cl-f97d68f4">Guten Tag! — Good day! </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a3"><p class="cl-f980c260"><span class="cl-f97d68f4">Guten Morgen! — Good morning!</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a2"><p class="cl-f980c260"><span class="cl-f97d68f4">Guten Abend! — Good evening!</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a3"><p class="cl-f980c260"><span class="cl-f97d68f4">Hallo! — Hello!</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a2"><p class="cl-f980c260"><span class="cl-f97d68f4">Wo kommst du her? — Where are you from?</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a3"><p class="cl-f980c260"><span class="cl-f97d68f4">Woher kommen Sie? — Where are you from?</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a2"><p class="cl-f980c260"><span class="cl-f97d68f4">Ich bin aus Hamburg.  — I am from Hamburg.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a3"><p class="cl-f980c260"><span class="cl-f97d68f4">Ich komme aus Hamburg. — I come from Hamburg.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a2"><p class="cl-f980c260"><span class="cl-f97d68f4">Ich bin Deutscher. — I am German.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a3"><p class="cl-f980c260"><span class="cl-f97d68f4">Schön Sie zu treffen. — Pleasure to meet you!</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a2"><p class="cl-f980c260"><span class="cl-f97d68f4">Wie lange lebst du schon in Brisbane? — How long have you been living in Brisbane?</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a3"><p class="cl-f980c260"><span class="cl-f97d68f4">Leben Sie schon lange hier? — Have you been living here for long?</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a2"><p class="cl-f980c260"><span class="cl-f97d68f4">Welcher Bus geht nach Brisbane? — Which bus goes to Brisbane?</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4a3"><p class="cl-f980c260"><span class="cl-f97d68f4">Von welchem Gleis aus fährt der Zug? — Which platform is the train leaving from?</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f980e4ac"><p class="cl-f980c260"><span class="cl-f97d68f4">Ist dies der Bus nach Toowong? — Is this the bus going to Toowong?</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>In a next step, we generate separate tables which hold the German and English sentences. However, the sentences and their translations are identified by an identification number (<em>id</em>) so that we keep the information about which sentence is linked to which translation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># german sentences</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>german <span class="ot">&lt;-</span> <span class="fu">str_remove_all</span>(translations, <span class="st">" — .*"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(., <span class="st">"[:punct:]"</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># english sentences</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>english <span class="ot">&lt;-</span> <span class="fu">str_remove_all</span>(translations, <span class="st">".* — "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(., <span class="st">"[:punct:]"</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># sentence id</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>sentence <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(german)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co"># combine into table</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>germantb <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(sentence, german)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="co"># sentence id</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>sentence <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(english)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="co"># combine into table</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>englishtb <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(sentence, english)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-f9a0f1f2{table-layout:auto;width:50%;}.cl-f999e3da{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f999e3e4{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f99ce724{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f99ce738{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f99d0416{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f99d042a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f99d042b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f99d0434{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f99d043e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f99d043f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f99d0448{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f99d0452{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-f9a0f1f2"><thead><tr style="overflow-wrap:break-word;"><th class="cl-f99d0416"><p class="cl-f99ce724"><span class="cl-f999e3da">sentence</span></p></th><th class="cl-f99d042a"><p class="cl-f99ce738"><span class="cl-f999e3da">german</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f99d042b"><p class="cl-f99ce724"><span class="cl-f999e3e4">1</span></p></td><td class="cl-f99d0434"><p class="cl-f99ce738"><span class="cl-f999e3e4">Guten Tag</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d043e"><p class="cl-f99ce724"><span class="cl-f999e3e4">2</span></p></td><td class="cl-f99d043f"><p class="cl-f99ce738"><span class="cl-f999e3e4">Guten Morgen</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d042b"><p class="cl-f99ce724"><span class="cl-f999e3e4">3</span></p></td><td class="cl-f99d0434"><p class="cl-f99ce738"><span class="cl-f999e3e4">Guten Abend</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d043e"><p class="cl-f99ce724"><span class="cl-f999e3e4">4</span></p></td><td class="cl-f99d043f"><p class="cl-f99ce738"><span class="cl-f999e3e4">Hallo</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d042b"><p class="cl-f99ce724"><span class="cl-f999e3e4">5</span></p></td><td class="cl-f99d0434"><p class="cl-f99ce738"><span class="cl-f999e3e4">Wo kommst du her</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d043e"><p class="cl-f99ce724"><span class="cl-f999e3e4">6</span></p></td><td class="cl-f99d043f"><p class="cl-f99ce738"><span class="cl-f999e3e4">Woher kommen Sie</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d042b"><p class="cl-f99ce724"><span class="cl-f999e3e4">7</span></p></td><td class="cl-f99d0434"><p class="cl-f99ce738"><span class="cl-f999e3e4">Ich bin aus Hamburg </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d043e"><p class="cl-f99ce724"><span class="cl-f999e3e4">8</span></p></td><td class="cl-f99d043f"><p class="cl-f99ce738"><span class="cl-f999e3e4">Ich komme aus Hamburg</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d042b"><p class="cl-f99ce724"><span class="cl-f999e3e4">9</span></p></td><td class="cl-f99d0434"><p class="cl-f99ce738"><span class="cl-f999e3e4">Ich bin Deutscher</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d043e"><p class="cl-f99ce724"><span class="cl-f999e3e4">10</span></p></td><td class="cl-f99d043f"><p class="cl-f99ce738"><span class="cl-f999e3e4">Schön Sie zu treffen</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d042b"><p class="cl-f99ce724"><span class="cl-f999e3e4">11</span></p></td><td class="cl-f99d0434"><p class="cl-f99ce738"><span class="cl-f999e3e4">Wie lange lebst du schon in Brisbane</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d043e"><p class="cl-f99ce724"><span class="cl-f999e3e4">12</span></p></td><td class="cl-f99d043f"><p class="cl-f99ce738"><span class="cl-f999e3e4">Leben Sie schon lange hier</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d042b"><p class="cl-f99ce724"><span class="cl-f999e3e4">13</span></p></td><td class="cl-f99d0434"><p class="cl-f99ce738"><span class="cl-f999e3e4">Welcher Bus geht nach Brisbane</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d043e"><p class="cl-f99ce724"><span class="cl-f999e3e4">14</span></p></td><td class="cl-f99d043f"><p class="cl-f99ce738"><span class="cl-f999e3e4">Von welchem Gleis aus fährt der Zug</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f99d0448"><p class="cl-f99ce724"><span class="cl-f999e3e4">15</span></p></td><td class="cl-f99d0452"><p class="cl-f99ce738"><span class="cl-f999e3e4">Ist dies der Bus nach Toowong</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We now unnest the tokens (split the sentences into words) and subsequently add the translations which we again unnest. The resulting table consists of two columns holding German and English words. The relevant point here is that each German word is linked with each English word that occurs in the translated sentence.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plyr)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenize by sentence: german</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>transtb <span class="ot">&lt;-</span> germantb <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, german) <span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add english data</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  plyr<span class="sc">::</span><span class="fu">join</span>(., englishtb, <span class="at">by =</span> <span class="st">"sentence"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(trans, english) <span class="sc">%&gt;%</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">german =</span> word,</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">english =</span> trans</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(german, english) <span class="sc">%&gt;%</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">german =</span> <span class="fu">factor</span>(german),</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">english =</span> <span class="fu">factor</span>(english)</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-f9bf9eae{table-layout:auto;width:25%;}.cl-f9b84db6{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f9b84dca{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f9bb6280{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f9bb81ac{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9bb81b6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9bb81c0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9bb81ca{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9bb81cb{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9bb81d4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9bb81de{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9bb81e8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-f9bf9eae"><thead><tr style="overflow-wrap:break-word;"><th class="cl-f9bb81ac"><p class="cl-f9bb6280"><span class="cl-f9b84db6">german</span></p></th><th class="cl-f9bb81b6"><p class="cl-f9bb6280"><span class="cl-f9b84db6">english</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81c0"><p class="cl-f9bb6280"><span class="cl-f9b84dca">guten</span></p></td><td class="cl-f9bb81ca"><p class="cl-f9bb6280"><span class="cl-f9b84dca">good</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81cb"><p class="cl-f9bb6280"><span class="cl-f9b84dca">guten</span></p></td><td class="cl-f9bb81d4"><p class="cl-f9bb6280"><span class="cl-f9b84dca">day</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81c0"><p class="cl-f9bb6280"><span class="cl-f9b84dca">tag</span></p></td><td class="cl-f9bb81ca"><p class="cl-f9bb6280"><span class="cl-f9b84dca">good</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81cb"><p class="cl-f9bb6280"><span class="cl-f9b84dca">tag</span></p></td><td class="cl-f9bb81d4"><p class="cl-f9bb6280"><span class="cl-f9b84dca">day</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81c0"><p class="cl-f9bb6280"><span class="cl-f9b84dca">guten</span></p></td><td class="cl-f9bb81ca"><p class="cl-f9bb6280"><span class="cl-f9b84dca">good</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81cb"><p class="cl-f9bb6280"><span class="cl-f9b84dca">guten</span></p></td><td class="cl-f9bb81d4"><p class="cl-f9bb6280"><span class="cl-f9b84dca">morning</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81c0"><p class="cl-f9bb6280"><span class="cl-f9b84dca">morgen</span></p></td><td class="cl-f9bb81ca"><p class="cl-f9bb6280"><span class="cl-f9b84dca">good</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81cb"><p class="cl-f9bb6280"><span class="cl-f9b84dca">morgen</span></p></td><td class="cl-f9bb81d4"><p class="cl-f9bb6280"><span class="cl-f9b84dca">morning</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81c0"><p class="cl-f9bb6280"><span class="cl-f9b84dca">guten</span></p></td><td class="cl-f9bb81ca"><p class="cl-f9bb6280"><span class="cl-f9b84dca">good</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81cb"><p class="cl-f9bb6280"><span class="cl-f9b84dca">guten</span></p></td><td class="cl-f9bb81d4"><p class="cl-f9bb6280"><span class="cl-f9b84dca">evening</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81c0"><p class="cl-f9bb6280"><span class="cl-f9b84dca">abend</span></p></td><td class="cl-f9bb81ca"><p class="cl-f9bb6280"><span class="cl-f9b84dca">good</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81cb"><p class="cl-f9bb6280"><span class="cl-f9b84dca">abend</span></p></td><td class="cl-f9bb81d4"><p class="cl-f9bb6280"><span class="cl-f9b84dca">evening</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81c0"><p class="cl-f9bb6280"><span class="cl-f9b84dca">hallo</span></p></td><td class="cl-f9bb81ca"><p class="cl-f9bb6280"><span class="cl-f9b84dca">hello</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81cb"><p class="cl-f9bb6280"><span class="cl-f9b84dca">wo</span></p></td><td class="cl-f9bb81d4"><p class="cl-f9bb6280"><span class="cl-f9b84dca">where</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9bb81de"><p class="cl-f9bb6280"><span class="cl-f9b84dca">wo</span></p></td><td class="cl-f9bb81e8"><p class="cl-f9bb6280"><span class="cl-f9b84dca">are</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Based on this table, we can now generate a term-document matrix which shows how frequently each word co-occurred in the translation of any of the sentences. For instance, the German word <em>alles</em> occurred one time in a translation of a sentence which contained the English word <em>all</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tabulate data (create term-document matrix)</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>tdm <span class="ot">&lt;-</span> <span class="fu">ftable</span>(transtb<span class="sc">$</span>german, transtb<span class="sc">$</span>english)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># extract amplifiers and adjectives</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>german <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(<span class="fu">unlist</span>(<span class="fu">attr</span>(tdm, <span class="st">"col.vars"</span>)[<span class="dv">1</span>]))</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>english <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(<span class="fu">unlist</span>(<span class="fu">attr</span>(tdm, <span class="st">"row.vars"</span>)[<span class="dv">1</span>]))</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co"># attach row and column names to tdm</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(tdm) <span class="ot">&lt;-</span> english</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tdm) <span class="ot">&lt;-</span> german</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect data</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>tdm[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         a accident all am ambulance an and any anything are
ab       0        0   0  0         0  0   0   0        0   0
abend    0        0   0  0         0  0   0   0        0   0
allem    0        0   0  0         0  0   0   0        0   0
alles    0        0   1  0         0  0   0   0        0   0
am       0        0   0  0         0  0   0   0        0   0
an       0        0   0  0         0  0   0   0        0   0
anderen  1        0   0  0         0  0   0   0        0   0
apotheke 1        0   0  1         0  0   0   0        0   0
arzt     1        0   0  0         0  0   0   0        0   0
auch     3        0   0  0         0  0   0   0        1   0</code></pre>
</div>
</div>
<p>Now, we reformat this co-occurrence matrix so that we have the frequency information that is necessary for setting up 2x2 contingency tables which we will use to calculate the co-occurrence strength between each word and its potential translation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>coocdf <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.matrix</span>(tdm))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>cooctb <span class="ot">&lt;-</span> coocdf <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">German =</span> <span class="fu">rownames</span>(coocdf)) <span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">gather</span>(</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    English, TermCoocFreq,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(coocdf)[<span class="dv">1</span>]<span class="sc">:</span><span class="fu">colnames</span>(coocdf)[<span class="fu">ncol</span>(coocdf)]</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">German =</span> <span class="fu">factor</span>(German),</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">English =</span> <span class="fu">factor</span>(English)</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">AllFreq =</span> <span class="fu">sum</span>(TermCoocFreq)) <span class="sc">%&gt;%</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(German) <span class="sc">%&gt;%</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">TermFreq =</span> <span class="fu">sum</span>(TermCoocFreq)) <span class="sc">%&gt;%</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>(German) <span class="sc">%&gt;%</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(English) <span class="sc">%&gt;%</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">CoocFreq =</span> <span class="fu">sum</span>(TermCoocFreq)) <span class="sc">%&gt;%</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(German) <span class="sc">%&gt;%</span></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">a =</span> TermCoocFreq,</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">b =</span> TermFreq <span class="sc">-</span> a,</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">c =</span> CoocFreq <span class="sc">-</span> a,</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">d =</span> AllFreq <span class="sc">-</span> (a <span class="sc">+</span> b <span class="sc">+</span> c)</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">NRows =</span> <span class="fu">nrow</span>(coocdf)) <span class="sc">%&gt;%</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TermCoocFreq <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-f9fe117a{table-layout:auto;width:75%;}.cl-f9f4a78e{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f9f4a7a2{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f9f85154{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f9f85172{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f9f87ac6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87ada{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87ae4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87ae5{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87aee{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87aef{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87af8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87b02{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87b03{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87b0c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87b16{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87b20{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87b21{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87b2a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87b2b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f9f87b34{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-f9fe117a"><thead><tr style="overflow-wrap:break-word;"><th class="cl-f9f87ac6"><p class="cl-f9f85154"><span class="cl-f9f4a78e">German</span></p></th><th class="cl-f9f87ada"><p class="cl-f9f85154"><span class="cl-f9f4a78e">English</span></p></th><th class="cl-f9f87ae4"><p class="cl-f9f85172"><span class="cl-f9f4a78e">TermCoocFreq</span></p></th><th class="cl-f9f87ae4"><p class="cl-f9f85172"><span class="cl-f9f4a78e">AllFreq</span></p></th><th class="cl-f9f87ae4"><p class="cl-f9f85172"><span class="cl-f9f4a78e">TermFreq</span></p></th><th class="cl-f9f87ae4"><p class="cl-f9f85172"><span class="cl-f9f4a78e">CoocFreq</span></p></th><th class="cl-f9f87ae4"><p class="cl-f9f85172"><span class="cl-f9f4a78e">a</span></p></th><th class="cl-f9f87ae4"><p class="cl-f9f85172"><span class="cl-f9f4a78e">b</span></p></th><th class="cl-f9f87ae4"><p class="cl-f9f85172"><span class="cl-f9f4a78e">c</span></p></th><th class="cl-f9f87ae4"><p class="cl-f9f85172"><span class="cl-f9f4a78e">d</span></p></th><th class="cl-f9f87ae5"><p class="cl-f9f85172"><span class="cl-f9f4a78e">NRows</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f9f87aee"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">ab</span></p></td><td class="cl-f9f87aef"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">departing</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,495</span></p></td><td class="cl-f9f87b02"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87b03"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">ab</span></p></td><td class="cl-f9f87b0c"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">is</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">116</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">115</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,384</span></p></td><td class="cl-f9f87b20"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87aee"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">ab</span></p></td><td class="cl-f9f87aef"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">the</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">125</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">124</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,375</span></p></td><td class="cl-f9f87b02"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87b03"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">ab</span></p></td><td class="cl-f9f87b0c"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">train</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">16</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">15</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,484</span></p></td><td class="cl-f9f87b20"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87aee"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">ab</span></p></td><td class="cl-f9f87aef"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">when</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">27</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">26</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,473</span></p></td><td class="cl-f9f87b02"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87b03"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">abend</span></p></td><td class="cl-f9f87b0c"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">evening</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">2</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">2</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,501</span></p></td><td class="cl-f9f87b20"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87aee"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">abend</span></p></td><td class="cl-f9f87aef"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">good</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">2</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">16</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">15</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,487</span></p></td><td class="cl-f9f87b02"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87b03"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">allem</span></p></td><td class="cl-f9f87b0c"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">döner</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">10</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">9</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,490</span></p></td><td class="cl-f9f87b20"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87aee"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">allem</span></p></td><td class="cl-f9f87aef"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">everything</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,495</span></p></td><td class="cl-f9f87b02"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87b03"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">allem</span></p></td><td class="cl-f9f87b0c"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">one</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">30</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">29</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,470</span></p></td><td class="cl-f9f87b20"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87aee"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">allem</span></p></td><td class="cl-f9f87aef"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">please</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">111</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">110</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,389</span></p></td><td class="cl-f9f87b02"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87b03"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">allem</span></p></td><td class="cl-f9f87b0c"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">with</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">22</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">21</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,478</span></p></td><td class="cl-f9f87b20"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87aee"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">alles</span></p></td><td class="cl-f9f87aef"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">all</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">6</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">4</span></p></td><td class="cl-f9f87af8"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,494</span></p></td><td class="cl-f9f87b02"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87b03"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">alles</span></p></td><td class="cl-f9f87b0c"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">for</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">6</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">93</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">92</span></p></td><td class="cl-f9f87b16"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,406</span></p></td><td class="cl-f9f87b20"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f9f87b21"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">alles</span></p></td><td class="cl-f9f87b2a"><p class="cl-f9f85154"><span class="cl-f9f4a7a2">no</span></p></td><td class="cl-f9f87b2b"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b2b"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,504</span></p></td><td class="cl-f9f87b2b"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">6</span></p></td><td class="cl-f9f87b2b"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">7</span></p></td><td class="cl-f9f87b2b"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">1</span></p></td><td class="cl-f9f87b2b"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">5</span></p></td><td class="cl-f9f87b2b"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">6</span></p></td><td class="cl-f9f87b2b"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">3,492</span></p></td><td class="cl-f9f87b34"><p class="cl-f9f85172"><span class="cl-f9f4a7a2">215</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>In a final step, we extract those potential translations that correlate most strongly with each given term. The results then form a list of words and their most likely translation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>translationtb <span class="ot">&lt;-</span> cooctb <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> <span class="fu">round</span>(<span class="fu">as.vector</span>(<span class="fu">unlist</span>(<span class="fu">fisher.test</span>(<span class="fu">matrix</span>(<span class="fu">c</span>(a, b, c, d), <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T))[<span class="dv">1</span>])), <span class="dv">5</span>),</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x2 =</span> <span class="fu">round</span>(<span class="fu">as.vector</span>(<span class="fu">unlist</span>(<span class="fu">chisq.test</span>(<span class="fu">matrix</span>(<span class="fu">c</span>(a, b, c, d), <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T))[<span class="dv">1</span>])), <span class="dv">3</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">phi =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>((x2 <span class="sc">/</span> (a <span class="sc">+</span> b <span class="sc">+</span> c <span class="sc">+</span> d))), <span class="dv">3</span>),</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">expected =</span> <span class="fu">as.vector</span>(<span class="fu">unlist</span>(<span class="fu">chisq.test</span>(<span class="fu">matrix</span>(<span class="fu">c</span>(a, b, c, d), <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T))<span class="sc">$</span>expected[<span class="dv">1</span>]))</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(TermCoocFreq <span class="sc">&gt;</span> expected) <span class="sc">%&gt;%</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>phi) <span class="sc">%&gt;%</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>AllFreq, <span class="sc">-</span>a, <span class="sc">-</span>b, <span class="sc">-</span>c, <span class="sc">-</span>d, <span class="sc">-</span>NRows, <span class="sc">-</span>expected)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-fb6d6ccc{table-layout:auto;width:75%;}.cl-fb64a0e2{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-fb64a0f6{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-fb681f24{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-fb681f38{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-fb6842d8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb6842e2{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb6842ec{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb6842f6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684300{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684314{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684315{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb68431e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684328{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684329{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684332{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684333{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb68433c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684346{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684347{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fb684350{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-fb6d6ccc"><thead><tr style="overflow-wrap:break-word;"><th class="cl-fb6842d8"><p class="cl-fb681f24"><span class="cl-fb64a0e2">German</span></p></th><th class="cl-fb6842e2"><p class="cl-fb681f24"><span class="cl-fb64a0e2">English</span></p></th><th class="cl-fb6842ec"><p class="cl-fb681f38"><span class="cl-fb64a0e2">TermCoocFreq</span></p></th><th class="cl-fb6842ec"><p class="cl-fb681f38"><span class="cl-fb64a0e2">TermFreq</span></p></th><th class="cl-fb6842ec"><p class="cl-fb681f38"><span class="cl-fb64a0e2">CoocFreq</span></p></th><th class="cl-fb6842ec"><p class="cl-fb681f38"><span class="cl-fb64a0e2">p</span></p></th><th class="cl-fb6842ec"><p class="cl-fb681f38"><span class="cl-fb64a0e2">x2</span></p></th><th class="cl-fb6842f6"><p class="cl-fb681f38"><span class="cl-fb64a0e2">phi</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-fb684300"><p class="cl-fb681f24"><span class="cl-fb64a0f6">hallo</span></p></td><td class="cl-fb684314"><p class="cl-fb681f24"><span class="cl-fb64a0f6">hello</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00029</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">875.500</span></p></td><td class="cl-fb68431e"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.500</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684328"><p class="cl-fb681f24"><span class="cl-fb64a0f6">abend</span></p></td><td class="cl-fb684329"><p class="cl-fb681f24"><span class="cl-fb64a0f6">evening</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00114</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">218.250</span></p></td><td class="cl-fb684333"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.250</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684300"><p class="cl-fb681f24"><span class="cl-fb64a0f6">ja</span></p></td><td class="cl-fb684314"><p class="cl-fb681f24"><span class="cl-fb64a0f6">yes</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00114</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">218.250</span></p></td><td class="cl-fb68431e"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.250</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684328"><p class="cl-fb681f24"><span class="cl-fb64a0f6">morgen</span></p></td><td class="cl-fb684329"><p class="cl-fb681f24"><span class="cl-fb64a0f6">morning</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00114</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">218.250</span></p></td><td class="cl-fb684333"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.250</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684300"><p class="cl-fb681f24"><span class="cl-fb64a0f6">tag</span></p></td><td class="cl-fb684314"><p class="cl-fb681f24"><span class="cl-fb64a0f6">day</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00114</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">218.250</span></p></td><td class="cl-fb68431e"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.250</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684328"><p class="cl-fb681f24"><span class="cl-fb64a0f6">guten</span></p></td><td class="cl-fb684329"><p class="cl-fb681f24"><span class="cl-fb64a0f6">good</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">4</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">13</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">16</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00000</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">201.086</span></p></td><td class="cl-fb684333"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.240</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684300"><p class="cl-fb681f24"><span class="cl-fb64a0f6">brauche</span></p></td><td class="cl-fb684314"><p class="cl-fb681f24"><span class="cl-fb64a0f6">need</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">5</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">20</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">27</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00000</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">124.215</span></p></td><td class="cl-fb68431e"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.188</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684328"><p class="cl-fb681f24"><span class="cl-fb64a0f6">nein</span></p></td><td class="cl-fb684329"><p class="cl-fb681f24"><span class="cl-fb64a0f6">no</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">9</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">7</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00012</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">122.721</span></p></td><td class="cl-fb684333"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.187</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684300"><p class="cl-fb681f24"><span class="cl-fb64a0f6">bier</span></p></td><td class="cl-fb684314"><p class="cl-fb681f24"><span class="cl-fb64a0f6">beer</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">8</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">8</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00013</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">120.757</span></p></td><td class="cl-fb68431e"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.186</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684328"><p class="cl-fb681f24"><span class="cl-fb64a0f6">hamburg</span></p></td><td class="cl-fb684329"><p class="cl-fb681f24"><span class="cl-fb64a0f6">hamburg</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">2</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">8</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">8</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00013</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">120.757</span></p></td><td class="cl-fb684333"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.186</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684300"><p class="cl-fb681f24"><span class="cl-fb64a0f6">braucht</span></p></td><td class="cl-fb684314"><p class="cl-fb681f24"><span class="cl-fb64a0f6">he</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00257</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">96.501</span></p></td><td class="cl-fb68431e"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.166</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684328"><p class="cl-fb681f24"><span class="cl-fb64a0f6">braucht</span></p></td><td class="cl-fb684329"><p class="cl-fb681f24"><span class="cl-fb64a0f6">medication</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00257</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">96.501</span></p></td><td class="cl-fb684333"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.166</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684300"><p class="cl-fb681f24"><span class="cl-fb64a0f6">braucht</span></p></td><td class="cl-fb684314"><p class="cl-fb681f24"><span class="cl-fb64a0f6">needs</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00257</span></p></td><td class="cl-fb684315"><p class="cl-fb681f38"><span class="cl-fb64a0f6">96.501</span></p></td><td class="cl-fb68431e"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.166</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb684328"><p class="cl-fb681f24"><span class="cl-fb64a0f6">deutscher</span></p></td><td class="cl-fb684329"><p class="cl-fb681f24"><span class="cl-fb64a0f6">german</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00257</span></p></td><td class="cl-fb684332"><p class="cl-fb681f38"><span class="cl-fb64a0f6">96.501</span></p></td><td class="cl-fb684333"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.166</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fb68433c"><p class="cl-fb681f24"><span class="cl-fb64a0f6">er</span></p></td><td class="cl-fb684346"><p class="cl-fb681f24"><span class="cl-fb64a0f6">he</span></p></td><td class="cl-fb684347"><p class="cl-fb681f38"><span class="cl-fb64a0f6">1</span></p></td><td class="cl-fb684347"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684347"><p class="cl-fb681f38"><span class="cl-fb64a0f6">3</span></p></td><td class="cl-fb684347"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.00257</span></p></td><td class="cl-fb684347"><p class="cl-fb681f38"><span class="cl-fb64a0f6">96.501</span></p></td><td class="cl-fb684350"><p class="cl-fb681f38"><span class="cl-fb64a0f6">0.166</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>The results show that even using the very limited data base can produce some very reasonable results. In fact, based on the data that we used here, the first translations appear to be very sensible, but the mismatches also show that more data is required to disambiguate potential translations.</p>
<p>While this method still requires manual correction, it is a very handy and useful tool for generating custom bilingual dictionaries that can be extended to any set of languages as long as these languages can be represented as distinct words and as long as parallel data is available.</p>
</section>
<section id="going-further-crowd-sourced-dictionaries-with-r-and-git" class="level1">
<h1>Going further: crowd-sourced dictionaries with R and Git</h1>
<p>While it would go beyond the scope of this tutorial, it should be noted that the approach for creating dictionaries can be applied to crowed-sourced dictionaries. To do this, you could, e.g.&nbsp;upload your dictionary to a Git repository such as <a href="https://github.com/">GitHub</a> or <a href="https://about.gitlab.com/">GitLab</a> which would then allow everybody with an account on either of these platforms to add content to the dictionary.</p>
<p><img src="../../images/git.png" class="img-fluid" style="float:right; padding:15px;width:50.0%"></p>
<p>To add to the dictionary, contributors would simply have to fork the repository of the dictionary and then merge with the existing, original dictionary repository. The quality of the data would meanwhile remain under control of the owner of the original repository he they can decide on a case-by-case basis which change they would like to accept. In addition, and because Git is a version control environment, the owner could also go back to previous versions, if they think they erroneously accepted a change (merge).</p>
<p>This option is particularly interesting for the approach to creating dictionaries presented here because R Studio has an integrated and very easy to use pipeline to Git (see, e.g., <a href="https://support.rstudio.com/hc/en-us/articles/200532077-Version-Control-with-Git-and-SVN">here</a> and <a href="https://happygitwithr.com/rstudio-git-github.html">here</a>)</p>
<p>We have reached the end of this tutorial and you now know how to create and modify networks in R and how you can highlight aspects of your data.</p>
<p><br><br></p>
</section>
<section id="citation-session-info" class="level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2025. <em>Lexicography with R</em>. Brisbane: The University of Queensland. url: https://ladal.edu.au/tutorials/lex.html (Version 2025.01.30).</p>
<pre><code>@manual{schweinberger2025lex,
  author = {Schweinberger, Martin},
  title = {Lexicography with R},
  note = {tutorials/lex/lex.html},
  year = {2025},
  organization = "The University of Queensland, Australia. School of Languages and Cultures},
  address = {Brisbane},
  edition = {2025.01.30}
}</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.2 (2024-10-31)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.04.1 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.12.0 
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.12.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

time zone: Australia/Brisbane
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
[1] plyr_1.8.9      flextable_0.9.7 cluster_2.1.8   coop_0.6-3     
[5] tidytext_0.4.2  udpipe_0.8.11   stringr_1.5.1   dplyr_1.1.4    

loaded via a namespace (and not attached):
 [1] janeaustenr_1.0.0       tidyr_1.3.1             utf8_1.2.4             
 [4] generics_0.1.3          fontLiberation_0.1.0    renv_1.0.11            
 [7] xml2_1.3.6              stringi_1.8.4           lattice_0.22-6         
[10] digest_0.6.37           magrittr_2.0.3          evaluate_1.0.3         
[13] grid_4.4.2              fastmap_1.2.0           rprojroot_2.0.4        
[16] jsonlite_1.8.9          Matrix_1.7-2            zip_2.3.1              
[19] purrr_1.0.2             fontBitstreamVera_0.1.1 codetools_0.2-20       
[22] klippy_0.0.0.9500       textshaping_0.4.1       cli_3.6.3              
[25] rlang_1.1.5             fontquiver_0.2.1        tokenizers_0.3.0       
[28] withr_3.0.2             yaml_2.3.10             gdtools_0.4.1          
[31] tools_4.4.2             officer_0.6.7           uuid_1.2-1             
[34] here_1.0.1              assertthat_0.2.1        vctrs_0.6.5            
[37] R6_2.5.1                lifecycle_1.0.4         htmlwidgets_1.6.4      
[40] ragg_1.3.3              pkgconfig_2.0.3         pillar_1.10.1          
[43] data.table_1.16.4       glue_1.8.0              Rcpp_1.0.13-1          
[46] systemfonts_1.1.0       xfun_0.49               tibble_3.2.1           
[49] tidyselect_1.2.1        knitr_1.49              htmltools_0.5.8.1      
[52] SnowballC_0.7.1         rmarkdown_2.29          compiler_4.4.2         
[55] askpass_1.2.1           openssl_2.3.0          </code></pre>
</div>
</div>
</section>
<section id="references" class="level1 unnumbered">
<h1 class="unnumbered">References</h1>
<hr>
<p><a href="#introduction">Back to top</a></p>
<p><a href="../../index.html">Back to HOME</a></p>
<hr>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-agnes2002webster" class="csl-entry" role="listitem">
Agnes, Michael, Jonathan L Goldman, and Katherine Soltis. <em>Webster’s New World Compact Desk Dictionary and Style Guide</em>. Hungry Minds.
</div>
<div id="ref-amsler1981structure" class="csl-entry" role="listitem">
Amsler, Robert Alfred. <em>The Structure of the Merriam-Webster Pocket Dictionary</em>. Austin, TX: he University of Texas at Austin.
</div>
<div id="ref-bullinaria2007extracting" class="csl-entry" role="listitem">
Bullinaria, J. A., and J. P. Levy. <span>“Extracting Semantic Representations from Word Co-Occurrence Statistics: A Computational Study.”</span> <em>Behavior Research Methods</em>, 510–26.
</div>
<div id="ref-levshina2015linguistics" class="csl-entry" role="listitem">
Levshina, Natalia. <em>How to Do Linguistics with r: Data Exploration and Statistical Analysis</em>. Amsterdam: John Benjamins Publishing Company.
</div>
<div id="ref-mohammad2013crowdsourcing" class="csl-entry" role="listitem">
Mohammad, Saif M, and Peter D Turney. <span>“Crowdsourcing a Word-Emotion Association Lexicon.”</span> <em>Computational Intelligence</em>, 436–65.
</div>
<div id="ref-rajeg2020semvec" class="csl-entry" role="listitem">
Rajeg, Gede Primahadi Wijaya, Karlina Denistia, and Simon Musgrave. <span>“R Markdown Notebook for Vector Space Model and the Usage Patterns of Indonesian Denominal Verbs.”</span> <a href="https://doi.org/10.6084/m9.figshare.9970205.v1">https://doi.org/10.6084/m9.figshare.9970205.v1</a>.
</div>
<div id="ref-steiner1985dictionaries" class="csl-entry" role="listitem">
Steiner, Roger J. <span>“Dictionaries. The Art and Craft of Lexicography.”</span> <em>Dictionaries: Journal of the Dictionary Society of North America</em>, 294–300.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>