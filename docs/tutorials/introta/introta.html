<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Schweinberger">

<title>Introduction to Text Analysis – Language Technology and Data Analysis Laboratory (LADAL)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-c00ead3b610a61ca0c1a529afe17c12f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VSGK4KYDQZ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-VSGK4KYDQZ', { 'anonymize_ip': true});
</script>
<style>html{ scroll-behavior: smooth; }</style>
<script>
    // Wait for the document to be fully loaded
    document.addEventListener("DOMContentLoaded", function () {
        // Create a new div element to hold the dynamic content
        var newContainer = document.createElement("div");
        newContainer.classList.add("custom-banner");  // You can assign a class to the new container for styling

        // You can also add content inside the new container
        newContainer.innerHTML = `
          <div class="banner">
              <img src="/images/ladal_icon_white.png" alt="Icon" class="banner-icon">
              <span class="banner-text">Language Technology and Data Analysis Laboratory</span>
          </div>
      `

        // Select the header element
        var header = document.getElementById("quarto-header");

        // Select the nav element inside the header to place the new container just above it
        var navbar = header.querySelector("nav");

        // Insert the new container before the navbar element
        header.insertBefore(newContainer, navbar);
    });
</script>


<link rel="stylesheet" href="../../css/styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Language Technology and Data Analysis Laboratory (LADAL)</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">ABOUT</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../events.html"> 
<span class="menu-text">EVENTS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials.html"> 
<span class="menu-text">TUTORIALS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tools.html"> 
<span class="menu-text">TOOLS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">RESOURCES</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html"> 
<span class="menu-text">CONTACT</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#what-is-text-analysis" id="toc-what-is-text-analysis" class="nav-link" data-scroll-target="#what-is-text-analysis">What is Text Analysis?</a></li>
  <li><a href="#glossary-of-important-concepts" id="toc-glossary-of-important-concepts" class="nav-link" data-scroll-target="#glossary-of-important-concepts">Glossary of Important Concepts</a>
  <ul class="collapse">
  <li><a href="#word" id="toc-word" class="nav-link" data-scroll-target="#word">Word</a></li>
  <li><a href="#concordancing" id="toc-concordancing" class="nav-link" data-scroll-target="#concordancing">Concordancing</a></li>
  <li><a href="#corpus-pl.-corpora" id="toc-corpus-pl.-corpora" class="nav-link" data-scroll-target="#corpus-pl.-corpora">Corpus (pl. Corpora)</a></li>
  <li><a href="#collocations" id="toc-collocations" class="nav-link" data-scroll-target="#collocations">Collocations</a></li>
  <li><a href="#document-classification" id="toc-document-classification" class="nav-link" data-scroll-target="#document-classification">Document Classification</a></li>
  <li><a href="#document-term-matrix" id="toc-document-term-matrix" class="nav-link" data-scroll-target="#document-term-matrix">Document-Term Matrix</a></li>
  <li><a href="#frequency-analysis" id="toc-frequency-analysis" class="nav-link" data-scroll-target="#frequency-analysis">Frequency Analysis</a></li>
  <li><a href="#keyword-analysis" id="toc-keyword-analysis" class="nav-link" data-scroll-target="#keyword-analysis">Keyword Analysis</a></li>
  <li><a href="#lemma-lemmatization" id="toc-lemma-lemmatization" class="nav-link" data-scroll-target="#lemma-lemmatization">Lemma (Lemmatization)</a></li>
  <li><a href="#n-gram" id="toc-n-gram" class="nav-link" data-scroll-target="#n-gram">N-Gram</a></li>
  <li><a href="#natural-language-processing" id="toc-natural-language-processing" class="nav-link" data-scroll-target="#natural-language-processing">Natural Language Processing</a></li>
  <li><a href="#network-analysis" id="toc-network-analysis" class="nav-link" data-scroll-target="#network-analysis">Network Analysis</a></li>
  <li><a href="#part-of-speech-tagging" id="toc-part-of-speech-tagging" class="nav-link" data-scroll-target="#part-of-speech-tagging">Part-of-Speech Tagging</a></li>
  <li><a href="#project-gutenberg" id="toc-project-gutenberg" class="nav-link" data-scroll-target="#project-gutenberg">Project Gutenberg</a></li>
  <li><a href="#regular-expression" id="toc-regular-expression" class="nav-link" data-scroll-target="#regular-expression">Regular Expression</a></li>
  <li><a href="#semantic-analysis" id="toc-semantic-analysis" class="nav-link" data-scroll-target="#semantic-analysis">Semantic Analysis</a></li>
  <li><a href="#sentiment-analysis" id="toc-sentiment-analysis" class="nav-link" data-scroll-target="#sentiment-analysis">Sentiment Analysis</a></li>
  <li><a href="#string" id="toc-string" class="nav-link" data-scroll-target="#string">String</a></li>
  <li><a href="#term-frequencyinverse-document-frequency-tf-idf" id="toc-term-frequencyinverse-document-frequency-tf-idf" class="nav-link" data-scroll-target="#term-frequencyinverse-document-frequency-tf-idf">Term Frequency–Inverse Document Frequency (tf-idf)</a></li>
  <li><a href="#topic-modeling" id="toc-topic-modeling" class="nav-link" data-scroll-target="#topic-modeling">Topic Modeling</a></li>
  </ul></li>
  <li><a href="#text-analysis-at-uq" id="toc-text-analysis-at-uq" class="nav-link" data-scroll-target="#text-analysis-at-uq">Text Analysis at UQ</a></li>
  <li><a href="#citation-session-info" id="toc-citation-session-info" class="nav-link" data-scroll-target="#citation-session-info">Citation &amp; Session Info</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to Text Analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Martin Schweinberger </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><img src="../../images/uq1.jpg" class="img-fluid" style="width:100.0%"></p>
<section id="introduction" class="level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p>This tutorial focuses on Text Analysis (TA) <span class="citation" data-cites="welbers2017text kabanoff1997introduction popping2000computer">Bernard and Ryan</span>, i.e.&nbsp;computer-based extraction, processing, and analysis of text(s). TA is associated with a divers set of computational methods that enable researchers to explore and analyse unstructured data, i.e., text (unstructured is used here in contrast to structured, i.e., tabular data). Due to the increasing availability of large amounts of textual data, TA methods and techniques are becoming increasingly relevant to a larger body of researchers and disciplines.</p>
<div class="warning" style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
Please cite as: <br>Schweinberger, Martin. 2023. <em>Introduction to Text Analysis</em>. Brisbane: The Language Technology and Data Analysis Laboratory (LADAL). url: tutorials/introta.html (Version 2023.09.24).<br>
</p>
<p></p>
</span></div>
<p><br></p>
<p><img src="../../images/gy_chili.png" class="img-fluid" style="float:right; padding:10px;width:15.0%"></p>
<p>This tutorial introduces basic concepts of Text Analysis. The aim is not to provide a fully-fledged analysis but rather to discuss and explore selected useful methods associated with text analysis and distant reading.</p>
</section>
<section id="what-is-text-analysis" class="level1 unnumbered">
<h1 class="unnumbered">What is Text Analysis?</h1>
<p><img src="../../images/ta.png" class="img-fluid" style="float:right; padding:10px;width:35.0%"></p>
<p>Text Analysis (TA) refers to the process of examining, processing, and interpreting unstructured data (texts) to uncover actionable knowledge using computational methods. Unstructured data (text) can, for example, include emails, literary texts, letters, articles, advertisements, official documents, social media content, transcripts, and product reviews. Actionable knowledge refers to insights and patterns used to classify, sort, extract information, determine relationships, identify trends, and make informed decisions.</p>
<p>Sometimes, Text <em>Analysis</em> is distinguished from Text <em>Analytics</em>. In this context, Text Analysis refers to manual, close-reading, and qualitative interpretative approaches, while Text Analytics refers to quantitative, computational analysis of text. However, in this tutorial, we consider Text Analysis and Text Analytics to be synonymous, encompassing any computer-based qualitative or quantitative method for analyzing text.</p>
<p>While TA, Distant Reading (DR), Corpus Linguistics (CL), Natural Language Processing (NLP), and Text Mining (TM) share the common goal of using textual data, they differ in their approaches, methodologies, and objectives. TA can be seen as an umbrella term encompassing the other types of analyses or approaches mentioned before. The following sections provide details of these approaches so it becomes clearer how they relate and differ from TA.</p>
<p><strong>Distant Reading</strong> (DR) is an approach to analyzing (literary) texts pioneered by Franco Moretti <span class="citation" data-cites="moretti2005graphs">Moretti</span>. It involves analyzing large corpora of literary texts using computational methods to identify broad patterns and trends. Distant reading focuses on the quantitative analysis of texts rather than close, qualitative reading. It allows for the exploration of large-scale patterns and trends that would be difficult to discern through traditional close-reading techniques. Distant reading is a cover term for TA applications that investigate literary and cultural trends by analyzing large amounts of textual data. In contrast, close reading refers to the traditional method of reading texts in detail to interpret their meanings. While both TA and distant reading utilize similar computational methods, they differ in their outlooks. The outlook of DR is to extract information from text without engaging in close reading, i.e., without reading the document(s) themselves, but rather focusing on emerging patterns in the language used.</p>
<p><strong>Corpus Linguistics (CL)</strong> <span class="citation" data-cites="gries2009whatiscorpuslinguistics">Amador Moreno</span> is a branch of linguistics that involves the study of language using large collections of texts known as corpora. It aims to analyze linguistic phenomena by examining patterns and frequencies of words and structures within a corpus. Corpus linguistics provides empirical data and insights into language use, variation, and change over time.</p>
<p><strong>Natural Language Processing</strong> (NLP) <span class="citation" data-cites="chowdhary2020natural">Mitkov</span> is a field of computer science that focuses on the interaction between computers and human languages. It focuses on developing and evaluating methods that aim to enable computers to understand, interpret, and generate human language in a meaningful way. Key aspects of NLP include understanding the meaning and context of text or speech, extracting information from large volumes of unstructured data, and generating human-like text. NLP techniques utilise machine and deep learning and are used in various applications such as machine translation, speech recognition, chatbots, information retrieval, and text classification.</p>
<p><strong>Text Mining</strong> (TM) is a data science field focused on extracting information and insights from large volumes of unstructured text data. Text Mining is decidedly data-driven and typically applies automated methods without substantial human supervision. This allows for the efficient processing of vast text data sets using techniques from NLP, machine learning (ML), and statistics, such as text classification, clustering, sentiment analysis, and entity recognition. TM is particularly associated with social media and Big Data, where manual analysis is impractical due to the sheer volume of data. Businesses use TM to analyze customer feedback from social media, online reviews, and surveys to gain insights into consumer sentiment and preferences.</p>
<p>Text Analysis (TA) is broader than Corpus Linguistics (CL) and Distant Reading (DR) as it is not limited to literary texts or the understanding of language. Additionally, TA is less focused on developing and testing computational methods, as is common in Natural Language Processing (NLP) and it is more common in TA to have human-in-the-loop workflows compared to TM. TA uses computational analyses of text to address a wide range of topics, falling within the realm of computational humanities research. This field represents the application of computational methods in the humanities, leveraging these techniques to explore and analyze diverse humanities-related questions.</p>
<p>The advantages of Text Analysis include:</p>
<ul>
<li><p>Extraction of information from large textual data sets</p></li>
<li><p>Replicability and reproducibility of analyses</p></li>
</ul>
<p><img src="../../images/GoogleNgram.png" class="img-fluid" style="float:right; padding:10px;width:60.0%"></p>
<p>Text Analysis is rapidly gaining popularity in the humanities because textual data is readily available and because computational methods can be applied to a huge variety of research questions. The attractiveness of computational text analysis based on digitally available texts and in their capability to provide insights that cannot be derived from close reading techniques.</p>
<p><img src="../../images/romeonet.png" class="img-fluid" style="float:right; padding:10px;width:40.0%"></p>
<p>While rapidly growing as a valid approach to analyzing textual data, Text Analysis is <a href="https://www.chronicle.com/article/The-Digital-Humanities-Debacle/245986">critizised</a> for lack of “quantitative rigor and because its findings are either banal or, if interesting, not statistically robust (see <a href="https://www.chronicle.com/article/The-Digital-Humanities-Debacle/245986">here</a>. This criticism is correct in that most of the analysis that performed in <em>Computational Literary Studies</em> (CLS) are not yet as rigorous as analyses in fields that have a longer history of computational based, quantitative research, such as, for instance, corpus linguistics. However, the practices and methods used in CLS will be refined, adapted and show a rapid increase in quality if more research is devoted to these approaches. Text Analysis simply offers an alternative way to analyze texts that is not in competition to traditional techniques but rather complements them.</p>
<p>So far, most of the applications of Text Analysis are based upon a relatively limited number of key procedures or concepts (e.g.&nbsp;concordancing, word frequencies, annotation or tagging, parsing, collocation, text classification, Sentiment Analysis, Entity Extraction, Topic Modeling, etc.). In the following, we will explore these procedures and introduce some basic tools that help you perform the introduced tasks.</p>
<p><strong>Tools versus Scripts</strong></p>
<p>It is perfectly fine to use tools such as <a href="https://www.laurenceanthony.net/software/antconc/">AntConc</a> <span class="citation" data-cites="anthony2024antconc">(<a href="#ref-anthony2024antconc" role="doc-biblioref">Anthony</a>)</span> or <a href="https://www.sketchengine.eu/">SketchEngine</a> <span class="citation" data-cites="kilgarriff2014sketch">(<a href="#ref-kilgarriff2014sketch" role="doc-biblioref">Kilgarriff et al.</a>)</span> for the analyses exemplified below. However, the aim of LADAL is not primarily to show how to perform text analyses but how to perform text analyses in a way that complies with practices that guarantee sustainable, transparent, reproducible research. As R code can be readily shared and optimally contains all the data extraction, processing, visualization, and analysis steps, using scripts is preferable over using (commercial) software. In addition to being not as transparent and hindering reproduction of research, using tools can also lead to dependencies on third parties which does not arise when using open source software. Finally, the widespread use of R particularly among data scientists, engineers, and analysts reduces the risk of software errors as a very active community corrects flawed functions typically quite rapidly.</p>
</section>
<section id="glossary-of-important-concepts" class="level1 unnumbered">
<h1 class="unnumbered">Glossary of Important Concepts</h1>
<p>Below, you will find explanations of concepts and methods that are important in Text Analysis and also links to relevant resources (including LADAL tutorials).</p>
<section id="word" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="word">Word</h2>
<p>What a word is is actually very tricky. For instance, How many words are there in this sentence?</p>
<blockquote class="blockquote">
<p><em>The cat sat on the mat.</em></p>
</blockquote>
<p>One answer is that there are <em>six words</em>; that is, there are six <em>groups of characters</em> which are separated according to typographical convention.</p>
<p>But there is another answer: There are <em>five words</em>, that is five <em>distinct sequences</em> of characters and one of those sequences (the) occurs twice.</p>
<p>The terms commonly used to make this distinction are <strong>type</strong> and <strong>token</strong>. Tokens are instances of types, therefore if we count tokens, we count without considering repetition, while if we count types, we do consider repetition. In our example, there are five types (<em>the</em>, <em>cat</em>, <em>sat</em>, <em>on</em>, <em>mat</em>) but six tokens, because there are two tokens of one of the types (<em>the</em>).</p>
<p>There is a further distinction we may need to make which we can see if we consider another question: are <em>cat</em> and <em>cats</em> the same word? They are distinct types, and therefore must also be distinct as tokens. But we have an intuition that at some level they are related, that there is some more abstract item which underlies both of them. This concept is usually referred to as a <strong>lemma</strong>.</p>
<p><img src="../../images/AntConcConcordance.png" class="img-fluid" style="float:right; padding:10px;width:40.0%"></p>
</section>
<section id="concordancing" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="concordancing">Concordancing</h2>
<p>In Text Analysis, concordancing refers to the extraction of words from a given text or texts <span class="citation" data-cites="lindquist2009corpus">(<a href="#ref-lindquist2009corpus" role="doc-biblioref">Lindquist</a>)</span>. Commonly, concordances are displayed in the form of key-word in contexts (KWIC) where the search term is shown with some preceding and following context. Thus, such displays are referred to as key word in context concordances. A more elaborate tutorial on how to perform concordancing with R is available <a href="tutorials/kwics/kwics.html">here</a>. If you do not want to use coding to extract concordances, a highly recommendable tool for extracting concordances (and many other TA tasks) is <a href="https://www.laurenceanthony.net/software/antconc/">AntConc</a>.</p>
<p>Concordancing is helpful for seeing how the term is used in the data, for inspecting how often a given word occurs in a text or a collection of texts, for extracting examples, and it also represents a basic procedure and often the first step in more sophisticated analyses of language data.</p>
</section>
<section id="corpus-pl.-corpora" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="corpus-pl.-corpora">Corpus (pl. Corpora)</h2>
<p>A corpus is a machine readable and electronically stored collection of natural language texts representing writing or speech chosen to be characteristic of a variety or the state of a language <span class="citation" data-cites="sinclair1991corpus">(see <a href="#ref-sinclair1991corpus" role="doc-biblioref">Sinclair 1991</a>)</span>. Corpora are great for extracting examples of natural examples and testing research hypotheses as it is easy to obtain information on frequencies, grammatical patterns, or collocations and they are commonly publicly available so the research results can be contrasted, compared and repeated.</p>
<p>There are four main types of corpora:</p>
<ol type="1">
<li><p><strong>Monitor corpora</strong>: large collections of texts from different genres/modes that aim at representing a language or language variety, e.g., <a href="https://www.ice-corpora.uzh.ch/en.html"><em>International Corpus of English</em> (ICE)</a>, <a href="https://www.english-corpora.org/coca/"><em>Corpus of Contemporary Corpus of American English</em> (COCA)</a>, that are, e.g., used to analyse the use of certain linguistic phenomena or to investigate collocations of certain words/topics</p></li>
<li><p><strong>Learner corpora</strong>: Contain data from language learners - these can be either L1 learners, e.g., <a href="https://childes.talkbank.org/"><em>Child Language Data Exchange System</em> (CHILDES)</a>, and/or L2 learners, e.g., <a href="https://uclouvain.be/en/research-institutes/ilc/cecl/icle.html">the <em>International Corpus of Learner English</em> (ICLE)</a>) - to study, e.g., how L1 and/or L2 speakers learn/acquire (aspects of) a language and to see how learners differ from native speakers.</p></li>
<li><p><strong>Historical or diachronic corpora</strong>: Contain data from different points in time that allow to analyse the development of a language or language variety (e.g., <a href="https://www.ling.upenn.edu/hist-corpora/"><em>Penn Parsed Corpora of Historical English</em></a>,<a href="http://icame.uib.no/hc/"><em>The Helsinki Corpus of English Texts</em></a>) to study, e.g., how language changes or how genres develop over time.</p></li>
<li><p><strong>Specialized corpora</strong>: Contain data representing a specific genre/text type (e.g., <a href="https://www.coventry.ac.uk/research/research-directories/current-projects/2015/british-academic-written-english-corpus-bawe/"><em>British Academic Written English Corpus</em> (BAWE)</a>) to study, e.g., (linguistic) features of a genre (e.g.&nbsp;academic writing) or language in class rooms.</p></li>
</ol>
<p><img src="../../images/collocates.png" class="img-fluid" style="float:right; padding:10px;width:40.0%"></p>
</section>
<section id="collocations" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="collocations">Collocations</h2>
<p>Collocations are words that are attracted to each other (and that co-occur or co-locate together), e.g., <em>Merry Christmas</em>, <em>Good Morning</em>, <em>No worries</em>, or <em>Fuck off</em>. Collocations are important because any word in any given language has collocations, i.e., others words that are attracted to that word or words that that word is attracted to allow us to anticipate what word comes next and collocations are context/text type specific. It is important to note that collocations to not have to appear/occur right next to each other but that other words can be in between. There are various different statistical measures are used to define the strength of the collocations, like the Mutual Information (MI) score and log-likelihood (<a href="http://www.collocations.de/AM/index.html">see here for an over view of different association strengths measures</a>).</p>
</section>
<section id="document-classification" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="document-classification">Document Classification</h2>
<p>Document or Text Classification (also referred to as text categorization) generally refers to process of grouping texts or documents based on similarity. This similarity can be based on word frequencies or other linguistics features but also on text external features such as genre labels or polarity scores.</p>
</section>
<section id="document-term-matrix" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="document-term-matrix">Document-Term Matrix</h2>
<p>Document-Term Matrices (DTM) and Term- Document Matrices (TDM) contain the frequencies of words per document. DTM and TDM differ in whether the words or the documents are represented as rows. Thus, the words (terms) are listed as row names and the documents represent the column names while the matrix itself contains the frequencies of the words in the documents.</p>
<p><img src="../../images/speciescloud.png" class="img-fluid" style="float:right; padding:10px;width:40.0%"></p>
</section>
<section id="frequency-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="frequency-analysis">Frequency Analysis</h2>
<p>Frequency Analysis is a suit of methods which extract and compare frequencies of different words (tokens and/or types), collocations, phrases, sentences, etc. These frequencies are the often tabulated to show lists of words, phrases, etc. descending by frequency, visualized to show distributions, and/or compared and analyzed statistically to find differences between texts or collections fo texts.</p>
</section>
<section id="keyword-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="keyword-analysis">Keyword Analysis</h2>
<p>Keyword Analysis refers to a suit of methods that allow to detect words that are characteristic of on text or collection of texts compared to another text/collection of texts. There are various keyness measures such as Log-Likelihood or the term frequency–inverse document frequency (tf-idf).</p>
</section>
<section id="lemma-lemmatization" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="lemma-lemmatization">Lemma (Lemmatization)</h2>
<p>Lemma refers to the base form of a word (example: <em>walk</em>, <em>walked</em>, and <em>walking</em> are word forms of the lemma <em>WALK</em>). Lemmatization refers to a annotation process in which word forms are associated with their base form (lemma). Lemmatization is a very common and sometimes useful processing step for further analyses. In contrast to stemming - which is a related process - lemmatization also takes into account semantic differences (differences in the word meaning), while stemming only takes the orthography of words into consideration.</p>
</section>
<section id="n-gram" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="n-gram">N-Gram</h2>
<p>N-grams are combinations/sequences of words, e.g.&nbsp;the sentence <em>I really like pizza!</em> has the bi-grams (2-grams): <em>I really</em>, <em>really like</em>, and <em>like pizza</em> and the tri-grams (3-grams) <em>I really like</em> and <em>really like pizza</em>. N-grams play an important part in natural language processing (e.g.&nbsp;part-of-speech tagging), language learning, psycholinguistics models of language production, and genre analysis.</p>
</section>
<section id="natural-language-processing" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="natural-language-processing">Natural Language Processing</h2>
<p>Natural Language Processing (NLP) is an interdisciplinary field in computer science that has specialized on processing natural language data using computational and mathematical methods. Many methods used in Text Analysis have been developed in NLP.</p>
<p><img src="../../images/romeonet.png" class="img-fluid" style="float:right; padding:10px;width:40.0%"></p>
</section>
<section id="network-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="network-analysis">Network Analysis</h2>
<p>Network Analysis is the most common way to visualize relationships between entities. Networks, also called graphs, consist of nodes (typically represented as dots) and edges (typically represented as lines) and they can be directed or undirected networks.</p>
<p>In directed networks, the direction of edges is captured. For instance, the exports of countries. In such cases the lines are directed and typically have arrows to indicate direction. The thickness of lines can also be utilized to encode information such as frequency of contact.</p>
</section>
<section id="part-of-speech-tagging" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="part-of-speech-tagging">Part-of-Speech Tagging</h2>
<p>Part-of-Speech (PoS) Tagging identifies the word classes of words (e.g., noun, adjective, verb, etc.) in a text and adds part-of-speech tags to each word. There are various part-of-speech tagsets, e.g.&nbsp;the Penn Treebank is the most frequently used tagset used for English. A more detailed tutorial on how to perform part-of-speech tagging in R can be found <a href="tutorials/tagging/tagging.html">here</a>.</p>
</section>
<section id="project-gutenberg" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="project-gutenberg">Project Gutenberg</h2>
<p>The Project Gutenberg is a excellent resource for accessing digitized literary texts. The Project Gutenberg library contains over 60,000 ebooks that are out of copyright in the US. A tutorial on how to download texts form the Project Gutenberg library using the <code>GutenbergR</code> package can be found <a href="tutorials/gutenberg/gutenberg.html">here</a>.</p>
</section>
<section id="regular-expression" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="regular-expression">Regular Expression</h2>
<p>Regular Expressions - often simply referred to as regex - are symbols or sequence of symbols utilized to search for patterns in textual data. Regular Expressions are very useful and widely used in Text Analysis and often different programming languages will have very similar but slightly different Regular Expressions. A tutorial on how to use regular expression in R can be found <a href="tutorials/regex/regex.html">here</a> and here is a link to a <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/regex.pdf">regex in R cheat sheet</a>.</p>
</section>
<section id="semantic-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="semantic-analysis">Semantic Analysis</h2>
<p>Semantic Analysis refers to a suit of methods that allow to analyze the semantic (semantics) fo texts. Such analyses often rely on semantic tagsets that are based on word meaning or meaning families/categories. Two examples of such semantic tagsets are the <a href="https://ucrel.lancs.ac.uk/claws7tags.html">URCEL tagset</a> and the <a href="http://eprints.gla.ac.uk/115024/"><em>Historical Thesaurus Semantic Tagger</em></a> <span class="citation" data-cites="alexander2015tagger">(<a href="#ref-alexander2015tagger" role="doc-biblioref">Alexander and Wattam 2015</a>)</span> developed at the University of Glasgow.</p>
<p><img src="../../images/senti.png" class="img-fluid" style="float:right; padding:10px;width:40.0%"></p>
</section>
<section id="sentiment-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="sentiment-analysis">Sentiment Analysis</h2>
<p>Sentiment Analysis is a computational approach to determine if words or texts are associated with (positive or negative) polarity or emotions.Commonly, sentiments analyses are based on sentiment dictionaries (words are annotated based on whether they occur in a list of words associated with, e.g., positive polarity or emotion, e.g., <em>fear</em>, <em>anger</em>, or <em>joy.</em> A tutorial on how to perform sentiment analysis in R can be found <a href="tutorials/sentiment/sentiment.html">here</a>.</p>
</section>
<section id="string" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="string">String</h2>
<p>In computational approaches, a string is a specific type of data that represents text and is often encoded in specific format, e.g., Latin1 or UTF8. Strings may also be present in other data types such as lists or data frames. A tutorial on how to work with strings in R can be found <a href="tutorials/string/string.html">here</a>.</p>
</section>
<section id="term-frequencyinverse-document-frequency-tf-idf" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="term-frequencyinverse-document-frequency-tf-idf">Term Frequency–Inverse Document Frequency (tf-idf)</h2>
<p>Term Frequency–Inverse Document Frequency is a statistical measure of keyness which reflects how characteristic a word is of a specific text. Term Frequency–Inverse Document Frequency is based on the frequencies of words in a text compared to the frequency of documents in which it occurs</p>
<p><img src="../../images/topic.png" class="img-fluid" style="float:right; padding:10px;width:40.0%"></p>
</section>
<section id="topic-modeling" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="topic-modeling">Topic Modeling</h2>
<p>Topic modelling is a machine learning method seeks to answer the question: given a collection of documents, can we identify what they are <em>about</em>?</p>
<p>Topic model algorithms look for patterns of co-occurrences of words in documents. We assume that, if a document is about a certain topic, one would expect words that are related to that topic to appear in the document more often than in documents that deal with other topics. Topic model commonly use Latent Dirichlet Allocation (LDA) to find <em>topics</em> in textual data.</p>
<p>There are two basic types of Topic models</p>
<ul>
<li><p>supervised or seeded topics models where the researchers provides seed terms around which the LDS looks for topics (collections of correlating terms)</p></li>
<li><p>unsupervised or unseeded topic models which try to find a predefined number of topics (collections of correlating terms)</p></li>
</ul>
<p>A tutorial on how to work with strings in R can be found <a href="tutorials/topicmodels/topicmodels.html">here</a>.</p>
<p><img src="../../images/netta.png" class="img-fluid" style="float:right; padding:10px;width:40.0%"></p>
</section>
</section>
<section id="text-analysis-at-uq" class="level1 unnumbered">
<h1 class="unnumbered">Text Analysis at UQ</h1>
<p>As LADAL has been established at The University of Queensland, we have listed selected resources on Text Analysis offered by UQ.</p>
<p>The <a href="https://www.library.uq.edu.au/">UQ Library</a> offers a very handy and attractive summary of <a href="https://guides.library.uq.edu.au/research-techniques/text-mining-analysis/introduction">resources, concepts, and tools</a> that can be used by researchers interested in Text Analysis and Distant Reading. Also, the UQ library site offers short video introductions and addresses issues that are not discussed here such as <a href="https://guides.library.uq.edu.au/research-techniques/text-mining-analysis/considerations">copyright issues</a>, <a href="https://guides.library.uq.edu.au/research-techniques/text-mining-analysis/sources-of-text-data">data sources available at the UQ library</a>, as well as <a href="https://guides.library.uq.edu.au/research-techniques/text-mining-analysis/sources-of-text-data">social media</a> and <a href="https://guides.library.uq.edu.au/research-techniques/text-mining-analysis/web-scraping">web scaping</a>.</p>
<p>In contrast to the UQ library site, the focus of this introduction lies on the practical how-to of text analysis. this means that the following concentrates on how to perform analyses rather than discussing their underlying concepts or evaluating their scientific merits.</p>
</section>
<section id="citation-session-info" class="level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2024. <em>Introduction to Text Analysis</em>. Brisbane: The Language Technology and Data Analysis Laboratory (LADAL). url: tutorials/introta.html (Version 2024.05.26).</p>
<pre><code>@manual{schweinberger2024introta,
  author = {Schweinberger, Martin},
  title = {Introduction to Text Analysis},
  note = {tutorials/introta/introta.html},
  year = {2024},
  organization = {The Language Technology and Data Analysis Laboratory (LADAL)},
  address = {Brisbane},
  edition = {2024.05.26}
}</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.2 (2024-10-31)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.04.1 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.12.0 
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.12.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

time zone: Australia/Brisbane
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

loaded via a namespace (and not attached):
 [1] htmlwidgets_1.6.4 compiler_4.4.2    fastmap_1.2.0     cli_3.6.3        
 [5] htmltools_0.5.8.1 tools_4.4.2       yaml_2.3.10       rmarkdown_2.29   
 [9] knitr_1.49        jsonlite_1.8.9    xfun_0.49         digest_0.6.37    
[13] rlang_1.1.5       renv_1.0.11       evaluate_1.0.3   </code></pre>
</div>
</div>
<p><a href="#introduction">Back to top</a></p>
<p><a href="../..">Back to HOME</a></p>
</section>
<section id="references" class="level1 unnumbered">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-alexander2015tagger" class="csl-entry" role="listitem">
Alexander, Baron, M., and S. Wattam. 2015. <span>“The Historical Thesaurus Semantic Tagger.”</span>
</div>
<div id="ref-amador2010how" class="csl-entry" role="listitem">
Amador Moreno, Carolina P. <span>“How Can Corpora Be Used to Explore Literary Speech Representation?”</span> In <em>The Routledge Handbook of Corpus Linguistics</em>, edited by Anne O’Keeffe and Michael McCarthy, 531–44. Abingdon (UK) &amp; New York: Routeledge.
</div>
<div id="ref-anthony2024antconc" class="csl-entry" role="listitem">
Anthony, Laurence. <span>“AntConc (Version 4.2.4) [Computer Software].”</span> Tokyo, Japan: Waseda University. <a href="https://www.laurenceanthony.net/software">https://www.laurenceanthony.net/software</a>.
</div>
<div id="ref-bernard1998text" class="csl-entry" role="listitem">
Bernard, H Russell, and Gery Ryan. <span>“Text Analysis.”</span> <em>Handbook of Methods in Cultural Anthropology</em>.
</div>
<div id="ref-chowdhary2020natural" class="csl-entry" role="listitem">
Chowdhary, KR1442, and KR Chowdhary. <span>“Natural Language Processing.”</span> <em>Fundamentals of Artificial Intelligence</em>, 603–49.
</div>
<div id="ref-eisenstein2019introduction" class="csl-entry" role="listitem">
Eisenstein, Jacob. <em>Introduction to Natural Language Processing</em>. MIT Press.
</div>
<div id="ref-gries2009whatiscorpuslinguistics" class="csl-entry" role="listitem">
Gries, Stefan Th. <span>“What Is Corpus Linguistics?”</span> <em>Language and Linguistics Compass</em>, 1–17.
</div>
<div id="ref-indurkhya2010handbook" class="csl-entry" role="listitem">
Indurkhya, Nitin, and Fred J Damerau. <em>Handbook of Natural Language Processing</em>. 2nd edition. Routledge.
</div>
<div id="ref-jockers2020text" class="csl-entry" role="listitem">
Jockers, Matthew L, and Rosamond Thalken. 2020. <em>Text Analysis with r</em>. Springer.
</div>
<div id="ref-kabanoff1997introduction" class="csl-entry" role="listitem">
Kabanoff, Boris. <span>“Introduction: Computers Can Read as Well as Count: Computer-Aided Text Analysis in Organizational Research.”</span> <em>Journal of Organizational Behavior</em>, 507–11.
</div>
<div id="ref-kilgarriff2014sketch" class="csl-entry" role="listitem">
Kilgarriff, Adam, Vít Baisa, Jan Bušta, Miloš Jakubíček, Vojtěch Kovář, Jan Michelfeit, Pavel Rychlý, and Vít Suchomel. <span>“The Sketch Engine: Ten Years On.”</span> <em>Lexicography</em>, 7–36.
</div>
<div id="ref-lindquist2009corpus" class="csl-entry" role="listitem">
Lindquist, Hans. <em>Corpus Linguistics and the Description of English</em>. Edinburgh: Edinburgh University Press.
</div>
<div id="ref-mitkov2022oxford" class="csl-entry" role="listitem">
Mitkov, Ruslan. <em>The Oxford Handbook of Computational Linguistics</em>. Oxford: Oxford University Press.
</div>
<div id="ref-moretti2013distant" class="csl-entry" role="listitem">
Moretti, Franco. <em>Distant Reading</em>. Verso.
</div>
<div id="ref-moretti2005graphs" class="csl-entry" role="listitem">
———. <em>Graphs, Maps, Trees: Abstract Models for a Literary History</em>. Verso.
</div>
<div id="ref-popping2000computer" class="csl-entry" role="listitem">
Popping, Roel. <em>Computer-Assisted Text Analysis</em>. Sage.
</div>
<div id="ref-sinclair1991corpus" class="csl-entry" role="listitem">
Sinclair, John. 1991. Oxford: Oxford University Press.
</div>
<div id="ref-stafanowitsch2020corpus" class="csl-entry" role="listitem">
Stefanowitsch, Anatol. <em>Corpus Linguistics. A Guide to the Methodology</em>. Textbooks in Language Sciences. Berlin: Language Science Press.
</div>
<div id="ref-welbers2017text" class="csl-entry" role="listitem">
Welbers, Kasper, Wouter Van Atteveldt, and Kenneth Benoit. 2017. <span>“Text Analysis in r.”</span> <em>Communication Methods and Measures</em> 11 (4): 245–65.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>