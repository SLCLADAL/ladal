<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Schweinberger">

<title>Network Analysis using R – Language Technology and Data Analysis Laboratory (LADAL)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-c00ead3b610a61ca0c1a529afe17c12f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VSGK4KYDQZ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-VSGK4KYDQZ', { 'anonymize_ip': true});
</script>
<style>html{ scroll-behavior: smooth; }</style>
<script>
    // Wait for the document to be fully loaded
    document.addEventListener("DOMContentLoaded", function () {
        // Create a new div element to hold the dynamic content
        var newContainer = document.createElement("div");
        newContainer.classList.add("custom-banner");  // You can assign a class to the new container for styling

        // You can also add content inside the new container
        newContainer.innerHTML = `
          <div class="banner">
              <img src="/images/ladal_icon_white.png" alt="Icon" class="banner-icon">
              <span class="banner-text">Language Technology and Data Analysis Laboratory</span>
          </div>
      `

        // Select the header element
        var header = document.getElementById("quarto-header");

        // Select the nav element inside the header to place the new container just above it
        var navbar = header.querySelector("nav");

        // Insert the new container before the navbar element
        header.insertBefore(newContainer, navbar);
    });
</script>
<script src="../../site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="../../site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet">
<link href="../../site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet">
<script src="../../site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="../../site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="../../site_libs/tabwid-1.1.3/tabwid.js"></script>


<link rel="stylesheet" href="../../css/styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Language Technology and Data Analysis Laboratory (LADAL)</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">ABOUT</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../events.html"> 
<span class="menu-text">EVENTS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials.html"> 
<span class="menu-text">TUTORIALS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tools.html"> 
<span class="menu-text">TOOLS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">RESOURCES</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html"> 
<span class="menu-text">CONTACT</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#what-is-network-analysis" id="toc-what-is-network-analysis" class="nav-link" data-scroll-target="#what-is-network-analysis">What is Network Analysis?</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">Data preparation</a>
  <ul class="collapse">
  <li><a href="#creating-a-matrix" id="toc-creating-a-matrix" class="nav-link" data-scroll-target="#creating-a-matrix">Creating a matrix</a></li>
  </ul></li>
  <li><a href="#network-visualization" id="toc-network-visualization" class="nav-link" data-scroll-target="#network-visualization">Network Visualization</a>
  <ul class="collapse">
  <li><a href="#quanteda-networks" id="toc-quanteda-networks" class="nav-link" data-scroll-target="#quanteda-networks">Quanteda Networks</a></li>
  <li><a href="#tidy-networks" id="toc-tidy-networks" class="nav-link" data-scroll-target="#tidy-networks">Tidy Networks</a></li>
  </ul></li>
  <li><a href="#network-statistics" id="toc-network-statistics" class="nav-link" data-scroll-target="#network-statistics">Network Statistics</a>
  <ul class="collapse">
  <li><a href="#degree-centrality" id="toc-degree-centrality" class="nav-link" data-scroll-target="#degree-centrality">Degree centrality</a></li>
  <li><a href="#central-node" id="toc-central-node" class="nav-link" data-scroll-target="#central-node">Central node</a></li>
  <li><a href="#betweenness-centrality" id="toc-betweenness-centrality" class="nav-link" data-scroll-target="#betweenness-centrality">Betweenness centrality</a></li>
  <li><a href="#closeness" id="toc-closeness" class="nav-link" data-scroll-target="#closeness">Closeness</a></li>
  </ul></li>
  <li><a href="#citation-session-info" id="toc-citation-session-info" class="nav-link" data-scroll-target="#citation-session-info">Citation &amp; Session Info</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Network Analysis using R</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Martin Schweinberger </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><img src="../../images/uq1.jpg" class="img-fluid" style="width:100.0%"></p>
<section id="introduction" class="level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p><img src="../../images/gy_chili.png" class="img-fluid" style="float:right; padding:10px;width:15.0%"></p>
<p>This tutorial serves as an introduction to network analysis in R using the <code>quanteda</code><span class="citation" data-cites="quanteda2018package">(<a href="#ref-quanteda2018package" role="doc-biblioref">Benoit et al. 2018</a>)</span>, <code>igraph</code> <span class="citation" data-cites="csardi2006igraph">(<a href="#ref-csardi2006igraph" role="doc-biblioref">Csardi and Nepusz 2006</a>)</span>, <code>tidygraph</code> <span class="citation" data-cites="tidygraph2024package">(<a href="#ref-tidygraph2024package" role="doc-biblioref">Pedersen 2024b</a>)</span>, and <code>ggraph</code> <span class="citation" data-cites="ggraph2024package">(<a href="#ref-ggraph2024package" role="doc-biblioref">Pedersen 2024a</a>)</span> packages.</p>
<p>Networks are a powerful method for visualizing relationships among various elements, such as authors, characters, or words. Network analysis goes beyond mere visualization; it’s a technique for uncovering patterns and structures within complex systems. In essence, network analysis represents relationships as nodes (elements) connected by edges (relationships) which provides a unique perspective for understanding the connections and interactions within your data.</p>
<p>Geared towards beginners and intermediate users of R, this tutorial aims to showcase how to perform network analysis based on textual data and it shows how to visualize networks using R. The primary goal is not to deliver a fully-fledged analysis but rather to demonstrate and exemplify selected useful methods associated with network analysis. This tutorial delves into creating and modifying network graphs, allowing users to explore and compare their statistical properties. By the end, you’ll not only grasp the basics of network analysis but also gain insights into leveraging statistical measures for a more comprehensive understanding of your data.</p>
<div class="warning" style="padding:0.1em; background-color:#f2f2f2; color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
The entire R markdown document for the sections below can be downloaded <a href="tutorials/net/net.qmd">here</a>. If you want to render the Rmarkdown notebook on your machine, i.e.&nbsp;knitting the document to a html or pdf file, you need to make sure that you have R installed and you also need to download the <a href="../../assets/bibliography.bib">bibliography file</a> and store it in the same folder where you store the Rmd file.
</p>
<div class="text-center">
<p><a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/net_cb.ipynb%26branch=main"><img src="https://mybinder.org/badge_logo.svg" class="img-fluid"></a></p>
<p>Click <a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/net_cb.ipynb%26branch=main"><strong>here</strong></a> to open a Jupyter notebook that allows you to follow this tutorial interactively. This means that you can execute, change, and edit the code used in this tutorial to help you better understand how the code shown here works (make sure you run all code chunks in the order in which they appear - otherwise you will get an error).</p>
</div>
<p style="margin-left:1em;">
</p>
<p></p>
</span></div>
<p><br></p>
<div class="warning" style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<strong>LADAL TOOL</strong>
</p>
<p style="margin-top:1em; text-align:center">
</p>
<div class="text-center">
<p><a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/basicstatz_cb.ipynb%26branch=main"><img src="https://mybinder.org/badge_logo.svg" class="img-fluid"></a></p>
<p>Click <a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/basicstatz_cb.ipynb%26branch=main"><strong>here</strong></a> to open an notebook-based tool <br> that allows you upload your own data, create a network, and download the resulting visualization of the network.</p>
</div>
<p style="margin-left:1em;">
</p>
<p></p>
</span></div>
<p><br></p>
<p>This tutorial builds on <a href="https://corpling.hypotheses.org/3341">a tutorial on plotting collocation networks</a> by <a href="http://www2.univ-paris8.fr/desagulier/home/">Guillaume Desagulier</a>, a tutorial on network analysis by offered by Alice Miller from the <a href="https://www.qut.edu.au/research/why-qut/infrastructure/digital-observatory">Digital Observatory</a> at the <a href="https://www.qut.edu.au/">Queensland University of Technology</a>, and <a href="https://tm4ss.github.io/docs/Tutorial_5_Co-occurrence.html">this tutorial</a> by <a href="http://asv.informatik.uni-leipzig.de/staff/Andreas_Niekler">Andreas Niekler</a> and <a href="https://leibniz-hbi.de/en/staff/gregor-wiedemann">Gregor Wiedemann</a>.</p>
</section>
<section id="what-is-network-analysis" class="level1 unnumbered">
<h1 class="unnumbered">What is Network Analysis?</h1>
<p>The most common way to visualize relationships between entities is through networks <span class="citation" data-cites="silge2017text">(<a href="#ref-silge2017text" role="doc-biblioref">Silge and Robinson, 131–37</a>)</span>. Networks, also known as graphs, are powerful tools that represent relationships among entities. They consist of <strong>nodes</strong> (often depicted as dots) and <strong>edges</strong> (typically represented as lines) and can be categorized as directed or undirected networks.</p>
<ul>
<li>In <em>directed networks</em>, the direction of edges is captured, signifying the flow or relationship from one node to another. An example of a directed network is the trade relationships between countries, where arrows on the edges indicate the direction of exports. The thickness of these arrows can also encode additional information, such as the frequency or strength of the relationship.<br>
</li>
<li><em>Undirected networks</em>, on the other hand, represent symmetric relationships where the connection between two nodes is mutual. For example, in a social network, the connections between individuals are often undirected, as the relationship between friends is reciprocal.</li>
</ul>
<p>Network analysis involves exploring the structure and properties of these networks. One key concept is centrality, which identifies the most important nodes in a network. Centrality metrics, such as <em>degree centrality</em> (number of connections) and <em>betweenness centrality</em> (importance in connecting other nodes), help unveil the significance of specific nodes.</p>
<p>In R, there are several packages that provide essential tools for constructing, analyzing, and visualizing networks but here, we will focus on the <code>quanteda.textplots</code>, <code>igraph</code>, <code>tidygraph</code>, and <code>ggraph</code> packages. To showcase how to prepare and generate network graphs, we will visualize the network that the characters in William Shakespeare’s <em>Romeo and Juliet</em> form.</p>
<p><strong>Preparation and session set up</strong></p>
<p>Certainly! Here’s a corrected and improved version of the passage:</p>
<p>This tutorial is built with and uses R (the R programming language). If you haven’t installed R or are new to it, you can find an introduction and more information on how to use R <a href="tutorials/intror/intror.html">here</a>. In order to execute the scripts and code chunks presented in this tutorial without errors, we need to install specific <em>packages</em> from the R <em>library</em>. Prior to delving into the code below, please install the required packages by running the code provided in this paragraph. If you’ve already installed the mentioned packages, feel free to skip ahead and disregard this section. To install the necessary packages, execute the following code. Note that it may take some time (between 1 and 5 minutes) to install all the libraries, so don’t worry if it takes a little while.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"flextable"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"GGally"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ggraph"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"igraph"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"Matrix"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"network"</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"quanteda"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"sna"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidygraph"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tm"</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tibble"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"quanteda.textplots"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># install klippy for copy-to-clipboard button in code chunks</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rlesur/klippy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, we load the packages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># activate packages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gutenbergr)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Matrix)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(network)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sna)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># activate klippy for copy-to-clipboard button</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>klippy<span class="sc">::</span><span class="fu">klippy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
</div>
</div>
<p>Once you have installed R, RStudio, and have also initiated the session by executing the code shown above, you are good to go.</p>
</section>
<section id="data-preparation" class="level1 unnumbered">
<h1 class="unnumbered">Data preparation</h1>
<p>In network analysis, it’s crucial to have at least one table indicating the start and end points of edges (lines connecting nodes). Additionally, two additional tables providing information on node size/type and edge size/type are valuable. In the upcoming sections, we’ll create these tables from raw data. Alternatively, you can generate network graphs by uploading tables containing the necessary information.</p>
<p>We’ll generate a network showing the frequency of characters in William Shakespeare’s <em>Romeo and Juliet</em> appearing in the same scene. Our focus is on investigating the networks of personas in Shakespeare’s <em>Romeo and Juliet</em>, and thus, we’ll load this renowned work of fiction.</p>
<section id="creating-a-matrix" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="creating-a-matrix">Creating a matrix</h2>
<p>We start by loading the data which represents a table that contains the personas that are present during a sub-scene as well as how many contributions they make and how often they occur.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>net_dat <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">"tutorials/net/data/romeo_tidy.txt"</span>, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-7827a97c{table-layout:auto;width:95%;}.cl-7820dd72{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-7820dd86{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-78238c70{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-78238c7a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-7823a8a4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8ae{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8af{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8b0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8b1{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8b8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8b9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8c2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8c3{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8c4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8cc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8cd{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8ce{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8d6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8d7{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7823a8d8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-7827a97c"><thead><tr style="overflow-wrap:break-word;"><th class="cl-7823a8a4"><p class="cl-78238c70"><span class="cl-7820dd72">actscene</span></p></th><th class="cl-7823a8ae"><p class="cl-78238c70"><span class="cl-7820dd72">person</span></p></th><th class="cl-7823a8af"><p class="cl-78238c7a"><span class="cl-7820dd72">contrib</span></p></th><th class="cl-7823a8b0"><p class="cl-78238c7a"><span class="cl-7820dd72">occurrences</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-7823a8b1"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE I</span></p></td><td class="cl-7823a8b8"><p class="cl-78238c70"><span class="cl-7820dd86">BENVOLIO</span></p></td><td class="cl-7823a8b9"><p class="cl-78238c7a"><span class="cl-7820dd86">24</span></p></td><td class="cl-7823a8c2"><p class="cl-78238c7a"><span class="cl-7820dd86">7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8c3"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE I</span></p></td><td class="cl-7823a8c4"><p class="cl-78238c70"><span class="cl-7820dd86">CAPULET</span></p></td><td class="cl-7823a8cc"><p class="cl-78238c7a"><span class="cl-7820dd86">2</span></p></td><td class="cl-7823a8cd"><p class="cl-78238c7a"><span class="cl-7820dd86">9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8b1"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE I</span></p></td><td class="cl-7823a8b8"><p class="cl-78238c70"><span class="cl-7820dd86">FIRST CITIZEN</span></p></td><td class="cl-7823a8b9"><p class="cl-78238c7a"><span class="cl-7820dd86">1</span></p></td><td class="cl-7823a8c2"><p class="cl-78238c7a"><span class="cl-7820dd86">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8c3"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE I</span></p></td><td class="cl-7823a8c4"><p class="cl-78238c70"><span class="cl-7820dd86">LADY CAPULET</span></p></td><td class="cl-7823a8cc"><p class="cl-78238c7a"><span class="cl-7820dd86">1</span></p></td><td class="cl-7823a8cd"><p class="cl-78238c7a"><span class="cl-7820dd86">10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8b1"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE I</span></p></td><td class="cl-7823a8b8"><p class="cl-78238c70"><span class="cl-7820dd86">MONTAGUE</span></p></td><td class="cl-7823a8b9"><p class="cl-78238c7a"><span class="cl-7820dd86">6</span></p></td><td class="cl-7823a8c2"><p class="cl-78238c7a"><span class="cl-7820dd86">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8c3"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE I</span></p></td><td class="cl-7823a8c4"><p class="cl-78238c70"><span class="cl-7820dd86">PRINCE</span></p></td><td class="cl-7823a8cc"><p class="cl-78238c7a"><span class="cl-7820dd86">1</span></p></td><td class="cl-7823a8cd"><p class="cl-78238c7a"><span class="cl-7820dd86">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8b1"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE I</span></p></td><td class="cl-7823a8b8"><p class="cl-78238c70"><span class="cl-7820dd86">ROMEO</span></p></td><td class="cl-7823a8b9"><p class="cl-78238c7a"><span class="cl-7820dd86">16</span></p></td><td class="cl-7823a8c2"><p class="cl-78238c7a"><span class="cl-7820dd86">14</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8c3"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE I</span></p></td><td class="cl-7823a8c4"><p class="cl-78238c70"><span class="cl-7820dd86">TYBALT</span></p></td><td class="cl-7823a8cc"><p class="cl-78238c7a"><span class="cl-7820dd86">2</span></p></td><td class="cl-7823a8cd"><p class="cl-78238c7a"><span class="cl-7820dd86">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8b1"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE II</span></p></td><td class="cl-7823a8b8"><p class="cl-78238c70"><span class="cl-7820dd86">BENVOLIO</span></p></td><td class="cl-7823a8b9"><p class="cl-78238c7a"><span class="cl-7820dd86">5</span></p></td><td class="cl-7823a8c2"><p class="cl-78238c7a"><span class="cl-7820dd86">7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8c3"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE II</span></p></td><td class="cl-7823a8c4"><p class="cl-78238c70"><span class="cl-7820dd86">CAPULET</span></p></td><td class="cl-7823a8cc"><p class="cl-78238c7a"><span class="cl-7820dd86">3</span></p></td><td class="cl-7823a8cd"><p class="cl-78238c7a"><span class="cl-7820dd86">9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8b1"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE II</span></p></td><td class="cl-7823a8b8"><p class="cl-78238c70"><span class="cl-7820dd86">PARIS</span></p></td><td class="cl-7823a8b9"><p class="cl-78238c7a"><span class="cl-7820dd86">2</span></p></td><td class="cl-7823a8c2"><p class="cl-78238c7a"><span class="cl-7820dd86">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8c3"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE II</span></p></td><td class="cl-7823a8c4"><p class="cl-78238c70"><span class="cl-7820dd86">ROMEO</span></p></td><td class="cl-7823a8cc"><p class="cl-78238c7a"><span class="cl-7820dd86">11</span></p></td><td class="cl-7823a8cd"><p class="cl-78238c7a"><span class="cl-7820dd86">14</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8b1"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE II</span></p></td><td class="cl-7823a8b8"><p class="cl-78238c70"><span class="cl-7820dd86">SERVANT</span></p></td><td class="cl-7823a8b9"><p class="cl-78238c7a"><span class="cl-7820dd86">8</span></p></td><td class="cl-7823a8c2"><p class="cl-78238c7a"><span class="cl-7820dd86">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8c3"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE III</span></p></td><td class="cl-7823a8c4"><p class="cl-78238c70"><span class="cl-7820dd86">JULIET</span></p></td><td class="cl-7823a8cc"><p class="cl-78238c7a"><span class="cl-7820dd86">5</span></p></td><td class="cl-7823a8cd"><p class="cl-78238c7a"><span class="cl-7820dd86">11</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7823a8ce"><p class="cl-78238c70"><span class="cl-7820dd86">ACT I_SCENE III</span></p></td><td class="cl-7823a8d6"><p class="cl-78238c70"><span class="cl-7820dd86">LADY CAPULET</span></p></td><td class="cl-7823a8d7"><p class="cl-78238c7a"><span class="cl-7820dd86">11</span></p></td><td class="cl-7823a8d8"><p class="cl-78238c7a"><span class="cl-7820dd86">10</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We now transform that table into a co-occurrence matrix.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>net_cmx <span class="ot">&lt;-</span> <span class="fu">crossprod</span>(<span class="fu">table</span>(net_dat[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(net_cmx) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>net_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(net_cmx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-78561e06{table-layout:auto;width:95%;}.cl-7850b60a{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-7850b614{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-7852b112{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-7852b11c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-7852d066{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d070{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d071{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d07a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d07b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d084{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d098{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d0a2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d0a3{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d0ac{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d0ad{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7852d0b6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-78561e06"><thead><tr style="overflow-wrap:break-word;"><th class="cl-7852d066"><p class="cl-7852b112"><span class="cl-7850b60a">Persona</span></p></th><th class="cl-7852d070"><p class="cl-7852b11c"><span class="cl-7850b60a">BALTHASAR</span></p></th><th class="cl-7852d070"><p class="cl-7852b11c"><span class="cl-7850b60a">BENVOLIO</span></p></th><th class="cl-7852d070"><p class="cl-7852b11c"><span class="cl-7850b60a">CAPULET</span></p></th><th class="cl-7852d070"><p class="cl-7852b11c"><span class="cl-7850b60a">FIRST CITIZEN</span></p></th><th class="cl-7852d071"><p class="cl-7852b11c"><span class="cl-7850b60a">FIRST SERVANT</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-7852d07a"><p class="cl-7852b112"><span class="cl-7850b614">BALTHASAR</span></p></td><td class="cl-7852d07b"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d07b"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d07b"><p class="cl-7852b11c"><span class="cl-7850b614">1</span></p></td><td class="cl-7852d07b"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d084"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7852d098"><p class="cl-7852b112"><span class="cl-7850b614">BENVOLIO</span></p></td><td class="cl-7852d0a2"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d0a2"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d0a2"><p class="cl-7852b11c"><span class="cl-7850b614">3</span></p></td><td class="cl-7852d0a2"><p class="cl-7852b11c"><span class="cl-7850b614">2</span></p></td><td class="cl-7852d0a3"><p class="cl-7852b11c"><span class="cl-7850b614">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7852d07a"><p class="cl-7852b112"><span class="cl-7850b614">CAPULET</span></p></td><td class="cl-7852d07b"><p class="cl-7852b11c"><span class="cl-7850b614">1</span></p></td><td class="cl-7852d07b"><p class="cl-7852b11c"><span class="cl-7850b614">3</span></p></td><td class="cl-7852d07b"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d07b"><p class="cl-7852b11c"><span class="cl-7850b614">1</span></p></td><td class="cl-7852d084"><p class="cl-7852b11c"><span class="cl-7850b614">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7852d098"><p class="cl-7852b112"><span class="cl-7850b614">FIRST CITIZEN</span></p></td><td class="cl-7852d0a2"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d0a2"><p class="cl-7852b11c"><span class="cl-7850b614">2</span></p></td><td class="cl-7852d0a2"><p class="cl-7852b11c"><span class="cl-7850b614">1</span></p></td><td class="cl-7852d0a2"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d0a3"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7852d0ac"><p class="cl-7852b112"><span class="cl-7850b614">FIRST SERVANT</span></p></td><td class="cl-7852d0ad"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d0ad"><p class="cl-7852b11c"><span class="cl-7850b614">1</span></p></td><td class="cl-7852d0ad"><p class="cl-7852b11c"><span class="cl-7850b614">2</span></p></td><td class="cl-7852d0ad"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td><td class="cl-7852d0b6"><p class="cl-7852b11c"><span class="cl-7850b614">0</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>The data shows how often a character has appeared with each other character in the play - only Friar Lawrence and Friar John were excluded because they only appear in one scene where they talk to each other.</p>
</section>
</section>
<section id="network-visualization" class="level1 unnumbered">
<h1 class="unnumbered">Network Visualization</h1>
<p>There are various different ways to visualize a network structure. We will focus on two packages for network visualization here and exemplify how you can visualize networks in R.</p>
<section id="quanteda-networks" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="quanteda-networks">Quanteda Networks</h2>
<p>The <code>quanteda</code> package contains many very useful functions for analyzing texts. Among these functions is the <code>textplot_network</code> function which provides a very handy way to display networks. The advantage of the network plots provided by or generated with the <code>quanteda</code> package is that you can create them with very little code. However, this comes at a cost as these visualizations cannot be modified easily (which means that their design is not very flexible compared to other methods for generating network visualizations).</p>
<p>In a first step, we transform the text vectors of the <code>romeo</code> data into a document-feature matrix using the <code>dfm</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a document feature matrix</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>net_dfm <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">as.dfm</span>(net_df)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create feature co-occurrence matrix</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>net_fcm <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">fcm</span>(net_dfm, <span class="at">tri =</span> F)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect data</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(net_fcm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Feature co-occurrence matrix of: 6 by 18 features.
                features
features         BALTHASAR BENVOLIO CAPULET FIRST CITIZEN FIRST SERVANT
  BALTHASAR              1       25      31            11             6
  BENVOLIO              25       39      93            39            27
  CAPULET               31       93      65            42            39
  FIRST CITIZEN         11       39      42             6            10
  FIRST SERVANT          6       27      39            10             3
  FRIAR LAWRENCE        20       53      74            18            17
                features
features         FRIAR LAWRENCE JULIET LADY CAPULET MERCUTIO MONTAGUE
  BALTHASAR                  20     26           31       11       17
  BENVOLIO                   53     87           99       42       55
  CAPULET                    74    131          117       52       65
  FIRST CITIZEN              18     32           36       24       29
  FIRST SERVANT              17     40           42       12       15
  FRIAR LAWRENCE             15     61           72       23       32
[ reached max_nfeat ... 8 more features ]</code></pre>
</div>
</div>
<p>This feature-co-occurrence matrix can then serve as the input for the <code>textplot_network</code> function which already generates a nice network graph.</p>
<p>Now we generate a network graph using the <code>textplot_network</code> function from the <code>quanteda.textplots</code> package. This function has the following arguments:</p>
<ul>
<li><code>x</code>: a fcm or dfm object<br>
</li>
<li><code>min_freq</code>: a frequency count threshold or proportion for co-occurrence frequencies of features to be included (default = 0.5),<br>
</li>
<li><code>omit_isolated</code>: if TRUE, features do not occur more frequent than min_freq will be omitted (default = TRUE),<br>
</li>
<li><code>edge_color</code>: color of edges that connect vertices (default = “#1F78B4”),</li>
<li><code>edge_alpha</code>: opacity of edges ranging from 0 to 1.0 (default = 0.5),</li>
<li><code>edge_size</code>: size of edges for most frequent co-occurrence (default = 2),</li>
<li><code>vertex_color</code>: color of vertices (default = “#4D4D4D”),</li>
<li><code>vertex_size</code>: size of vertices (default = 2),</li>
<li><code>vertex_labelcolor</code>: color of texts. Defaults to the same as vertex_color,</li>
<li><code>vertex_labelfont</code>: font-family of texts,</li>
<li><code>vertex_labelsize</code>: size of vertex labels in mm. Defaults to size 5. Supports both integer values and vector values (default = 5),</li>
<li><code>offset</code>: if NULL (default), the distance between vertices and texts are determined automatically,</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>quanteda.textplots<span class="sc">::</span><span class="fu">textplot_network</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> net_fcm, <span class="co"># a fcm or dfm object</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_freq =</span> <span class="fl">0.5</span>, <span class="co"># frequency count threshold or proportion for co-occurrence frequencies (default = 0.5)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_alpha =</span> <span class="fl">0.5</span>, <span class="co"># opacity of edges ranging from 0 to 1.0 (default = 0.5)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_color =</span> <span class="st">"gray"</span>, <span class="co"># color of edges that connect vertices (default = "#1F78B4")</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_size =</span> <span class="dv">2</span>, <span class="co"># size of edges for most frequent co-occurrence (default = 2)</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate the size of vertex labels for the network plot</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">vertex_labelsize =</span> net_dfm <span class="sc">%&gt;%</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># convert the dfm object to a data frame</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        quanteda<span class="sc">::</span><span class="fu">convert</span>(<span class="at">to =</span> <span class="st">"data.frame"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># exclude the 'doc_id' column</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>doc_id) <span class="sc">%&gt;%</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># calculate the sum of row values for each row</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rowSums</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># apply the natural logarithm to the resulting sums</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">log</span>(),</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">vertex_color =</span> <span class="st">"#4D4D4D"</span>, <span class="co"># color of vertices (default = "#4D4D4D")</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">vertex_size =</span> <span class="dv">2</span> <span class="co"># size of vertices (default = 2)</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="net_files/figure-html/qtda04-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We now turn to generating <em>tidy networks</em> with is more complex but also offers more flexibility and options for customization.</p>
</section>
<section id="tidy-networks" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="tidy-networks">Tidy Networks</h2>
<p>We now turn to a different method for generating networks that is extremely flexible.</p>
<p>First, we define the <em>nodes</em> and we can also add information about the nodes that we can use later on (such as frequency information).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a new data frame 'va' using the 'net_dat' data</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>net_dat <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rename the 'person' column to 'node' and 'occurrences' column to 'n'</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">node =</span> person,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> occurrences</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># group the data by the 'node' column</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(node) <span class="sc">%&gt;%</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># summarize the data, calculating the total occurrences ('n') for each 'node'</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(n)) <span class="ot">-&gt;</span> va</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-78d5fd60{table-layout:auto;width:50%;}.cl-78ceb4d8{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-78ceb4ec{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-78d14b44{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-78d14b58{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-78d163ea{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78d163f4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78d163f5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78d163f6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78d163fe{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78d163ff{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78d16408{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78d16409{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-78d5fd60"><thead><tr style="overflow-wrap:break-word;"><th class="cl-78d163ea"><p class="cl-78d14b44"><span class="cl-78ceb4d8">node</span></p></th><th class="cl-78d163f4"><p class="cl-78d14b58"><span class="cl-78ceb4d8">n</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-78d163f5"><p class="cl-78d14b44"><span class="cl-78ceb4ec">BALTHASAR</span></p></td><td class="cl-78d163f6"><p class="cl-78d14b58"><span class="cl-78ceb4ec">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163fe"><p class="cl-78d14b44"><span class="cl-78ceb4ec">BENVOLIO</span></p></td><td class="cl-78d163ff"><p class="cl-78d14b58"><span class="cl-78ceb4ec">49</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163f5"><p class="cl-78d14b44"><span class="cl-78ceb4ec">CAPULET</span></p></td><td class="cl-78d163f6"><p class="cl-78d14b58"><span class="cl-78ceb4ec">81</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163fe"><p class="cl-78d14b44"><span class="cl-78ceb4ec">FIRST CITIZEN</span></p></td><td class="cl-78d163ff"><p class="cl-78d14b58"><span class="cl-78ceb4ec">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163f5"><p class="cl-78d14b44"><span class="cl-78ceb4ec">FIRST SERVANT</span></p></td><td class="cl-78d163f6"><p class="cl-78d14b58"><span class="cl-78ceb4ec">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163fe"><p class="cl-78d14b44"><span class="cl-78ceb4ec">FRIAR LAWRENCE</span></p></td><td class="cl-78d163ff"><p class="cl-78d14b58"><span class="cl-78ceb4ec">49</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163f5"><p class="cl-78d14b44"><span class="cl-78ceb4ec">JULIET</span></p></td><td class="cl-78d163f6"><p class="cl-78d14b58"><span class="cl-78ceb4ec">121</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163fe"><p class="cl-78d14b44"><span class="cl-78ceb4ec">LADY CAPULET</span></p></td><td class="cl-78d163ff"><p class="cl-78d14b58"><span class="cl-78ceb4ec">100</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163f5"><p class="cl-78d14b44"><span class="cl-78ceb4ec">MERCUTIO</span></p></td><td class="cl-78d163f6"><p class="cl-78d14b58"><span class="cl-78ceb4ec">16</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163fe"><p class="cl-78d14b44"><span class="cl-78ceb4ec">MONTAGUE</span></p></td><td class="cl-78d163ff"><p class="cl-78d14b58"><span class="cl-78ceb4ec">9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163f5"><p class="cl-78d14b44"><span class="cl-78ceb4ec">NURSE</span></p></td><td class="cl-78d163f6"><p class="cl-78d14b58"><span class="cl-78ceb4ec">121</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163fe"><p class="cl-78d14b44"><span class="cl-78ceb4ec">PARIS</span></p></td><td class="cl-78d163ff"><p class="cl-78d14b58"><span class="cl-78ceb4ec">25</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163f5"><p class="cl-78d14b44"><span class="cl-78ceb4ec">PETER</span></p></td><td class="cl-78d163f6"><p class="cl-78d14b58"><span class="cl-78ceb4ec">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163fe"><p class="cl-78d14b44"><span class="cl-78ceb4ec">PRINCE</span></p></td><td class="cl-78d163ff"><p class="cl-78d14b58"><span class="cl-78ceb4ec">9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163f5"><p class="cl-78d14b44"><span class="cl-78ceb4ec">ROMEO</span></p></td><td class="cl-78d163f6"><p class="cl-78d14b58"><span class="cl-78ceb4ec">196</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163fe"><p class="cl-78d14b44"><span class="cl-78ceb4ec">SECOND SERVANT</span></p></td><td class="cl-78d163ff"><p class="cl-78d14b58"><span class="cl-78ceb4ec">9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d163f5"><p class="cl-78d14b44"><span class="cl-78ceb4ec">SERVANT</span></p></td><td class="cl-78d163f6"><p class="cl-78d14b58"><span class="cl-78ceb4ec">9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78d16408"><p class="cl-78d14b44"><span class="cl-78ceb4ec">TYBALT</span></p></td><td class="cl-78d16409"><p class="cl-78d14b58"><span class="cl-78ceb4ec">9</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>The next part is optional but it can help highlight important information. We add a column with additional information to our nodes table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define family</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>mon <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ABRAM"</span>, <span class="st">"BALTHASAR"</span>, <span class="st">"BENVOLIO"</span>, <span class="st">"LADY MONTAGUE"</span>, <span class="st">"MONTAGUE"</span>, <span class="st">"ROMEO"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>cap <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"CAPULET"</span>, <span class="st">"CAPULET’S COUSIN"</span>, <span class="st">"FIRST SERVANT"</span>, <span class="st">"GREGORY"</span>, <span class="st">"JULIET"</span>, <span class="st">"LADY CAPULET"</span>, <span class="st">"NURSE"</span>, <span class="st">"PETER"</span>, <span class="st">"SAMPSON"</span>, <span class="st">"TYBALT"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>oth <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"APOTHECARY"</span>, <span class="st">"CHORUS"</span>, <span class="st">"FIRST CITIZEN"</span>, <span class="st">"FIRST MUSICIAN"</span>, <span class="st">"FIRST WATCH"</span>, <span class="st">"FRIAR JOHN"</span>, <span class="st">"FRIAR LAWRENCE"</span>, <span class="st">"MERCUTIO"</span>, <span class="st">"PAGE"</span>, <span class="st">"PARIS"</span>, <span class="st">"PRINCE"</span>, <span class="st">"SECOND MUSICIAN"</span>, <span class="st">"SECOND SERVANT"</span>, <span class="st">"SECOND WATCH"</span>, <span class="st">"SERVANT"</span>, <span class="st">"THIRD MUSICIAN"</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># create color vectors</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>va <span class="ot">&lt;-</span> va <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">type =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">%in%</span> mon <span class="sc">~</span> <span class="st">"MONTAGUE"</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">%in%</span> cap <span class="sc">~</span> <span class="st">"CAPULET"</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect updates nodes table</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>va</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 3
   node               n type    
   &lt;chr&gt;          &lt;int&gt; &lt;chr&gt;   
 1 BALTHASAR          4 MONTAGUE
 2 BENVOLIO          49 MONTAGUE
 3 CAPULET           81 CAPULET 
 4 FIRST CITIZEN      4 Other   
 5 FIRST SERVANT      4 CAPULET 
 6 FRIAR LAWRENCE    49 Other   
 7 JULIET           121 CAPULET 
 8 LADY CAPULET     100 CAPULET 
 9 MERCUTIO          16 Other   
10 MONTAGUE           9 MONTAGUE
11 NURSE            121 CAPULET 
12 PARIS             25 Other   
13 PETER              4 CAPULET 
14 PRINCE             9 Other   
15 ROMEO            196 MONTAGUE
16 SECOND SERVANT     9 Other   
17 SERVANT            9 Other   
18 TYBALT             9 CAPULET </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-78eaf4c2{table-layout:auto;width:50%;}.cl-78e616fa{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-78e61704{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-78e814aa{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-78e814be{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-78e82832{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e8283c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e8283d{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e82846{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e82847{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e82850{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e82851{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e82852{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e8285a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e8285b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e82864{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78e82865{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-78eaf4c2"><thead><tr style="overflow-wrap:break-word;"><th class="cl-78e82832"><p class="cl-78e814aa"><span class="cl-78e616fa">node</span></p></th><th class="cl-78e8283c"><p class="cl-78e814be"><span class="cl-78e616fa">n</span></p></th><th class="cl-78e8283d"><p class="cl-78e814aa"><span class="cl-78e616fa">type</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-78e82846"><p class="cl-78e814aa"><span class="cl-78e61704">BALTHASAR</span></p></td><td class="cl-78e82847"><p class="cl-78e814be"><span class="cl-78e61704">4</span></p></td><td class="cl-78e82850"><p class="cl-78e814aa"><span class="cl-78e61704">MONTAGUE</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82851"><p class="cl-78e814aa"><span class="cl-78e61704">BENVOLIO</span></p></td><td class="cl-78e82852"><p class="cl-78e814be"><span class="cl-78e61704">49</span></p></td><td class="cl-78e8285a"><p class="cl-78e814aa"><span class="cl-78e61704">MONTAGUE</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82846"><p class="cl-78e814aa"><span class="cl-78e61704">CAPULET</span></p></td><td class="cl-78e82847"><p class="cl-78e814be"><span class="cl-78e61704">81</span></p></td><td class="cl-78e82850"><p class="cl-78e814aa"><span class="cl-78e61704">CAPULET</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82851"><p class="cl-78e814aa"><span class="cl-78e61704">FIRST CITIZEN</span></p></td><td class="cl-78e82852"><p class="cl-78e814be"><span class="cl-78e61704">4</span></p></td><td class="cl-78e8285a"><p class="cl-78e814aa"><span class="cl-78e61704">Other</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82846"><p class="cl-78e814aa"><span class="cl-78e61704">FIRST SERVANT</span></p></td><td class="cl-78e82847"><p class="cl-78e814be"><span class="cl-78e61704">4</span></p></td><td class="cl-78e82850"><p class="cl-78e814aa"><span class="cl-78e61704">CAPULET</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82851"><p class="cl-78e814aa"><span class="cl-78e61704">FRIAR LAWRENCE</span></p></td><td class="cl-78e82852"><p class="cl-78e814be"><span class="cl-78e61704">49</span></p></td><td class="cl-78e8285a"><p class="cl-78e814aa"><span class="cl-78e61704">Other</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82846"><p class="cl-78e814aa"><span class="cl-78e61704">JULIET</span></p></td><td class="cl-78e82847"><p class="cl-78e814be"><span class="cl-78e61704">121</span></p></td><td class="cl-78e82850"><p class="cl-78e814aa"><span class="cl-78e61704">CAPULET</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82851"><p class="cl-78e814aa"><span class="cl-78e61704">LADY CAPULET</span></p></td><td class="cl-78e82852"><p class="cl-78e814be"><span class="cl-78e61704">100</span></p></td><td class="cl-78e8285a"><p class="cl-78e814aa"><span class="cl-78e61704">CAPULET</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82846"><p class="cl-78e814aa"><span class="cl-78e61704">MERCUTIO</span></p></td><td class="cl-78e82847"><p class="cl-78e814be"><span class="cl-78e61704">16</span></p></td><td class="cl-78e82850"><p class="cl-78e814aa"><span class="cl-78e61704">Other</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82851"><p class="cl-78e814aa"><span class="cl-78e61704">MONTAGUE</span></p></td><td class="cl-78e82852"><p class="cl-78e814be"><span class="cl-78e61704">9</span></p></td><td class="cl-78e8285a"><p class="cl-78e814aa"><span class="cl-78e61704">MONTAGUE</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82846"><p class="cl-78e814aa"><span class="cl-78e61704">NURSE</span></p></td><td class="cl-78e82847"><p class="cl-78e814be"><span class="cl-78e61704">121</span></p></td><td class="cl-78e82850"><p class="cl-78e814aa"><span class="cl-78e61704">CAPULET</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82851"><p class="cl-78e814aa"><span class="cl-78e61704">PARIS</span></p></td><td class="cl-78e82852"><p class="cl-78e814be"><span class="cl-78e61704">25</span></p></td><td class="cl-78e8285a"><p class="cl-78e814aa"><span class="cl-78e61704">Other</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82846"><p class="cl-78e814aa"><span class="cl-78e61704">PETER</span></p></td><td class="cl-78e82847"><p class="cl-78e814be"><span class="cl-78e61704">4</span></p></td><td class="cl-78e82850"><p class="cl-78e814aa"><span class="cl-78e61704">CAPULET</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e82851"><p class="cl-78e814aa"><span class="cl-78e61704">PRINCE</span></p></td><td class="cl-78e82852"><p class="cl-78e814be"><span class="cl-78e61704">9</span></p></td><td class="cl-78e8285a"><p class="cl-78e814aa"><span class="cl-78e61704">Other</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78e8285b"><p class="cl-78e814aa"><span class="cl-78e61704">ROMEO</span></p></td><td class="cl-78e82864"><p class="cl-78e814be"><span class="cl-78e61704">196</span></p></td><td class="cl-78e82865"><p class="cl-78e814aa"><span class="cl-78e61704">MONTAGUE</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Now, we define the <em>edges</em>, i.e., the connections between nodes and, again, we can add information in separate variables that we can use later on.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a new data frame 'ed' using the 'dat' data</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>ed <span class="ot">&lt;-</span> net_df <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add a new column 'from' with row names</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">rownames</span>(.)) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># reshape the data from wide to long format using 'gather'</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">gather</span>(to, n, BALTHASAR<span class="sc">:</span>TYBALT) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove zero frequencies</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(n <span class="sc">!=</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-78fd424e{table-layout:auto;width:50%;}.cl-78f8217e{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-78f82188{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-78fa32b6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-78fa32ca{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-78fa502a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa5034{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa5035{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa503e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa5048{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa5049{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa5084{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa508e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa508f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa5090{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa5098{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-78fa50a2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-78fd424e"><thead><tr style="overflow-wrap:break-word;"><th class="cl-78fa502a"><p class="cl-78fa32b6"><span class="cl-78f8217e">from</span></p></th><th class="cl-78fa5034"><p class="cl-78fa32b6"><span class="cl-78f8217e">to</span></p></th><th class="cl-78fa5035"><p class="cl-78fa32ca"><span class="cl-78f8217e">n</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-78fa503e"><p class="cl-78fa32b6"><span class="cl-78f82188">CAPULET</span></p></td><td class="cl-78fa5048"><p class="cl-78fa32b6"><span class="cl-78f82188">BALTHASAR</span></p></td><td class="cl-78fa5049"><p class="cl-78fa32ca"><span class="cl-78f82188">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa5084"><p class="cl-78fa32b6"><span class="cl-78f82188">FRIAR LAWRENCE</span></p></td><td class="cl-78fa508e"><p class="cl-78fa32b6"><span class="cl-78f82188">BALTHASAR</span></p></td><td class="cl-78fa508f"><p class="cl-78fa32ca"><span class="cl-78f82188">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa503e"><p class="cl-78fa32b6"><span class="cl-78f82188">JULIET</span></p></td><td class="cl-78fa5048"><p class="cl-78fa32b6"><span class="cl-78f82188">BALTHASAR</span></p></td><td class="cl-78fa5049"><p class="cl-78fa32ca"><span class="cl-78f82188">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa5084"><p class="cl-78fa32b6"><span class="cl-78f82188">LADY CAPULET</span></p></td><td class="cl-78fa508e"><p class="cl-78fa32b6"><span class="cl-78f82188">BALTHASAR</span></p></td><td class="cl-78fa508f"><p class="cl-78fa32ca"><span class="cl-78f82188">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa503e"><p class="cl-78fa32b6"><span class="cl-78f82188">MONTAGUE</span></p></td><td class="cl-78fa5048"><p class="cl-78fa32b6"><span class="cl-78f82188">BALTHASAR</span></p></td><td class="cl-78fa5049"><p class="cl-78fa32ca"><span class="cl-78f82188">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa5084"><p class="cl-78fa32b6"><span class="cl-78f82188">PARIS</span></p></td><td class="cl-78fa508e"><p class="cl-78fa32b6"><span class="cl-78f82188">BALTHASAR</span></p></td><td class="cl-78fa508f"><p class="cl-78fa32ca"><span class="cl-78f82188">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa503e"><p class="cl-78fa32b6"><span class="cl-78f82188">PRINCE</span></p></td><td class="cl-78fa5048"><p class="cl-78fa32b6"><span class="cl-78f82188">BALTHASAR</span></p></td><td class="cl-78fa5049"><p class="cl-78fa32ca"><span class="cl-78f82188">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa5084"><p class="cl-78fa32b6"><span class="cl-78f82188">ROMEO</span></p></td><td class="cl-78fa508e"><p class="cl-78fa32b6"><span class="cl-78f82188">BALTHASAR</span></p></td><td class="cl-78fa508f"><p class="cl-78fa32ca"><span class="cl-78f82188">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa503e"><p class="cl-78fa32b6"><span class="cl-78f82188">CAPULET</span></p></td><td class="cl-78fa5048"><p class="cl-78fa32b6"><span class="cl-78f82188">BENVOLIO</span></p></td><td class="cl-78fa5049"><p class="cl-78fa32ca"><span class="cl-78f82188">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa5084"><p class="cl-78fa32b6"><span class="cl-78f82188">FIRST CITIZEN</span></p></td><td class="cl-78fa508e"><p class="cl-78fa32b6"><span class="cl-78f82188">BENVOLIO</span></p></td><td class="cl-78fa508f"><p class="cl-78fa32ca"><span class="cl-78f82188">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa503e"><p class="cl-78fa32b6"><span class="cl-78f82188">FIRST SERVANT</span></p></td><td class="cl-78fa5048"><p class="cl-78fa32b6"><span class="cl-78f82188">BENVOLIO</span></p></td><td class="cl-78fa5049"><p class="cl-78fa32ca"><span class="cl-78f82188">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa5084"><p class="cl-78fa32b6"><span class="cl-78f82188">JULIET</span></p></td><td class="cl-78fa508e"><p class="cl-78fa32b6"><span class="cl-78f82188">BENVOLIO</span></p></td><td class="cl-78fa508f"><p class="cl-78fa32ca"><span class="cl-78f82188">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa503e"><p class="cl-78fa32b6"><span class="cl-78f82188">LADY CAPULET</span></p></td><td class="cl-78fa5048"><p class="cl-78fa32b6"><span class="cl-78f82188">BENVOLIO</span></p></td><td class="cl-78fa5049"><p class="cl-78fa32ca"><span class="cl-78f82188">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa5084"><p class="cl-78fa32b6"><span class="cl-78f82188">MERCUTIO</span></p></td><td class="cl-78fa508e"><p class="cl-78fa32b6"><span class="cl-78f82188">BENVOLIO</span></p></td><td class="cl-78fa508f"><p class="cl-78fa32ca"><span class="cl-78f82188">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-78fa5090"><p class="cl-78fa32b6"><span class="cl-78f82188">MONTAGUE</span></p></td><td class="cl-78fa5098"><p class="cl-78fa32b6"><span class="cl-78f82188">BENVOLIO</span></p></td><td class="cl-78fa50a2"><p class="cl-78fa32ca"><span class="cl-78f82188">2</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Now that we have generated tables for the edges and the nodes, we can generate a <em>graph object</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>ig <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> ed, <span class="at">vertices =</span> va, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will also add labels to the nodes as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>tg <span class="ot">&lt;-</span> tidygraph<span class="sc">::</span><span class="fu">as_tbl_graph</span>(ig) <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    tidygraph<span class="sc">::</span><span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">label =</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When we now plot our network, it looks as shown below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set seed (so that the exact same network graph is created every time)</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># create a graph using the 'tg' data frame with the Fruchterman-Reingold layout</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>tg <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    ggraph<span class="sc">::</span><span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">"fr"</span>) <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add arcs for edges with various aesthetics</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_arc</span>(</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">colour =</span> <span class="st">"gray50"</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">lineend =</span> <span class="st">"round"</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">strength =</span> .<span class="dv">1</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">edge_width =</span> ed<span class="sc">$</span>n,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> ed<span class="sc">$</span>n</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add points for nodes with size based on log-transformed 'v.size' and color based on 'va$Family'</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="fu">log</span>(va<span class="sc">$</span>n) <span class="sc">*</span> <span class="dv">2</span>,</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">color =</span> va<span class="sc">$</span>type)</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add text labels for nodes with various aesthetics</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name),</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">repel =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">point.padding =</span> <span class="fu">unit</span>(<span class="fl">0.2</span>, <span class="st">"lines"</span>),</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="fu">sqrt</span>(va<span class="sc">$</span>n),</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">colour =</span> <span class="st">"gray10"</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># adjust edge width and alpha scales</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_edge_width</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">2.5</span>)) <span class="sc">+</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_edge_alpha</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set graph background color to white</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_graph</span>(<span class="at">background =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># adjust legend position to the top</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"top"</span>,</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>        <span class="co"># suppress legend title</span></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove edge width and alpha guides from the legend</span></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">edge_width =</span> <span class="cn">FALSE</span>,</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">edge_alpha =</span> <span class="cn">FALSE</span></span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="net_files/figure-html/tidy11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="network-statistics" class="level1 unnumbered">
<h1 class="unnumbered">Network Statistics</h1>
<p>In addition to visualizing networks, we will analyze the network and extract certain statistics about the network that tell us about structural properties of networks.</p>
<p>To extract the statistics, we use the edge object generated above (called <code>ed</code>) and then repeat each combination as often as it occurred based on the value in the <code>Frequency</code> column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>dg <span class="ot">&lt;-</span> ed[<span class="fu">rep</span>(<span class="fu">seq_along</span>(ed<span class="sc">$</span>n), ed<span class="sc">$</span>n), <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(dg) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The resulting object (<code>dg</code>) looks as shown below.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-79a7660c{table-layout:auto;width:95%;}.cl-79a2cd4a{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-79a2cd54{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-79a4bc54{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-79a4cf82{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79a4cf8c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79a4cf8d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79a4cf96{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79a4cf97{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79a4cfa0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79a4cfa1{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79a4cfaa{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-79a7660c"><thead><tr style="overflow-wrap:break-word;"><th class="cl-79a4cf82"><p class="cl-79a4bc54"><span class="cl-79a2cd4a">from</span></p></th><th class="cl-79a4cf8c"><p class="cl-79a4bc54"><span class="cl-79a2cd4a">to</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf8d"><p class="cl-79a4bc54"><span class="cl-79a2cd54">CAPULET</span></p></td><td class="cl-79a4cf96"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BALTHASAR</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf97"><p class="cl-79a4bc54"><span class="cl-79a2cd54">FRIAR LAWRENCE</span></p></td><td class="cl-79a4cfa0"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BALTHASAR</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf8d"><p class="cl-79a4bc54"><span class="cl-79a2cd54">JULIET</span></p></td><td class="cl-79a4cf96"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BALTHASAR</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf97"><p class="cl-79a4bc54"><span class="cl-79a2cd54">LADY CAPULET</span></p></td><td class="cl-79a4cfa0"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BALTHASAR</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf8d"><p class="cl-79a4bc54"><span class="cl-79a2cd54">MONTAGUE</span></p></td><td class="cl-79a4cf96"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BALTHASAR</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf97"><p class="cl-79a4bc54"><span class="cl-79a2cd54">PARIS</span></p></td><td class="cl-79a4cfa0"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BALTHASAR</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf8d"><p class="cl-79a4bc54"><span class="cl-79a2cd54">PRINCE</span></p></td><td class="cl-79a4cf96"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BALTHASAR</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf97"><p class="cl-79a4bc54"><span class="cl-79a2cd54">ROMEO</span></p></td><td class="cl-79a4cfa0"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BALTHASAR</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf8d"><p class="cl-79a4bc54"><span class="cl-79a2cd54">ROMEO</span></p></td><td class="cl-79a4cf96"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BALTHASAR</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf97"><p class="cl-79a4bc54"><span class="cl-79a2cd54">CAPULET</span></p></td><td class="cl-79a4cfa0"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BENVOLIO</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf8d"><p class="cl-79a4bc54"><span class="cl-79a2cd54">CAPULET</span></p></td><td class="cl-79a4cf96"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BENVOLIO</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf97"><p class="cl-79a4bc54"><span class="cl-79a2cd54">CAPULET</span></p></td><td class="cl-79a4cfa0"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BENVOLIO</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf8d"><p class="cl-79a4bc54"><span class="cl-79a2cd54">FIRST CITIZEN</span></p></td><td class="cl-79a4cf96"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BENVOLIO</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cf97"><p class="cl-79a4bc54"><span class="cl-79a2cd54">FIRST CITIZEN</span></p></td><td class="cl-79a4cfa0"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BENVOLIO</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79a4cfa1"><p class="cl-79a4bc54"><span class="cl-79a2cd54">FIRST SERVANT</span></p></td><td class="cl-79a4cfaa"><p class="cl-79a4bc54"><span class="cl-79a2cd54">BENVOLIO</span></p></td></tr></tbody></table></div>
</div>
</div>
<section id="degree-centrality" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="degree-centrality">Degree centrality</h2>
<p>We now generate an edge list from the <code>dg</code> object and then extract the <em>degree centrality</em>. The <em>degree centrality</em> reflects how many edges each node has with the most central node having the highest value.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>dgg <span class="ot">&lt;-</span> <span class="fu">graph.edgelist</span>(<span class="fu">as.matrix</span>(dg), <span class="at">directed =</span> T)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># extract degree centrality</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">degree</span>(dgg) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="st">"node"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="st">`</span><span class="at">degree centrality</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span><span class="st">`</span><span class="at">degree centrality</span><span class="st">`</span>) <span class="ot">-&gt;</span> dc_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-79bc65ca{table-layout:auto;width:95%;}.cl-79b7b55c{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-79b7b566{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-79b9a466{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-79b9a47a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-79b9b69a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79b9b6a4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79b9b6a5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79b9b6ae{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79b9b6af{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79b9b6b0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79b9b6b8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79b9b6b9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-79bc65ca"><thead><tr style="overflow-wrap:break-word;"><th class="cl-79b9b69a"><p class="cl-79b9a466"><span class="cl-79b7b55c">node</span></p></th><th class="cl-79b9b6a4"><p class="cl-79b9a47a"><span class="cl-79b7b55c">degree centrality</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6a5"><p class="cl-79b9a466"><span class="cl-79b7b566">ROMEO</span></p></td><td class="cl-79b9b6ae"><p class="cl-79b9a47a"><span class="cl-79b7b566">108</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6af"><p class="cl-79b9a466"><span class="cl-79b7b566">CAPULET</span></p></td><td class="cl-79b9b6b0"><p class="cl-79b9a47a"><span class="cl-79b7b566">92</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6a5"><p class="cl-79b9a466"><span class="cl-79b7b566">LADY CAPULET</span></p></td><td class="cl-79b9b6ae"><p class="cl-79b9a47a"><span class="cl-79b7b566">90</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6af"><p class="cl-79b9a466"><span class="cl-79b7b566">NURSE</span></p></td><td class="cl-79b9b6b0"><p class="cl-79b9a47a"><span class="cl-79b7b566">76</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6a5"><p class="cl-79b9a466"><span class="cl-79b7b566">JULIET</span></p></td><td class="cl-79b9b6ae"><p class="cl-79b9a47a"><span class="cl-79b7b566">72</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6af"><p class="cl-79b9a466"><span class="cl-79b7b566">BENVOLIO</span></p></td><td class="cl-79b9b6b0"><p class="cl-79b9a47a"><span class="cl-79b7b566">68</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6a5"><p class="cl-79b9a466"><span class="cl-79b7b566">MONTAGUE</span></p></td><td class="cl-79b9b6ae"><p class="cl-79b9a47a"><span class="cl-79b7b566">44</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6af"><p class="cl-79b9a466"><span class="cl-79b7b566">PRINCE</span></p></td><td class="cl-79b9b6b0"><p class="cl-79b9a47a"><span class="cl-79b7b566">44</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6a5"><p class="cl-79b9a466"><span class="cl-79b7b566">TYBALT</span></p></td><td class="cl-79b9b6ae"><p class="cl-79b9a47a"><span class="cl-79b7b566">44</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6af"><p class="cl-79b9a466"><span class="cl-79b7b566">PARIS</span></p></td><td class="cl-79b9b6b0"><p class="cl-79b9a47a"><span class="cl-79b7b566">42</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6a5"><p class="cl-79b9a466"><span class="cl-79b7b566">FRIAR LAWRENCE</span></p></td><td class="cl-79b9b6ae"><p class="cl-79b9a47a"><span class="cl-79b7b566">40</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6af"><p class="cl-79b9a466"><span class="cl-79b7b566">SECOND SERVANT</span></p></td><td class="cl-79b9b6b0"><p class="cl-79b9a47a"><span class="cl-79b7b566">32</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6a5"><p class="cl-79b9a466"><span class="cl-79b7b566">MERCUTIO</span></p></td><td class="cl-79b9b6ae"><p class="cl-79b9a47a"><span class="cl-79b7b566">30</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6af"><p class="cl-79b9a466"><span class="cl-79b7b566">SERVANT</span></p></td><td class="cl-79b9b6b0"><p class="cl-79b9a47a"><span class="cl-79b7b566">30</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79b9b6b8"><p class="cl-79b9a466"><span class="cl-79b7b566">FIRST CITIZEN</span></p></td><td class="cl-79b9b6b9"><p class="cl-79b9a47a"><span class="cl-79b7b566">28</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="central-node" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="central-node">Central node</h2>
<p>Next, we extract the most <em>central node</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(dgg))[<span class="fu">which</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(dgg) <span class="sc">==</span> <span class="fu">max</span>(igraph<span class="sc">::</span><span class="fu">degree</span>(dgg)))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ROMEO"</code></pre>
</div>
</div>
</section>
<section id="betweenness-centrality" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="betweenness-centrality">Betweenness centrality</h2>
<p>We now extract the <em>betweenness centrality</em>. <em>Betweenness centrality</em> provides a measure of how important nodes are for information flow between nodes in a network. The node with the highest betweenness centrality creates the shortest paths in the network. The higher a node’s <em>betweenness centrality</em>, the more important it is for the efficient flow of goods in a network.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">betweenness</span>(dgg) <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="st">"node"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="st">`</span><span class="at">betweenness centrality</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span><span class="st">`</span><span class="at">betweenness centrality</span><span class="st">`</span>) <span class="ot">-&gt;</span> bc_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-79d3663a{table-layout:auto;width:95%;}.cl-79cd6848{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-79cd685c{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-79cf8434{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-79cf843e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-79cf98ca{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79cf98d4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79cf98d5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79cf98de{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79cf98e8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79cf98e9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79cf98f2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79cf98f3{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-79d3663a"><thead><tr style="overflow-wrap:break-word;"><th class="cl-79cf98ca"><p class="cl-79cf8434"><span class="cl-79cd6848">node</span></p></th><th class="cl-79cf98d4"><p class="cl-79cf843e"><span class="cl-79cd6848">betweenness centrality</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-79cf98d5"><p class="cl-79cf8434"><span class="cl-79cd685c">ROMEO</span></p></td><td class="cl-79cf98de"><p class="cl-79cf843e"><span class="cl-79cd685c">27.62437026</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98e8"><p class="cl-79cf8434"><span class="cl-79cd685c">LADY CAPULET</span></p></td><td class="cl-79cf98e9"><p class="cl-79cf843e"><span class="cl-79cd685c">16.27686423</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98d5"><p class="cl-79cf8434"><span class="cl-79cd685c">CAPULET</span></p></td><td class="cl-79cf98de"><p class="cl-79cf843e"><span class="cl-79cd685c">15.62321868</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98e8"><p class="cl-79cf8434"><span class="cl-79cd685c">BENVOLIO</span></p></td><td class="cl-79cf98e9"><p class="cl-79cf843e"><span class="cl-79cd685c">9.61512099</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98d5"><p class="cl-79cf8434"><span class="cl-79cd685c">NURSE</span></p></td><td class="cl-79cf98de"><p class="cl-79cf843e"><span class="cl-79cd685c">7.40145363</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98e8"><p class="cl-79cf8434"><span class="cl-79cd685c">JULIET</span></p></td><td class="cl-79cf98e9"><p class="cl-79cf843e"><span class="cl-79cd685c">5.55471008</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98d5"><p class="cl-79cf8434"><span class="cl-79cd685c">TYBALT</span></p></td><td class="cl-79cf98de"><p class="cl-79cf843e"><span class="cl-79cd685c">3.19940849</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98e8"><p class="cl-79cf8434"><span class="cl-79cd685c">MONTAGUE</span></p></td><td class="cl-79cf98e9"><p class="cl-79cf843e"><span class="cl-79cd685c">2.18220323</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98d5"><p class="cl-79cf8434"><span class="cl-79cd685c">PRINCE</span></p></td><td class="cl-79cf98de"><p class="cl-79cf843e"><span class="cl-79cd685c">2.18220323</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98e8"><p class="cl-79cf8434"><span class="cl-79cd685c">PARIS</span></p></td><td class="cl-79cf98e9"><p class="cl-79cf843e"><span class="cl-79cd685c">1.85942942</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98d5"><p class="cl-79cf8434"><span class="cl-79cd685c">FRIAR LAWRENCE</span></p></td><td class="cl-79cf98de"><p class="cl-79cf843e"><span class="cl-79cd685c">1.09118044</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98e8"><p class="cl-79cf8434"><span class="cl-79cd685c">MERCUTIO</span></p></td><td class="cl-79cf98e9"><p class="cl-79cf843e"><span class="cl-79cd685c">0.84421390</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98d5"><p class="cl-79cf8434"><span class="cl-79cd685c">PETER</span></p></td><td class="cl-79cf98de"><p class="cl-79cf843e"><span class="cl-79cd685c">0.26841707</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98e8"><p class="cl-79cf8434"><span class="cl-79cd685c">SERVANT</span></p></td><td class="cl-79cf98e9"><p class="cl-79cf843e"><span class="cl-79cd685c">0.23874480</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79cf98f2"><p class="cl-79cf8434"><span class="cl-79cd685c">FIRST CITIZEN</span></p></td><td class="cl-79cf98f3"><p class="cl-79cf843e"><span class="cl-79cd685c">0.03846154</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We now extract the node with the highest <em>betweenness centrality</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(igraph<span class="sc">::</span><span class="fu">betweenness</span>(dgg))[<span class="fu">which</span>(igraph<span class="sc">::</span><span class="fu">betweenness</span>(dgg) <span class="sc">==</span> <span class="fu">max</span>(igraph<span class="sc">::</span><span class="fu">betweenness</span>(dgg)))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ROMEO"</code></pre>
</div>
</div>
</section>
<section id="closeness" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="closeness">Closeness</h2>
<p>In addition, we extract the closeness statistic of all edges in the <code>dg</code> object by using the <code>closeness</code> function from the <code>igraph</code> package. Closeness centrality refers to the shortest paths between nodes. The distance between two nodes represents the length of the shortest path between them. The closeness of a node is the average distance from that node to all other nodes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">closeness</span>(dgg) <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="st">"node"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">closeness =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>closeness) <span class="ot">-&gt;</span> c_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-79e71ef0{table-layout:auto;width:95%;}.cl-79e23d22{font-family:'DejaVu Sans';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-79e23d2c{font-family:'DejaVu Sans';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-79e44e46{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-79e44e50{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-79e46368{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79e46372{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79e46373{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79e46374{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79e4637c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79e46386{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79e46387{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-79e46388{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-79e71ef0"><thead><tr style="overflow-wrap:break-word;"><th class="cl-79e46368"><p class="cl-79e44e46"><span class="cl-79e23d22">node</span></p></th><th class="cl-79e46372"><p class="cl-79e44e50"><span class="cl-79e23d22">closeness</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-79e46373"><p class="cl-79e44e46"><span class="cl-79e23d2c">LADY CAPULET</span></p></td><td class="cl-79e46374"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.05882353</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e4637c"><p class="cl-79e44e46"><span class="cl-79e23d2c">ROMEO</span></p></td><td class="cl-79e46386"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.05882353</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e46373"><p class="cl-79e44e46"><span class="cl-79e23d2c">CAPULET</span></p></td><td class="cl-79e46374"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.05555556</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e4637c"><p class="cl-79e44e46"><span class="cl-79e23d2c">BENVOLIO</span></p></td><td class="cl-79e46386"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.05263158</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e46373"><p class="cl-79e44e46"><span class="cl-79e23d2c">JULIET</span></p></td><td class="cl-79e46374"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.05000000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e4637c"><p class="cl-79e44e46"><span class="cl-79e23d2c">NURSE</span></p></td><td class="cl-79e46386"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04761905</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e46373"><p class="cl-79e44e46"><span class="cl-79e23d2c">TYBALT</span></p></td><td class="cl-79e46374"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04761905</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e4637c"><p class="cl-79e44e46"><span class="cl-79e23d2c">MONTAGUE</span></p></td><td class="cl-79e46386"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04545455</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e46373"><p class="cl-79e44e46"><span class="cl-79e23d2c">PARIS</span></p></td><td class="cl-79e46374"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04545455</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e4637c"><p class="cl-79e44e46"><span class="cl-79e23d2c">PRINCE</span></p></td><td class="cl-79e46386"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04545455</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e46373"><p class="cl-79e44e46"><span class="cl-79e23d2c">FRIAR LAWRENCE</span></p></td><td class="cl-79e46374"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04166667</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e4637c"><p class="cl-79e44e46"><span class="cl-79e23d2c">SERVANT</span></p></td><td class="cl-79e46386"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04166667</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e46373"><p class="cl-79e44e46"><span class="cl-79e23d2c">FIRST SERVANT</span></p></td><td class="cl-79e46374"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04000000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e4637c"><p class="cl-79e44e46"><span class="cl-79e23d2c">MERCUTIO</span></p></td><td class="cl-79e46386"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04000000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-79e46387"><p class="cl-79e44e46"><span class="cl-79e23d2c">SECOND SERVANT</span></p></td><td class="cl-79e46388"><p class="cl-79e44e50"><span class="cl-79e23d2c">0.04000000</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We now extract the node with the highest closeness.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(igraph<span class="sc">::</span><span class="fu">closeness</span>(dgg))[<span class="fu">which</span>(igraph<span class="sc">::</span><span class="fu">closeness</span>(dgg) <span class="sc">==</span> <span class="fu">max</span>(igraph<span class="sc">::</span><span class="fu">closeness</span>(dgg)))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "LADY CAPULET" "ROMEO"       </code></pre>
</div>
</div>
<p>We have reached the end of this tutorial and you now know how to create and modify networks in R and how you can highlight aspects of your data.</p>
</section>
</section>
<section id="citation-session-info" class="level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2024. <em>Network Analysis using R</em>. Brisbane: The University of Queensland. url: https://ladal.edu.au/tutorials/net.html (Version 2024.04.24).</p>
<pre><code>@manual{schweinberger2024net,
  author = {Schweinberger, Martin},
  title = {Network Analysis using R},
  note = {tutorials/net/net.html},
  year = {2024},
  organization = "The University of Queensland, Australia. School of Languages and Cultures},
  address = {Brisbane},
  edition = {2024.04.24}
}</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.2 (2024-10-31)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.04.1 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.12.0 
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.12.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

time zone: Australia/Brisbane
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
 [1] tm_0.7-15             NLP_0.3-2             lubridate_1.9.4      
 [4] forcats_1.0.0         stringr_1.5.1         dplyr_1.1.4          
 [7] purrr_1.0.2           readr_2.1.5           tidyr_1.3.1          
[10] tibble_3.2.1          tidyverse_2.0.0       tidygraph_1.3.1      
[13] sna_2.8               statnet.common_4.10.0 quanteda_4.1.0       
[16] network_1.19.0        Matrix_1.7-2          igraph_2.1.2         
[19] gutenbergr_0.2.4      ggraph_2.2.1          GGally_2.2.1         
[22] ggplot2_3.5.1         flextable_0.9.7      

loaded via a namespace (and not attached):
 [1] tidyselect_1.2.1        viridisLite_0.4.2       farver_2.1.2           
 [4] viridis_0.6.5           fastmap_1.2.0           tweenr_2.0.3           
 [7] fontquiver_0.2.1        digest_0.6.37           timechange_0.3.0       
[10] lifecycle_1.0.4         magrittr_2.0.3          compiler_4.4.2         
[13] rlang_1.1.5             tools_4.4.2             utf8_1.2.4             
[16] yaml_2.3.10             data.table_1.16.4       knitr_1.49             
[19] labeling_0.4.3          askpass_1.2.1           stopwords_2.3          
[22] graphlayouts_1.2.1      htmlwidgets_1.6.4       plyr_1.8.9             
[25] xml2_1.3.6              RColorBrewer_1.1-3      klippy_0.0.0.9500      
[28] withr_3.0.2             grid_4.4.2              polyclip_1.10-7        
[31] gdtools_0.4.1           colorspace_2.1-1        scales_1.3.0           
[34] MASS_7.3-64             cli_3.6.3               rmarkdown_2.29         
[37] ragg_1.3.3              generics_0.1.3          tzdb_0.4.0             
[40] quanteda.textplots_0.95 cachem_1.1.0            ggforce_0.4.2          
[43] assertthat_0.2.1        parallel_4.4.2          vctrs_0.6.5            
[46] slam_0.1-55             jsonlite_1.8.9          fontBitstreamVera_0.1.1
[49] hms_1.1.3               ggrepel_0.9.6           systemfonts_1.1.0      
[52] glue_1.8.0              ggstats_0.7.0           codetools_0.2-20       
[55] stringi_1.8.4           gtable_0.3.6            munsell_0.5.1          
[58] pillar_1.10.1           htmltools_0.5.8.1       openssl_2.3.0          
[61] R6_2.5.1                textshaping_0.4.1       evaluate_1.0.3         
[64] lattice_0.22-6          memoise_2.0.1           renv_1.0.11            
[67] fontLiberation_0.1.0    Rcpp_1.0.13-1           zip_2.3.1              
[70] uuid_1.2-1              fastmatch_1.1-4         coda_0.19-4.1          
[73] gridExtra_2.3           officer_0.6.7           xfun_0.49              
[76] pkgconfig_2.0.3        </code></pre>
</div>
</div>
<hr>
<p><a href="#introduction">Back to top</a></p>
<p><a href="../..">Back to LADAL home</a></p>
<hr>
</section>
<section id="references" class="level1 unnumbered">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-quanteda2018package" class="csl-entry" role="listitem">
Benoit, Kenneth, Kohei Watanabe, Haiyan Wang, Paul Nulty, Adam Obeng, Stefan Müller, and Akitaka Matsuo. 2018. <span>“Quanteda: An r Package for the Quantitative Analysis of Textual Data.”</span> <em>Journal of Open Source Software</em> 3 (30): 774. <a href="https://doi.org/10.21105/joss.00774">https://doi.org/10.21105/joss.00774</a>.
</div>
<div id="ref-csardi2006igraph" class="csl-entry" role="listitem">
Csardi, Gabor, and Tamas Nepusz. 2006. <span>“The Igraph Software Package for Complex Network Research.”</span> <em>InterJournal</em> Complex Systems: 1695. <a href="https://igraph.org">https://igraph.org</a>.
</div>
<div id="ref-ggraph2024package" class="csl-entry" role="listitem">
Pedersen, Thomas Lin. 2024a. <em>Ggraph: An Implementation of Grammar of Graphics for Graphs and Networks</em>. <a href="https://CRAN.R-project.org/package = ggraph">https://CRAN.R-project.org/package = ggraph</a>.
</div>
<div id="ref-tidygraph2024package" class="csl-entry" role="listitem">
———. 2024b. <em>Tidygraph: A Tidy API for Graph Manipulation</em>. <a href="https://CRAN.R-project.org/package = tidygraph">https://CRAN.R-project.org/package = tidygraph</a>.
</div>
<div id="ref-silge2017text" class="csl-entry" role="listitem">
Silge, Julia, and David Robinson. <em>Text Mining with r: A Tidy Approach</em>. " O’Reilly Media, Inc.".
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>