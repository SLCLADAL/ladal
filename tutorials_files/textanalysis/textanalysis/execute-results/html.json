{
  "hash": "92f9338a0ffc0f0cc366b6ed9aaefbf0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Practical Overview of Selected Text Analytics Methods\"\nauthor: \"Martin Schweinberger\"\n---\n\n\n\n![](/images/uq1.jpg){ width=100% }\n\n# Introduction{-}\n\n![](/images/gy_chili.png){ width=15% style=\"float:right; padding:10px\" }\n\nThis tutorial introduces Text Analysis [see @bernard1998text; @kabanoff1997introduction; @popping2000computer], i.e. computer-based analysis of language data or the (semi-)automated extraction of information from text. \n\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\nPlease cite as: <br>Schweinberger, Martin. 2023. *Practical Overview of Selected Text Analytics Methods*. Brisbane: The Language Technology and Data Analysis Laboratory (LADAL). url: https://ladal.edu.au/textanalysis.html (Version 2023.09.24).<br>\n</p>\n</span>\n</div>\n<br>\n\nMost of the applications of Text Analysis are based upon a relatively limited number of key procedures or concepts (e.g. concordancing, word frequencies, annotation or tagging, collocation, text classification, Sentiment Analysis, Entity Extraction, Topic Modeling, etc.). In the following, we will explore these procedures and introduce some basic tools that help you perform the introduced tasks. \n\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\nTo be able to follow this tutorial, we suggest you check out and familiarize yourself with the content of the following **R Basics** tutorials:<br>\n</p>\n<p style='margin-top:1em; text-align:left'>\n<ul>\n  <li>[Getting started with R](https://ladal.edu.au/intror.html) </li>\n  <li>[Loading, saving, and generating data in R](https://ladal.edu.au/load.html) </li>\n  <li>[String Processing in R](https://ladal.edu.au/string.html) </li>\n  <li>[Regular Expressions in R](https://ladal.edu.au/regex.html) </li>\n</ul>\n</p>\n<p style='margin-top:1em; text-align:center'>\nClick [**here**](https://ladal.edu.au/content/kwics.Rmd)^[If you want to render the R Notebook on your machine, i.e. knitting the document to html or a pdf, you need to make sure that you have R and RStudio installed and you also need to download the [**bibliography file**](https://ladal.edu.au/content/bibtex.bib) and store it in the same folder where you store the Rmd file.] to download the **entire R Notebook** for this tutorial.<br><br>\n[![Binder](https://mybinder.org/badge_logo.svg)](https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Ftextanalysis_cb.ipynb%26branch%3Dmain)<br>\nClick [**here**](https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Ftextanalysis_cb.ipynb%26branch%3Dmain) to open an interactive Jupyter notebook that allows you to execute, change, and edit the code as well as to upload your own data. <br>\n</p>\n<p style='margin-left:1em;'>\n</p></span>\n</div>\n\n<br>\n\n**Preparation and session set up**\n\n\nThis tutorial is based on R. If you're new to R or haven't installed it yet, you can find an introduction and installation instructions [here](https://ladal.edu.au/intror.html). To ensure the scripts below run smoothly, we need to install specific R packages from a library. If you've already installed these packages, you can skip this section. To install them, run the code below (which may take 1 to 5 minutes).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install packages\ninstall.packages(\"quanteda\")\ninstall.packages(\"dplyr\")\ninstall.packages(\"stringr\")\ninstall.packages(\"ggplot2\")\ninstall.packages(\"tm\")\ninstall.packages(\"udpipe\")\ninstall.packages(\"tidytext\")\ninstall.packages(\"wordcloud2\")\ninstall.packages(\"quanteda.textstats\")\ninstall.packages(\"quanteda.textplots\")\ninstall.packages(\"ggraph\")\ninstall.packages(\"flextable\")\n# install klippy for copy-to-clipboard button in code chunks\ninstall.packages(\"remotes\")\nremotes::install_github(\"rlesur/klippy\")\n```\n:::\n\n\n\nOnce all packages are installed, you can activate them bu executing (running) the code chunk below.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load packages\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(ggplot2)\nlibrary(flextable)\nlibrary(quanteda)\nlibrary(tm)\nlibrary(udpipe)\nlibrary(tidytext)\nlibrary(wordcloud2)\nlibrary(flextable)\nlibrary(quanteda.textstats)\nlibrary(quanteda.textplots)\nlibrary(ggraph)\nlibrary(tidyr)\n# activate klippy for copy-to-clipboard button\nklippy::klippy()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<script>\n  addClassKlippyTo(\"pre.r, pre.markdown\");\n  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');\n</script>\n```\n\n:::\n:::\n\n\n\nOnce you have  initiated the session by executing the code shown above, you are good to go.\n\n# Concordancing{-}\n\nIn Text Analysis, concordancing refers to the extraction of words from a given text or texts [@lindquist2009corpus]. Commonly, concordances are displayed in the form of key-word in contexts (KWIC) where the search term is shown with some preceding and following context. Thus, such displays are referred to as key word in context concordances. A more elaborate tutorial on how to perform concordancing with R is available [here](https://ladal.edu.au/kwics.html).\n\n<br>\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\n<b>Concordancing is a text analysis technique that retrieves and displays occurrences of a chosen word or phrase within a text or dataset, showing the surrounding context. It's used to examine word usage, context, and linguistic patterns for research and language analysis purposes.</b><br>\n</p>\n<p style='margin-left:1em;'>\n</p></span>\n</div>\n\n<br> \n\n![](/images/AntConcConcordance.png){ width=60% style=\"float:right; padding:10px\" }\n\nConcordancing is a valuable tool that helps us understand how a term is used in the data, examine word frequency, extract examples, and serves as a fundamental step for more advanced language data analyses.\n\nIn the following section, we'll use R to explore text, using Lewis Carroll's *Alice's Adventures in Wonderland* as our example text. We'll start by loading the text data, which is available from the LADAL GitHub repository for this tutorial. If you're interested in loading your own data, you can refer to [this tutorial](https://ladal.edu.au/intror.html#Working_with_text). \n\nWe start by loading our example text.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load text\ntext <- base::readRDS(url(\"https://slcladal.github.io/data/alice.rda\", \"rb\"))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4ec670c8{table-layout:auto;width:75%;}.cl-4ec34a10{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ec34a1a{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ec49d16{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4ec4a9dc{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ec4a9e6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ec4a9e7{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ec4a9e8{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4ec670c8'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4ec4a9dc\"><p class=\"cl-4ec49d16\"><span class=\"cl-4ec34a10\">.</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ec4a9e6\"><p class=\"cl-4ec49d16\"><span class=\"cl-4ec34a1a\">Alice’s Adventures in Wonderland</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ec4a9e7\"><p class=\"cl-4ec49d16\"><span class=\"cl-4ec34a1a\">by Lewis Carroll</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ec4a9e6\"><p class=\"cl-4ec49d16\"><span class=\"cl-4ec34a1a\">CHAPTER I.</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ec4a9e7\"><p class=\"cl-4ec49d16\"><span class=\"cl-4ec34a1a\">Down the Rabbit-Hole</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ec4a9e6\"><p class=\"cl-4ec49d16\"><span class=\"cl-4ec34a1a\">Alice was beginning to get very tired of sitting by her sister on the</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ec4a9e8\"><p class=\"cl-4ec49d16\"><span class=\"cl-4ec34a1a\">bank, and of having nothing to do: once or twice she had peeped into</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nThe data still consists of short text snippets which is why we collapse these snippets and then split the collapsed data into chapters. \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# combine and split into chapters\ntext_chapters <- text %>%\n  # paste all texts together into one long text\n  paste0(collapse = \" \") %>%\n  # replace Chapter I to Chapter XVI with qwertz\n  stringr::str_replace_all(\"(CHAPTER [XVI]{1,7}\\\\.{0,1}) \", \"qwertz\\\\1\") %>%\n  # convert text to lower case\n  tolower() %>%\n  # split the long text into chapters\n  stringr::str_split(\"qwertz\") %>%\n  # unlist the result (convert into simple vector)\n  unlist()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4ed47e5c{table-layout:auto;width:95%;}.cl-4ed16c1c{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ed16c1d{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ed2b342{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4ed2c076{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ed2c077{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ed2c080{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ed2c081{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4ed47e5c'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4ed2c076\"><p class=\"cl-4ed2b342\"><span class=\"cl-4ed16c1c\">.</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ed2c077\"><p class=\"cl-4ed2b342\"><span class=\"cl-4ed16c1d\">alice’s adventures in wonderland by lewis carroll </span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ed2c080\"><p class=\"cl-4ed2b342\"><span class=\"cl-4ed16c1d\">chapter i.down the rabbit-hole alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, “and what is the use of a book,” thought alice “without pictures or conversations?” so she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain woul</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ed2c077\"><p class=\"cl-4ed2b342\"><span class=\"cl-4ed16c1d\">chapter ii.the pool of tears “curiouser and curiouser!” cried alice (she was so much surprised, that for the moment she quite forgot how to speak good english); “now i’m opening out like the largest telescope that ever was! good-bye, feet!” (for when she looked down at her feet, they seemed to be almost out of sight, they were getting so far off). “oh, my poor little feet, i wonder who will put on your shoes and stockings for you now, dears? i’m sure _i_ shan’t be able! i shall be a great deal t</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ed2c080\"><p class=\"cl-4ed2b342\"><span class=\"cl-4ed16c1d\">chapter iii.a caucus-race and a long tale they were indeed a queer-looking party that assembled on the bank—the birds with draggled feathers, the animals with their fur clinging close to them, and all dripping wet, cross, and uncomfortable. the first question of course was, how to get dry again: they had a consultation about this, and after a few minutes it seemed quite natural to alice to find herself talking familiarly with them, as if she had known them all her life. indeed, she had quite a l</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ed2c077\"><p class=\"cl-4ed2b342\"><span class=\"cl-4ed16c1d\">chapter iv.the rabbit sends in a little bill it was the white rabbit, trotting slowly back again, and looking anxiously about as it went, as if it had lost something; and she heard it muttering to itself “the duchess! the duchess! oh my dear paws! oh my fur and whiskers! she’ll get me executed, as sure as ferrets are ferrets! where _can_ i have dropped them, i wonder?” alice guessed in a moment that it was looking for the fan and the pair of white kid gloves, and she very good-naturedly began hu</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ed2c081\"><p class=\"cl-4ed2b342\"><span class=\"cl-4ed16c1d\">chapter v.advice from a caterpillar the caterpillar and alice looked at each other for some time in silence: at last the caterpillar took the hookah out of its mouth, and addressed her in a languid, sleepy voice. “who are _you?_” said the caterpillar. this was not an encouraging opening for a conversation. alice replied, rather shyly, “i—i hardly know, sir, just at present—at least i know who i _was_ when i got up this morning, but i think i must have been changed several times since then.” “wha</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nAfter dividing the data into chapters, we conduct concordancing and extract KWICs (**K**ey**W**ord **I**n **C**ontext). This is accomplished using the `kwic` function from the `quanteda` package, which requires three main arguments: the data (x), the search pattern (pattern), and the window size.\n\nTo begin, we'll create KWICs for the term *alice* using the `kwic` function from the `quanteda` package, as demonstrated below. \n\n<br>\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\nThe `kwic` function in the `quanteda` package extracts <b>K</b>ey<b>W</b>ord <b>I</b>n <b>C</b>ontext (KWIC) information. Its main arguments are `x` (text data), `pattern` (search term), and `window` (context size) to display words around the pattern.<br>\n</p>\n<p style='margin-left:1em;'>\n</p></span>\n</div>\n\n<br>\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create kwic\nkwic_alice <- quanteda::kwic(\n  x = quanteda::tokens(text_chapters), # define text(s)\n  # define pattern\n  pattern = \"alice\",\n  # define window size\n  window = 5\n) %>%\n  # convert into a data frame\n  as.data.frame() %>%\n  # remove superfluous columns\n  dplyr::select(-to, -from, -pattern)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4ee8c90c{table-layout:auto;width:95%;}.cl-4ee5c6f8{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ee5c702{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ee6fec4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4ee70c48{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c49{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c52{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c53{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c54{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c5c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c5d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c66{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c67{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c68{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c70{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4ee70c71{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4ee8c90c'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4ee70c48\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c6f8\">docname</span></p></th><th class=\"cl-4ee70c49\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c6f8\">pre</span></p></th><th class=\"cl-4ee70c49\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c6f8\">keyword</span></p></th><th class=\"cl-4ee70c52\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c6f8\">post</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ee70c53\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">text2</span></p></td><td class=\"cl-4ee70c54\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">chapter i.down the rabbit-hole</span></p></td><td class=\"cl-4ee70c54\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">alice</span></p></td><td class=\"cl-4ee70c5c\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">was beginning to get very</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ee70c5d\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">text2</span></p></td><td class=\"cl-4ee70c66\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">a book , ” thought</span></p></td><td class=\"cl-4ee70c66\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">alice</span></p></td><td class=\"cl-4ee70c67\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">“ without pictures or conversations</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ee70c53\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">text2</span></p></td><td class=\"cl-4ee70c54\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">in that ; nor did</span></p></td><td class=\"cl-4ee70c54\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">alice</span></p></td><td class=\"cl-4ee70c5c\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">think it so _very_ much</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ee70c5d\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">text2</span></p></td><td class=\"cl-4ee70c66\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">and then hurried on ,</span></p></td><td class=\"cl-4ee70c66\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">alice</span></p></td><td class=\"cl-4ee70c67\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">started to her feet ,</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ee70c53\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">text2</span></p></td><td class=\"cl-4ee70c54\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">in another moment down went</span></p></td><td class=\"cl-4ee70c54\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">alice</span></p></td><td class=\"cl-4ee70c5c\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">after it , never once</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4ee70c68\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">text2</span></p></td><td class=\"cl-4ee70c70\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">down , so suddenly that</span></p></td><td class=\"cl-4ee70c70\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">alice</span></p></td><td class=\"cl-4ee70c71\"><p class=\"cl-4ee6fec4\"><span class=\"cl-4ee5c702\">had not a moment to</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nIn our search, we have the flexibility to utilize regular expressions, allowing us to extract not only straightforward terms like *alice* but also more intricate and even abstract patterns. An abstract pattern may involve only a part of the term being specified. For example, if we specify *walk*, we can retrieve words like *walking*, *walker,* *walked*, and *walks* that contain this sequence. To effectively capture such abstract patterns, we employ what are known as *regular expressions*.\n\nWhen incorporating a regular expression in the `pattern` argument, it's crucial to specify the `valuetype` as `regex`, as illustrated below.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create kwic\nkwic_walk <- quanteda::kwic(\n  x = quanteda::tokens(text_chapters), # define text(s)\n  pattern = \"walk.*\",\n  window = 5,\n  valuetype = \"regex\"\n) %>%\n  # convert into a data frame\n  as.data.frame() %>%\n  # remove superfluous columns\n  dplyr::select(-to, -from, -pattern)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4efbdb50{table-layout:auto;width:95%;}.cl-4ef8f214{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4ef8f21e{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4efa12e8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4efa1f72{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f7c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f7d{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f7e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f86{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f87{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f88{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f89{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f90{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f91{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f92{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4efa1f9a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4efbdb50'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4efa1f72\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f214\">docname</span></p></th><th class=\"cl-4efa1f7c\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f214\">pre</span></p></th><th class=\"cl-4efa1f7c\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f214\">keyword</span></p></th><th class=\"cl-4efa1f7d\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f214\">post</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f7e\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text2</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">out among the people that</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walk</span></p></td><td class=\"cl-4efa1f87\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">with their heads downward !</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f88\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text2</span></p></td><td class=\"cl-4efa1f89\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">to dream that she was</span></p></td><td class=\"cl-4efa1f89\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walking</span></p></td><td class=\"cl-4efa1f90\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">hand in hand with dinah</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f7e\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text2</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">trying every door , she</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walked</span></p></td><td class=\"cl-4efa1f87\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">sadly down the middle ,</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f88\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text3</span></p></td><td class=\"cl-4efa1f89\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">“ or perhaps they won’t</span></p></td><td class=\"cl-4efa1f89\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walk</span></p></td><td class=\"cl-4efa1f90\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">the way i want to</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f7e\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text4</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">mouse , getting up and</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walking</span></p></td><td class=\"cl-4efa1f87\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">away . “ you insult</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f88\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text4</span></p></td><td class=\"cl-4efa1f89\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">its head impatiently , and</span></p></td><td class=\"cl-4efa1f89\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walked</span></p></td><td class=\"cl-4efa1f90\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">a little quicker . “</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f7e\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text5</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">and get ready for your</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walk</span></p></td><td class=\"cl-4efa1f87\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">! ’ ‘ coming in</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f88\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text7</span></p></td><td class=\"cl-4efa1f89\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">, “ if you only</span></p></td><td class=\"cl-4efa1f89\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walk</span></p></td><td class=\"cl-4efa1f90\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">long enough . ” alice</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f7e\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text7</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">a minute or two she</span></p></td><td class=\"cl-4efa1f86\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walked</span></p></td><td class=\"cl-4efa1f87\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">on in the direction in</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4efa1f91\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">text7</span></p></td><td class=\"cl-4efa1f92\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">high : even then she</span></p></td><td class=\"cl-4efa1f92\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">walked</span></p></td><td class=\"cl-4efa1f9a\"><p class=\"cl-4efa12e8\"><span class=\"cl-4ef8f21e\">up towards it rather timidly</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nWhen searching for expressions that represent phrases consisting of multiple elements, like *poor alice*, it's essential to explicitly specify in the `pattern` argument that we are searching for a `phrase`. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create kwic\nkwic_pooralice <- quanteda::kwic(\n  x = quanteda::tokens(text_chapters), # define text(s)\n  pattern = quanteda::phrase(\"poor alice\"),\n  window = 5\n) %>%\n  # convert into a data frame\n  as.data.frame() %>%\n  # remove superfluous columns\n  dplyr::select(-to, -from, -pattern)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4f0ee970{table-layout:auto;width:95%;}.cl-4f0b6520{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f0b6521{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f0c9698{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f0ca4f8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca4f9{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca516{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca517{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca520{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca521{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca522{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca52a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca52b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca52c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca534{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f0ca535{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4f0ee970'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4f0ca4f8\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6520\">docname</span></p></th><th class=\"cl-4f0ca4f9\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6520\">pre</span></p></th><th class=\"cl-4f0ca4f9\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6520\">keyword</span></p></th><th class=\"cl-4f0ca516\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6520\">post</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f0ca517\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">text2</span></p></td><td class=\"cl-4f0ca520\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">go through , ” thought</span></p></td><td class=\"cl-4f0ca520\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">poor alice</span></p></td><td class=\"cl-4f0ca521\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">, “ it would be</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f0ca522\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">text2</span></p></td><td class=\"cl-4f0ca52a\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">; but , alas for</span></p></td><td class=\"cl-4f0ca52a\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">poor alice</span></p></td><td class=\"cl-4f0ca52b\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">! when she got to</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f0ca517\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">text2</span></p></td><td class=\"cl-4f0ca520\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">use now , ” thought</span></p></td><td class=\"cl-4f0ca520\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">poor alice</span></p></td><td class=\"cl-4f0ca521\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">, “ to pretend to</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f0ca522\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">text3</span></p></td><td class=\"cl-4f0ca52a\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">to the garden door .</span></p></td><td class=\"cl-4f0ca52a\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">poor alice</span></p></td><td class=\"cl-4f0ca52b\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">! it was as much</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f0ca517\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">text3</span></p></td><td class=\"cl-4f0ca520\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">right words , ” said</span></p></td><td class=\"cl-4f0ca520\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">poor alice</span></p></td><td class=\"cl-4f0ca521\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">, and her eyes filled</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f0ca52c\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">text4</span></p></td><td class=\"cl-4f0ca534\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">mean it ! ” pleaded</span></p></td><td class=\"cl-4f0ca534\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">poor alice</span></p></td><td class=\"cl-4f0ca535\"><p class=\"cl-4f0c9698\"><span class=\"cl-4f0b6521\">. “ but you’re so</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nWe could continue our analysis by exploring in greater detail how the phrase *poor alice* is used in context, perhaps by adjusting the context window size or conducting similar investigations. However, for now, we'll shift our focus to learning how to extract and work with word frequencies.\n\n# Word Frequency{-}\n\nFrequency information is a cornerstone of text analytics, underpinning nearly all analytical methods. Identifying the most common words within a text is a fundamental technique in text analytics, serving as the bedrock of text analysis. This frequency data is typically organized into word frequency lists, which consist of word forms and their corresponding frequencies within a given text or collection of texts.\n\nGiven the paramount importance of extracting word frequency lists, we will proceed to demonstrate how to do so. In the first step, we'll continue with our example text, convert the chapters to lowercase, eliminate non-word symbols (including punctuation), and then break down the text (the chapters) into individual words.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# process the text and save result in \"text_words\"\ntext_words <- text %>%\n  # convert all text to lowercase\n  tolower() %>%\n  # remove non-word characters, keeping spaces\n  str_replace_all(\"[^[:alpha:][:space:]]*\", \"\") %>%\n  # remove punctuation\n  tm::removePunctuation() %>%\n  # squish consecutive spaces into a single space\n  stringr::str_squish() %>%\n  # split the text into individual words, separated by spaces\n  stringr::str_split(\" \") %>%\n  # unlist the result into a single vector of words\n  unlist()\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4f1c4fb6{table-layout:auto;width:50%;}.cl-4f199a82{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f199a83{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f1aad5a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f1ab868{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f1ab869{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f1ab872{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f1ab873{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4f1c4fb6'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4f1ab868\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a82\">.</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab869\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">alices</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab872\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">adventures</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab869\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">in</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab872\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">wonderland</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab869\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">by</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab872\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">lewis</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab869\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">carroll</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab872\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">chapter</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab869\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">i</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab872\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">down</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab869\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">the</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab872\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">rabbithole</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab869\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">alice</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab872\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">was</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f1ab873\"><p class=\"cl-4f1aad5a\"><span class=\"cl-4f199a83\">beginning</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nWith our word vector in hand, let's effortlessly construct a table that showcases a word frequency list, as demonstrated below.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a word frequency table from the 'text_words' data\nwfreq <- text_words %>%\n  # count the frequency of each unique word\n  table() %>%\n  # convert the frequency table into a data frame\n  as.data.frame() %>%\n  # arrange the data frame rows in descending order of word frequency\n  arrange(desc(Freq)) %>%\n  # rename the columns for clarity\n  dplyr::rename(\n    word = 1,\n    frequency = 2\n  )\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4f295ea4{table-layout:auto;width:50%;}.cl-4f25da90{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f25da91{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f270500{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f27050a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f2711da{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f2711e4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f2711e5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f2711ee{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f2711ef{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f2711f0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f2711f8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f2711f9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4f295ea4'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4f2711da\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da90\">word</span></p></th><th class=\"cl-4f2711e4\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da90\">frequency</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711e5\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">the</span></p></td><td class=\"cl-4f2711ee\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">1,630</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711ef\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">and</span></p></td><td class=\"cl-4f2711f0\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">844</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711e5\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">to</span></p></td><td class=\"cl-4f2711ee\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">721</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711ef\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">a</span></p></td><td class=\"cl-4f2711f0\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">627</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711e5\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">she</span></p></td><td class=\"cl-4f2711ee\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">537</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711ef\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">it</span></p></td><td class=\"cl-4f2711f0\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">526</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711e5\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">of</span></p></td><td class=\"cl-4f2711ee\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">508</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711ef\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">said</span></p></td><td class=\"cl-4f2711f0\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">462</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711e5\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">i</span></p></td><td class=\"cl-4f2711ee\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">400</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711ef\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">alice</span></p></td><td class=\"cl-4f2711f0\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">385</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711e5\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">in</span></p></td><td class=\"cl-4f2711ee\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">366</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711ef\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">you</span></p></td><td class=\"cl-4f2711f0\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">360</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711e5\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">was</span></p></td><td class=\"cl-4f2711ee\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">357</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711ef\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">that</span></p></td><td class=\"cl-4f2711f0\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">276</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f2711f8\"><p class=\"cl-4f270500\"><span class=\"cl-4f25da91\">as</span></p></td><td class=\"cl-4f2711f9\"><p class=\"cl-4f27050a\"><span class=\"cl-4f25da91\">262</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nThe most common words often consist of function words that may lack significance. To enhance our analysis, we'll eliminate these function words, often referred to as *stopwords*, from the frequency list. Let's take a look at the refined list without stopwords.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create table wo stopwords\nwfreq_wostop <- wfreq %>%\n  anti_join(tidytext::stop_words, by = \"word\") %>%\n  dplyr::filter(word != \"\")\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-4f349b16{table-layout:auto;width:50%;}.cl-4f31c45e{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f31c468{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4f32e30c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f32e316{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4f32ef3c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f32ef46{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f32ef6e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f32ef6f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f32ef78{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f32ef79{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f32ef82{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4f32ef83{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4f349b16'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-4f32ef3c\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c45e\">word</span></p></th><th class=\"cl-4f32ef46\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c45e\">frequency</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef6e\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">alice</span></p></td><td class=\"cl-4f32ef6f\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">385</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef78\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">queen</span></p></td><td class=\"cl-4f32ef79\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">68</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef6e\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">time</span></p></td><td class=\"cl-4f32ef6f\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">68</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef78\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">king</span></p></td><td class=\"cl-4f32ef79\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">61</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef6e\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">dont</span></p></td><td class=\"cl-4f32ef6f\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">60</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef78\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">im</span></p></td><td class=\"cl-4f32ef79\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">57</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef6e\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">mock</span></p></td><td class=\"cl-4f32ef6f\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">56</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef78\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">turtle</span></p></td><td class=\"cl-4f32ef79\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">56</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef6e\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">gryphon</span></p></td><td class=\"cl-4f32ef6f\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">55</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef78\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">hatter</span></p></td><td class=\"cl-4f32ef79\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">55</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef6e\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">head</span></p></td><td class=\"cl-4f32ef6f\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">48</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef78\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">voice</span></p></td><td class=\"cl-4f32ef79\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">47</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef6e\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">looked</span></p></td><td class=\"cl-4f32ef6f\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">45</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef78\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">rabbit</span></p></td><td class=\"cl-4f32ef79\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">43</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-4f32ef82\"><p class=\"cl-4f32e30c\"><span class=\"cl-4f31c468\">round</span></p></td><td class=\"cl-4f32ef83\"><p class=\"cl-4f32e316\"><span class=\"cl-4f31c468\">41</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nWord frequency lists can be presented visually in several ways, with bar graphs being the most common and intuitive choice for visualization.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwfreq_wostop %>%\n  head(10) %>%\n  ggplot(aes(x = reorder(word, -frequency, mean), y = frequency)) +\n  geom_bar(stat = \"identity\") +\n  labs(\n    title = \"10 most frequent non-stop words \\nin the example text\",\n    x = \"\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, size = 12, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/wf6-1.png){width=672}\n:::\n:::\n\n\n\n## Wordclouds{-}\n\nAlternatively, word frequency lists can be visually represented as word clouds, though they provide less detailed information. Word clouds are visual representations where words appear larger based on their frequency, offering a quick visual summary of word importance in a dataset.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create a word cloud visualization\ntext %>%\n  # Convert text data to a quanteda corpus\n  quanteda::corpus() %>%\n  # tokenize the corpus, removing punctuation\n  quanteda::tokens(remove_punct = TRUE) %>%\n  # remove English stopwords\n  quanteda::tokens_remove(stopwords(\"english\")) %>%\n  # create a document-feature matrix (DFM)\n  quanteda::dfm() %>%\n  # generate a word cloud using textplot_wordcloud\n  quanteda.textplots::textplot_wordcloud(\n    # maximum words to display in the word cloud\n    max_words = 150,\n    # determine the maximum size of words\n    max_size = 10,\n    # determine the minimum size of words\n    min_size = 1.5,\n    # Define a color palette for the word cloud\n    color = scales::viridis_pal(option = \"A\")(10)\n  )\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/wc1-1.png){width=672}\n:::\n:::\n\n\n\n\n<br>\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\nThe `textplot_wordcloud` function creates a word cloud visualization of text data in R. Its main arguments are `x` (a Document-Feature Matrix or DFM), `max_words` (maximum words to display), and `color` (color palette for the word cloud).<br>\n</p>\n<p style='margin-left:1em;'>\n</p></span>\n</div>\n\n<br>\n\n\nAnother form of word clouds, known as *comparison clouds*, is helpful in discerning disparities between texts. For instance, we can load various texts and assess how they vary in terms of word frequencies. To illustrate this, we'll load Herman Melville's *Moby Dick*, George Orwell's *1984*, and Charles Darwin's *Origin*. \n\nFirst, we'll load these texts and combine them into single documents.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load data\norwell_sep <- base::readRDS(url(\"https://slcladal.github.io/data/orwell.rda\", \"rb\"))\norwell <- orwell_sep %>%\n  paste0(collapse = \" \")\nmelville_sep <- base::readRDS(url(\"https://slcladal.github.io/data/melville.rda\", \"rb\"))\nmelville <- melville_sep %>%\n  paste0(collapse = \" \")\ndarwin_sep <- base::readRDS(url(\"https://slcladal.github.io/data/darwin.rda\", \"rb\"))\ndarwin <- darwin_sep %>%\n  paste0(collapse = \" \")\n```\n:::\n\n\n\nNow, we generate a corpus object from these texts and create a variable with the author name.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorp_dom <- quanteda::corpus(c(darwin, melville, orwell))\nattr(corp_dom, \"docvars\")$Author <- c(\"Darwin\", \"Melville\", \"Orwell\")\n```\n:::\n\n\n\nNow, we can remove so-called *stopwords* (non-lexical function words) and punctuation and generate the comparison cloud.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create a comparison word cloud for a corpus\ncorp_dom %>%\n  # tokenize the corpus, removing punctuation, symbols, and numbers\n  quanteda::tokens(\n    remove_punct = TRUE,\n    remove_symbols = TRUE,\n    remove_numbers = TRUE\n  ) %>%\n  # remove English stopwords\n  quanteda::tokens_remove(stopwords(\"english\")) %>%\n  # create a Document-Feature Matrix (DFM)\n  quanteda::dfm() %>%\n  # group the DFM by the 'Author' column from 'corp_dom'\n  quanteda::dfm_group(groups = corp_dom$Author) %>%\n  # trim the DFM, keeping terms that occur at least 10 times\n  quanteda::dfm_trim(min_termfreq = 10, verbose = FALSE) %>%\n  # generate a comparison word cloud\n  quanteda.textplots::textplot_wordcloud(\n    # create a comparison word cloud\n    comparison = TRUE,\n    # set colors for different groups\n    color = c(\"darkgray\", \"orange\", \"purple\"),\n    # define the maximum number of words to display in the word cloud\n    max_words = 150\n  )\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/wc4-1.png){width=672}\n:::\n:::\n\n\n\n\n## Frequency changes{-}\n\nWe can also explore how the term *alice* is used throughout the chapters of our example text. To begin, let's extract the word count for each chapter.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# extract the number of words per chapter\nWords <- text_chapters %>%\n  # split each chapter into words based on spaces\n  stringr::str_split(\" \") %>%\n  # measure the length (number of words) in each chapter\n  lengths()\n# display the resulting data, which contains the word counts per chapter\nWords\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]    8 2364 2125 1765 2616 2339 2609 2307 2487 2272 2058 1886 2153\n```\n\n\n:::\n:::\n\n\n\nNext, we extract the number of matches in each chapter.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# extract the number of matches of \"alice\" per chapter\nMatches <- text_chapters %>%\n  # count the number of times \"alice\" appears in each chapter\n  stringr::str_count(\"alice\")\n# display the resulting data, which shows the number of matches of \"alice\" per chapter\nMatches\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]  1 28 26 23 31 35 43 51 39 52 30 16 23\n```\n\n\n:::\n:::\n\n\n\nNow, we extract the names of the chapters and create a table with the chapter names and the relative frequency of matches per 1,000 words.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# extract chapters\nChapters <- paste0(\"chapter\", 0:(length(text_chapters) - 1))\nChapters\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"chapter0\"  \"chapter1\"  \"chapter2\"  \"chapter3\"  \"chapter4\"  \"chapter5\" \n [7] \"chapter6\"  \"chapter7\"  \"chapter8\"  \"chapter9\"  \"chapter10\" \"chapter11\"\n[13] \"chapter12\"\n```\n\n\n:::\n:::\n\n\n\nNext, we combine the information in a single data frame and add a column containing the relative frequency of *alice* in each chapter.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create table of results\ntb <- data.frame(Chapters, Matches, Words) %>%\n  # create new variable with the relative frequency\n  dplyr::mutate(Frequency = round(Matches / Words * 1000, 2)) %>%\n  # reorder chapters\n  dplyr::mutate(Chapters = factor(Chapters, levels = c(paste0(\"chapter\", 0:12))))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-51773028{table-layout:auto;width:50%;}.cl-51743b8e{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-51743b98{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-51755a5a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-51755a64{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-51756720{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51756721{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5175672a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51756748{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51756749{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5175674a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51756752{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51756753{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5175675c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5175675d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5175675e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-51756766{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-51773028'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-51756720\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b8e\">Chapters</span></p></th><th class=\"cl-51756721\"><p class=\"cl-51755a64\"><span class=\"cl-51743b8e\">Matches</span></p></th><th class=\"cl-51756721\"><p class=\"cl-51755a64\"><span class=\"cl-51743b8e\">Words</span></p></th><th class=\"cl-5175672a\"><p class=\"cl-51755a64\"><span class=\"cl-51743b8e\">Frequency</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756748\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter0</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">1</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">8</span></p></td><td class=\"cl-5175674a\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">125.00</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756752\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter1</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">28</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,364</span></p></td><td class=\"cl-5175675c\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">11.84</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756748\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter2</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">26</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,125</span></p></td><td class=\"cl-5175674a\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">12.24</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756752\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter3</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">23</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">1,765</span></p></td><td class=\"cl-5175675c\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">13.03</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756748\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter4</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">31</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,616</span></p></td><td class=\"cl-5175674a\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">11.85</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756752\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter5</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">35</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,339</span></p></td><td class=\"cl-5175675c\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">14.96</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756748\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter6</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">43</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,609</span></p></td><td class=\"cl-5175674a\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">16.48</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756752\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter7</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">51</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,307</span></p></td><td class=\"cl-5175675c\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">22.11</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756748\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter8</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">39</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,487</span></p></td><td class=\"cl-5175674a\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">15.68</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756752\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter9</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">52</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,272</span></p></td><td class=\"cl-5175675c\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">22.89</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756748\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter10</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">30</span></p></td><td class=\"cl-51756749\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,058</span></p></td><td class=\"cl-5175674a\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">14.58</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-51756752\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter11</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">16</span></p></td><td class=\"cl-51756753\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">1,886</span></p></td><td class=\"cl-5175675c\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">8.48</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-5175675d\"><p class=\"cl-51755a5a\"><span class=\"cl-51743b98\">chapter12</span></p></td><td class=\"cl-5175675e\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">23</span></p></td><td class=\"cl-5175675e\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">2,153</span></p></td><td class=\"cl-51756766\"><p class=\"cl-51755a64\"><span class=\"cl-51743b98\">10.68</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nNow, let's visualize the relative frequencies of our search term in each chapter.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create a plot using ggplot\nggplot(tb, aes(x = Chapters, y = Frequency, group = 1)) +\n  # add a smoothed line (trendline) in purple color\n  geom_smooth(color = \"purple\") +\n  # add a line plot in dark gray color\n  geom_line(color = \"darkgray\") +\n  # remove fill from the legend\n  guides(color = guide_legend(override.aes = list(fill = NA))) +\n  # set a white and black theme\n  theme_bw() +\n  # rotate x-axis text by 45 degrees and adjust alignment\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  # customize the y-axis label\n  scale_y_continuous(name = \"Relative Frequency (per 1,000 words)\")\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/wf18-1.png){width=672}\n:::\n:::\n\n\n\n## Dispersion plots{-}\n\nTo show when in a text or in a collection of texts certain terms occur, we can use *dispersion plots*. The `quanteda` package offers a very easy-to-use function `textplot_xray` to generate dispersion plots.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add chapter names\nnames(text_chapters) <- Chapters\n# generate corpus from chapters\n\n# Assuming text_chapters is your character vector\n# text_corpus <- quanteda::corpus(text_chapters)\n\n# Create a tokens object\ntext_corpus <- quanteda::tokens(text_chapters)\n\n# generate dispersion plots\nquanteda.textplots::textplot_xray(kwic(text_corpus, pattern = \"alice\"),\n  kwic(text_corpus, pattern = \"hatter\"),\n  sort = T\n)\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/dp-1.png){width=672}\n:::\n:::\n\n\n\nWe can modify the plot by saving it into an object and then use `ggplot` to modify it appearance.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# generate and save dispersion plots\ndp <- quanteda.textplots::textplot_xray(\n  kwic(text_corpus, pattern = \"alice\"),\n  kwic(text_corpus, pattern = \"cat\")\n)\n# modify plot\ndp + aes(color = keyword) +\n  scale_color_manual(values = c(\"red\", \"blue\")) +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/dp2-1.png){width=672}\n:::\n:::\n\n\n\n## Over- and underuse{-}\n\nFrequency data serves as a valuable lens through which we can explore the essence of a text. For instance, when we examine private dialogues, we often encounter higher occurrences of second-person pronouns compared to more formal text types like scripted monologues or speeches. This insight holds the potential to aid in text classification and assessing text formality.\n\nTo illustrate, consider the following statistics: the counts of second-person pronouns, *you* and *your*, as well as the total word count excluding these pronouns in private dialogues versus scripted monologues within the Irish segment of the International Corpus of English (ICE). Additionally, the tables provide the percentage of second-person pronouns in both text types, enabling us to discern whether private dialogues indeed contain more of these pronouns compared to scripted monologues, such as speeches.\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-521425c2{table-layout:auto;width:50%;}.cl-52115496{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52115497{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52127ba0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-521287bc{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287bd{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287c6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287d0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287d1{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287da{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287db{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287dc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287e4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287ee{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287f8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-521287f9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-521425c2'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-521287bc\"><p class=\"cl-52127ba0\"><span class=\"cl-52115496\">.</span></p></th><th class=\"cl-521287bd\"><p class=\"cl-52127ba0\"><span class=\"cl-52115496\">Private dialogues</span></p></th><th class=\"cl-521287c6\"><p class=\"cl-52127ba0\"><span class=\"cl-52115496\">Scripted monologues</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-521287d0\"><p class=\"cl-52127ba0\"><span class=\"cl-52115497\">you, your</span></p></td><td class=\"cl-521287d1\"><p class=\"cl-52127ba0\"><span class=\"cl-52115497\">6761</span></p></td><td class=\"cl-521287da\"><p class=\"cl-52127ba0\"><span class=\"cl-52115497\">659</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-521287db\"><p class=\"cl-52127ba0\"><span class=\"cl-52115497\">Other words</span></p></td><td class=\"cl-521287dc\"><p class=\"cl-52127ba0\"><span class=\"cl-52115497\">259625</span></p></td><td class=\"cl-521287e4\"><p class=\"cl-52127ba0\"><span class=\"cl-52115497\">105295</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-521287ee\"><p class=\"cl-52127ba0\"><span class=\"cl-52115497\">Percent</span></p></td><td class=\"cl-521287f8\"><p class=\"cl-52127ba0\"><span class=\"cl-52115497\">2.60</span></p></td><td class=\"cl-521287f9\"><p class=\"cl-52127ba0\"><span class=\"cl-52115497\">0.63</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nThis straightforward example highlights that second-person pronouns constitute 2.6 percent of all words in private dialogues, yet they represent only 0.63 percent in scripted speeches. To vividly illustrate such variations, we can employ association and mosaic plots, which offer effective visual presentations.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create a matrix 'd' with the specified values and dimensions\nd <- matrix(c(6761, 659, 259625, 105295), nrow = 2, byrow = TRUE)\n# assign column names to the matrix\ncolnames(d) <- c(\"D\", \"M\")\n# assign row names to the matrix\nrownames(d) <- c(\"you, your\", \"Other words\")\n# generate an association plot using 'assocplot' function\nassocplot(d)\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/ou2-1.png){width=672}\n:::\n:::\n\n\n\nIn an association plot, bars above the dashed line signify relative overuse, while bars below indicate relative underuse. Accordingly, the plot reveals that in monologues, there's an underuse of *you* and *your* and an overuse of *other words*. Conversely, in dialogues, the opposite patterns emerge: an overuse of *you* and *your* and an underuse of *other words*. This visual representation helps us grasp the distinctive word usage patterns between these text types.\n\n\n# Collocations{-}\n\nCollocations are like linguistic buddies. They're those word pairs that just seem to go hand in hand, like *Merry Christmas*. You see, these words have a special relationship – they occur together way more often than if words were just randomly strung together in a sentence.\n\nBefore we start tough, it is important to understand that identifying words pairs (w1 and w2) that collocate (i.e. collocations) and determining their association strength (a measure of how strongly attracted words are to each other) is based on the co-occurrence frequencies of word pairs in a contingency table (see below, *O* is short for *observed frequency*).\n\n|                   | w~2~ present  |     w~2~ absent |      |\n| :---              | :-----:       |   --------:     | ---  |\n| **w~1~ present**  | O~11~         | O~12~           |  = R~1~\n| **w~1~ absent**   | O~21~         | O~22~           |  = R~2~\n|                   |  = C~1~       |   = C~2~        |  = N |\n\nIn the following, we will extract collocations from the sentences in our example text. In a first step, we split our example text into sentences and clean the data (removing punctuation, converting to lower case, etc.).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntext %>%\n  # concatenate the elements in the 'text' object\n  paste0(collapse = \" \") %>%\n  # split text into sentences\n  tokenizers::tokenize_sentences() %>%\n  # unlist sentences\n  unlist() %>%\n  # remove non-word characters\n  stringr::str_replace_all(\"\\\\W\", \" \") %>%\n  stringr::str_replace_all(\"[^[:alnum:] ]\", \" \") %>%\n  # remove superfluous white spaces\n  stringr::str_squish() %>%\n  # convert to lower case and save in 'sentences' object\n  tolower() -> sentences\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-522705e8{table-layout:auto;width:95%;}.cl-522444c0{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-522444ca{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52256184{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52256d32{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52256d3c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52256d3d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52256d3e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-522705e8'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-52256d32\"><p class=\"cl-52256184\"><span class=\"cl-522444c0\">.</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3c\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">alice s adventures in wonderland by lewis carroll chapter i</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3d\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">down the rabbit hole alice was beginning to get very tired of sitting by her sister on the bank and of having nothing to do once or twice she had peeped into the book her sister was reading but it had no pictures or conversations in it and what is the use of a book thought alice without pictures or conversations</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3c\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">so she was considering in her own mind as well as she could for the hot day made her feel very sleepy and stupid whether the pleasure of making a daisy chain would be worth the trouble of getting up and picking the daisies when suddenly a white rabbit with pink eyes ran close by her</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3d\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">there was nothing so very remarkable in that nor did alice think it so very much out of the way to hear the rabbit say to itself oh dear</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3c\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">oh dear</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3d\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">i shall be late</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3c\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">when she thought it over afterwards it occurred to her that she ought to have wondered at this but at the time it all seemed quite natural but when the rabbit actually took a watch out of its waistcoat pocket and looked at it and then hurried on alice started to her feet for it flashed across her mind that she had never before seen a rabbit with either a waistcoat pocket or a watch to take out of it and burning with curiosity she ran across the field after it and fortunately was just in time to see it pop down a large rabbit hole under the hedge</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3d\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">in another moment down went alice after it never once considering how in the world she was to get out again</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3c\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">the rabbit hole went straight on like a tunnel for some way and then dipped suddenly down so suddenly that alice had not a moment to think about stopping herself before she found herself falling down a very deep well</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52256d3e\"><p class=\"cl-52256184\"><span class=\"cl-522444ca\">either the well was very deep or she fell very slowly for she had plenty of time as she went down to look about her and to wonder what was going to happen next</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nNext, we tabulate the data and reformat it so that we have the relevant information to calculate the association statistics (word 1 and word 2 as well as O11, O12, O21, and O22).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# tokenize the 'sentences' data using quanteda package\nsentences %>%\n  quanteda::tokens() %>%\n  # create a document-feature matrix (dfm) using quanteda\n  quanteda::dfm() %>%\n  # create a feature co-occurrence matrix (fcm) without considering trigrams\n  quanteda::fcm(tri = FALSE) %>%\n  # tidy the data using tidytext package\n  tidytext::tidy() %>%\n  # rearrange columns for better readability\n  dplyr::relocate(term, document, count) %>%\n  # rename columns for better interpretation\n  dplyr::rename(\n    w1 = 1,\n    w2 = 2,\n    O11 = 3\n  ) -> coll_basic\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-5262e5ae{table-layout:auto;width:95%;}.cl-52601fa4{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52601fae{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52613e7a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52613e84{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52614b0e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b0f{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b18{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b19{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b22{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b23{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b2c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b2d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b2e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b36{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b37{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52614b38{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-5262e5ae'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-52614b0e\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fa4\">w1</span></p></th><th class=\"cl-52614b0f\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fa4\">w2</span></p></th><th class=\"cl-52614b18\"><p class=\"cl-52613e84\"><span class=\"cl-52601fa4\">O11</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b19\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b22\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b23\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">11</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b2c\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b2d\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">s</span></p></td><td class=\"cl-52614b2e\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">67</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b19\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b22\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">adventures</span></p></td><td class=\"cl-52614b23\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">6</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b2c\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b2d\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">in</span></p></td><td class=\"cl-52614b2e\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">137</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b19\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b22\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">wonderland</span></p></td><td class=\"cl-52614b23\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">1</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b2c\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b2d\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">by</span></p></td><td class=\"cl-52614b2e\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">18</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b19\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b22\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">lewis</span></p></td><td class=\"cl-52614b23\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">1</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b2c\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b2d\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">carroll</span></p></td><td class=\"cl-52614b2e\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">1</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b19\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b22\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">chapter</span></p></td><td class=\"cl-52614b23\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">1</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52614b36\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">alice</span></p></td><td class=\"cl-52614b37\"><p class=\"cl-52613e7a\"><span class=\"cl-52601fae\">i</span></p></td><td class=\"cl-52614b38\"><p class=\"cl-52613e84\"><span class=\"cl-52601fae\">163</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\n\nWe now enhance our table by calculating all observed frequencies (O11, O12, O21, O22) as well as row totals (R1, R2), column totals (C1, C2), and the overall total (N).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# calculate the total number of observations (N)\ncoll_basic %>%\n  dplyr::mutate(N = sum(O11)) %>%\n  # calculate R1, O12, and R2\n  dplyr::group_by(w1) %>%\n  dplyr::mutate(\n    R1 = sum(O11),\n    O12 = R1 - O11,\n    R2 = N - R1\n  ) %>%\n  dplyr::ungroup(w1) %>%\n  # calculate C1, O21, C2, and O22\n  dplyr::group_by(w2) %>%\n  dplyr::mutate(\n    C1 = sum(O11),\n    O21 = C1 - O11,\n    C2 = N - C1,\n    O22 = R2 - O21\n  ) -> colldf\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-52e4c934{table-layout:auto;width:95%;}.cl-52e1a9c0{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52e1a9c1{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52e2daf2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52e2dafc{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52e2e862{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e863{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e864{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e86c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e86d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e876{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e877{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e878{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e879{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e880{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e881{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e882{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e883{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e88a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e88b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e2e88c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-52e4c934'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-52e2e862\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c0\">w1</span></p></th><th class=\"cl-52e2e863\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c0\">w2</span></p></th><th class=\"cl-52e2e864\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c0\">O11</span></p></th><th class=\"cl-52e2e864\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c0\">N</span></p></th><th class=\"cl-52e2e864\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c0\">R1</span></p></th><th class=\"cl-52e2e864\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c0\">O12</span></p></th><th class=\"cl-52e2e864\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c0\">R2</span></p></th><th class=\"cl-52e2e864\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c0\">C1</span></p></th><th class=\"cl-52e2e864\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c0\">O21</span></p></th><th class=\"cl-52e2e864\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c0\">C2</span></p></th><th class=\"cl-52e2e86c\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c0\">O22</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e86d\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e876\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">11</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,679</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,679</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e878\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">870,833</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e879\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e880\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">s</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">67</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,623</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">4,812</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">4,745</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">885,390</span></p></td><td class=\"cl-52e2e882\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">875,767</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e86d\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e876\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">adventures</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">6</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,684</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">263</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">257</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">889,939</span></p></td><td class=\"cl-52e2e878\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,255</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e879\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e880\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">in</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">137</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,553</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">12,600</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">12,463</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">877,602</span></p></td><td class=\"cl-52e2e882\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">868,049</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e86d\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e876\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">wonderland</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">1</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,689</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">229</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">228</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">889,973</span></p></td><td class=\"cl-52e2e878\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,284</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e879\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e880\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">by</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">18</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,672</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">2,131</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">2,113</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">888,071</span></p></td><td class=\"cl-52e2e882\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">878,399</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e86d\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e876\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">lewis</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">1</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,689</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">8</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,193</span></p></td><td class=\"cl-52e2e878\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,504</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e879\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e880\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">carroll</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">1</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,689</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">8</span></p></td><td class=\"cl-52e2e881\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,193</span></p></td><td class=\"cl-52e2e882\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,504</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e86d\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e876\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">chapter</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">1</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,689</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">20</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">19</span></p></td><td class=\"cl-52e2e877\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,182</span></p></td><td class=\"cl-52e2e878\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,493</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52e2e883\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">alice</span></p></td><td class=\"cl-52e2e88a\"><p class=\"cl-52e2daf2\"><span class=\"cl-52e1a9c1\">i</span></p></td><td class=\"cl-52e2e88b\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">163</span></p></td><td class=\"cl-52e2e88b\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">890,202</span></p></td><td class=\"cl-52e2e88b\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,690</span></p></td><td class=\"cl-52e2e88b\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">9,527</span></p></td><td class=\"cl-52e2e88b\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">880,512</span></p></td><td class=\"cl-52e2e88b\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">11,764</span></p></td><td class=\"cl-52e2e88b\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">11,601</span></p></td><td class=\"cl-52e2e88b\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">878,438</span></p></td><td class=\"cl-52e2e88c\"><p class=\"cl-52e2dafc\"><span class=\"cl-52e1a9c1\">868,911</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nWe could calculate all collocations in the corpus (based on co-occurrence within the same sentence) or we can find collocations of a specific term - here, we will find collocations fo the term *alice*.\n\nNow that we have all the relevant information, we will reduce the data and add additional information to the data so that the computing of the association measures runs smoothly.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# reduce and complement data\ncolldf %>%\n  # determine Term\n  dplyr::filter(\n    w1 == \"alice\",\n    # set minimum number of occurrences of w2\n    (O11 + O21) > 10,\n    # set minimum number of co-occurrences of w1 and w2\n    O11 > 5\n  ) %>%\n  dplyr::rowwise() %>%\n  dplyr::mutate(\n    E11 = R1 * C1 / N,\n    E12 = R1 * C2 / N,\n    E21 = R2 * C1 / N,\n    E22 = R2 * C2 / N\n  ) -> colldf_redux\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-52fbe736{table-layout:auto;width:95%;}.cl-52f86bd8{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52f86be2{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52f9bcfe{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52f9bd08{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52f9ccd0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9ccda{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9ccdb{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9cce4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9cce5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9ccee{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9ccef{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9ccf8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9ccf9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9ccfa{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9cd02{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9cd03{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9cd04{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9cd0c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9cd0d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52f9cd16{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-52fbe736'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-52f9ccd0\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86bd8\">w1</span></p></th><th class=\"cl-52f9ccda\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86bd8\">w2</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">O11</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">N</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">R1</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">O12</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">R2</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">C1</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">O21</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">C2</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">O22</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">E11</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">E12</span></p></th><th class=\"cl-52f9ccdb\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">E21</span></p></th><th class=\"cl-52f9cce4\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86bd8\">E22</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9cce5\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccee\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">11</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,679</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,679</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">870,833</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">105.47730</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,584.523</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,584.5227</span></p></td><td class=\"cl-52f9ccf8\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">870,927.5</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9ccf9\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccfa\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">s</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">67</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,623</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">4,812</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">4,745</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">885,390</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">875,767</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">52.37944</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,637.621</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">4,759.6206</span></p></td><td class=\"cl-52f9cd03\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">875,752.4</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9cce5\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccee\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">adventures</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">6</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,684</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">263</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">257</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">889,939</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,255</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">2.86280</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,687.137</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">260.1372</span></p></td><td class=\"cl-52f9ccf8\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,251.9</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9ccf9\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccfa\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">in</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">137</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,553</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">12,600</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">12,463</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">877,602</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">868,049</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">137.15314</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,552.847</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">12,462.8469</span></p></td><td class=\"cl-52f9cd03\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">868,049.2</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9cce5\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccee\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">by</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">18</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,672</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">2,131</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">2,113</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">888,071</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">878,399</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">23.19630</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,666.804</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">2,107.8037</span></p></td><td class=\"cl-52f9ccf8\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">878,404.2</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9ccf9\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccfa\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">i</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">163</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,527</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">11,764</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">11,601</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">878,438</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">868,911</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">128.05314</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,561.947</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">11,635.9469</span></p></td><td class=\"cl-52f9cd03\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">868,876.1</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9cce5\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccee\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">down</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">37</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,653</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">3,494</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">3,457</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">886,708</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">877,055</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">38.03278</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,651.967</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">3,455.9672</span></p></td><td class=\"cl-52f9ccf8\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">877,056.0</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9ccf9\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccfa\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">the</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">477</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,213</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">53,304</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">52,827</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">836,898</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">827,685</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">580.22310</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,109.777</span></p></td><td class=\"cl-52f9cd02\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">52,723.7769</span></p></td><td class=\"cl-52f9cd03\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">827,788.2</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9cce5\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9ccee\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">rabbit</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">23</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,667</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">1,710</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">1,687</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">888,492</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">878,825</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">18.61364</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,671.386</span></p></td><td class=\"cl-52f9ccef\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">1,691.3864</span></p></td><td class=\"cl-52f9ccf8\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">878,820.6</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-52f9cd04\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">alice</span></p></td><td class=\"cl-52f9cd0c\"><p class=\"cl-52f9bcfe\"><span class=\"cl-52f86be2\">was</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">155</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">890,202</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,690</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,535</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">880,512</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">13,666</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">13,511</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">876,536</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">867,001</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">148.75673</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">9,541.243</span></p></td><td class=\"cl-52f9cd0d\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">13,517.2433</span></p></td><td class=\"cl-52f9cd16\"><p class=\"cl-52f9bd08\"><span class=\"cl-52f86be2\">866,994.8</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nNow we can calculate the collocation statistics (the association strength).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolldf_redux %>%\n  # determine number of rows\n  dplyr::mutate(Rws = nrow(.)) %>%\n  # work row-wise\n  dplyr::rowwise() %>%\n  # calculate fishers' exact test\n  dplyr::mutate(p = as.vector(unlist(fisher.test(matrix(c(O11, O12, O21, O22),\n    ncol = 2, byrow = T\n  ))[1]))) %>%\n  # extract AM\n  # 1. bias towards top left\n  dplyr::mutate(\n    btl_O12 = ifelse(C1 > R1, 0, R1 - C1),\n    btl_O11 = ifelse(C1 > R1, R1, R1 - btl_O12),\n    btl_O21 = ifelse(C1 > R1, C1 - R1, C1 - btl_O11),\n    btl_O22 = ifelse(C1 > R1, C2, C2 - btl_O12),\n\n    # 2. bias towards top right\n    btr_O11 = 0,\n    btr_O21 = R1,\n    btr_O12 = C1,\n    btr_O22 = C2 - R1\n  ) %>%\n  # 3. calculate AM\n  dplyr::mutate(\n    upp = btl_O11 / R1,\n    low = btr_O11 / R1,\n    op = O11 / R1\n  ) %>%\n  dplyr::mutate(AM = op / upp) %>%\n  # remove superfluous columns\n  dplyr::select(-btr_O21, -btr_O12, -btr_O22, -btl_O12, -btl_O11, -btl_O21, -btl_O22, -btr_O11) %>%\n  # extract x2 statistics\n  dplyr::mutate(X2 = (O11 - E11)^2 / E11 + (O12 - E12)^2 / E12 + (O21 - E21)^2 / E21 + (O22 - E22)^2 / E22) %>%\n  # extract association measures\n  dplyr::mutate(\n    phi = sqrt((X2 / N)),\n    MI = log2(O11 / E11),\n    DeltaP12 = (O11 / (O11 + O12)) - (O21 / (O21 + O22)),\n    DeltaP21 = (O11 / (O11 + O21)) - (O21 / (O12 + O22)),\n    LogOddsRatio = log(((O11 + 0.5) * (O22 + 0.5)) / ((O12 + 0.5) * (O21 + 0.5)))\n  ) %>%\n  # determine Bonferroni corrected significance\n  dplyr::mutate(Sig_corrected = dplyr::case_when(\n    p / Rws > .05 ~ \"n.s.\",\n    p / Rws > .01 ~ \"p < .05*\",\n    p / Rws > .001 ~ \"p < .01**\",\n    p / Rws <= .001 ~ \"p < .001***\",\n    T ~ \"N.A.\"\n  )) %>%\n  # round p-value\n  dplyr::mutate(p = round(p, 5)) %>%\n  # filter out non significant results\n  dplyr::filter(\n    Sig_corrected != \"n.s.\",\n    # filter out instances where the w1 and w2 repel each other\n    E11 < O11\n  ) %>%\n  # arrange by phi (association measure)\n  dplyr::arrange(-AM) %>%\n  # remove superfluous columns\n  dplyr::select(-any_of(c(\n    \"TermCoocFreq\", \"AllFreq\", \"NRows\", \"E12\", \"E21\",\n    \"E22\", \"O12\", \"O21\", \"O22\", \"R1\", \"R2\", \"C1\", \"C2\"\n  ))) -> assoc_tb\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-53507418{table-layout:auto;width:95%;}.cl-534d058a{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-534d058b{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-534e4aee{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-534e4aef{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-534e58cc{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58cd{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58d6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58d7{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58e0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58e1{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58ea{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58eb{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58ec{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58ed{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58f4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58f5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58fe{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e58ff{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e5900{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-534e5908{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-53507418'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-534e58cc\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058a\">w1</span></p></th><th class=\"cl-534e58cd\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058a\">w2</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">O11</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">N</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">E11</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">Rws</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">p</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">upp</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">low</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">op</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">AM</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">X2</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">phi</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">MI</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">DeltaP12</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">DeltaP21</span></p></th><th class=\"cl-534e58d6\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058a\">LogOddsRatio</span></p></th><th class=\"cl-534e58d7\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058a\">Sig_corrected</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58e0\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58e1\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">turning</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">7</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.621890</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.00132</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.01537668</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0007223942</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.04697987</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">18.032827</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.004500778</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">2.1096787</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0005611244</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.04682032</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.5654805</span></p></td><td class=\"cl-534e58eb\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58ec\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58ed\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">to</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">334</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">276.232956</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.00058</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.00000000</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0344685243</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.03446852</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">12.571828</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.003757984</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.2739627</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0060271174</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">-0.01579578</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.1998464</span></p></td><td class=\"cl-534e58f5\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58e0\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58e1\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">afraid</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">10</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">3.200240</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.00164</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.03034056</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0010319917</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.03401361</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">14.611721</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.004051412</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.6437480</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0007094521</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.03369447</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.2107100</span></p></td><td class=\"cl-534e58eb\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58ec\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58ed\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">silent</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">6</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">2.187919</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02361</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02074303</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0006191950</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02985075</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">6.716520</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.002746805</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.4554031</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0003977330</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02963165</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.1059978</span></p></td><td class=\"cl-534e58f5\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58e0\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58e1\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">replied</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">14</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">5.126915</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.00081</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.04860681</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0014447884</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02972399</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">15.533749</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.004177283</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.4492639</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0009257722</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02921035</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.0586565</span></p></td><td class=\"cl-534e58eb\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58ec\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58ed\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">thought</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">60</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">22.086010</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.00000</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.20939112</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0061919505</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02957122</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">65.951703</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.008607335</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.4418297</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0039557515</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02735431</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.0304387</span></p></td><td class=\"cl-534e58f5\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58e0\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58e1\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">timidly</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">6</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">2.209689</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02463</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02094943</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0006191950</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02955665</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">6.574620</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.002717635</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.4411188</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0003954616</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02933530</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.0958173</span></p></td><td class=\"cl-534e58eb\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58ec\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58ed\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">sir</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">6</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">2.318541</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.03016</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02198142</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0006191950</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02816901</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">5.911290</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.002576896</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.3717451</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0003841046</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02793643</span></p></td><td class=\"cl-534e58f4\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.0464132</span></p></td><td class=\"cl-534e58f5\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58e0\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58e1\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">haven</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">6</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">2.372967</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.03321</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02249742</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0006191950</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02752294</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">5.606231</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.002509523</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.3382704</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0003784260</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02728473</span></p></td><td class=\"cl-534e58ea\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.0225968</span></p></td><td class=\"cl-534e58eb\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-534e58fe\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">alice</span></p></td><td class=\"cl-534e58ff\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">cried</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">10</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">890,202</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">3.962202</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">278</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.00729</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.03756450</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0010319917</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02747253</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">9.305752</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.003233192</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">1.3356257</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.0006299529</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.02707470</span></p></td><td class=\"cl-534e5900\"><p class=\"cl-534e4aef\"><span class=\"cl-534d058b\">0.9906554</span></p></td><td class=\"cl-534e5908\"><p class=\"cl-534e4aee\"><span class=\"cl-534d058b\">p &lt; .001***</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nThe resulting table shows collocations in the example text descending by collocation strength.\n\nWe now use a [network graph](https://ladal.edu.au/net.html), or network for short, to visualise the collocations of our keyword (*alice*). Networks are a powerful and versatile visual representation used to depict relationships or connections among various elements. Network graphs typically consist of nodes, representing individual entities, and edges, indicating the connections or interactions between these entities. \n\nWe start by extracting the tokens that we want to show (the top 20 collocates of *alice*).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# sort the coocStatz data frame in descending order based on the 'phi' column\ntop20colls <- assoc_tb %>%\n  dplyr::arrange(-phi) %>%\n  # select the top 20 rows after sorting\n  head(20) %>%\n  # extract the 'token' column\n  dplyr::pull(w2) %>%\n  # add keyword\n  c(\"alice\")\n# inspect the top 20 tokens with the highest 'phi' values\ntop20colls\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"said\"    \"thought\" \"very\"    \"turning\" \"replied\" \"afraid\"  \"to\"     \n [8] \"i\"       \"cried\"   \"much\"    \"nothing\" \"think\"   \"silent\"  \"say\"    \n[15] \"timidly\" \"glad\"    \"t\"       \"sir\"     \"looked\"  \"please\"  \"alice\"  \n```\n\n\n:::\n:::\n\n\n\nWe then need to generate a feature co-occurrence matrix from a document-feature matrix based on the cleaned, lower case sentences of our text.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# tokenize the 'sentences' data using quanteda package\nkeyword_fcm <- sentences %>%\n  quanteda::tokens() %>%\n  # create a document-feature matrix (dfm) from the tokens\n  quanteda::dfm() %>%\n  # select features based on 'top20colls' and the term \"selection\" pattern\n  quanteda::dfm_select(pattern = c(top20colls, \"selection\")) %>%\n  # Create a symmetric feature co-occurrence matrix (fcm)\n  quanteda::fcm(tri = FALSE)\n# inspect the first 6 rows and 6 columns of the resulting fcm\nkeyword_fcm[1:6, 1:6]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nFeature co-occurrence matrix of: 6 by 6 features.\n         features\nfeatures  alice   i  to very nothing thought\n  alice      11 163 334   86      18      60\n  i         163 269 307   48      12      33\n  to        334 307 321  155      32      68\n  very       86  48 155   12       5      12\n  nothing    18  12  32    5       0       4\n  thought    60  33  68   12       4       0\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# create a network plot using the fcm\nquanteda.textplots::textplot_network(keyword_fcm,\n  # set the transparency of edges to 0.8 for visibility\n  edge_alpha = 0.8,\n  # set the color of edges to gray\n  edge_color = \"gray\",\n  # set the size of edges to 2 for better visibility\n  edge_size = 2,\n  # adjust the size of vertex labels\n  # based on the logarithm of row sums of the fcm\n  vertex_labelsize = log(rowSums(keyword_fcm))\n)\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\n\n\n# Keywords {-}\n\nKeywords play a pivotal role in text analysis, serving as distinctive terms that hold particular significance within a given text, context, or collection. This approach revolves around pinpointing words closely associated with a specific text. In simpler terms, keyness analysis strives to identify words that distinctly represent the content of a given text.\n\n<br>\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\n<b>Keyness is a statistical measure that helps identify significant terms in text by assessing how prominently a term stands out in a specific context by comparing its frequency to what’s expected based on background data.</b><br>\n</p>\n<p style='margin-left:1em;'>\n</p></span>\n</div>\n\n<br> \n\n\nTo determine if a token is a keyword and if it occurs significantly more frequently in a target corpus compared to a reference corpus, we use the following information (that is provided by the table above):\n\n* O11 = Number of times word~x~ occurs in `target corpus`\n\n* O12 = Number of times word~x~ occurs in `reference corpus` (without `target corpus`)\n\n* O21 = Number of times other words occur in `target corpus`\n\n* O22 = Number of times  other words occur in `reference corpus`\n\nExample:\n\n|              | target corpus       |    reference corpus |      |\n :---          | :-----:    |   --------:  | ---\n| **token**     | O~11~      | O~12~        |  = R~1~\n| **other tokens** | O~21~      | O~22~        |  = R~2~\n|              |  = C~1~    |   = C~2~     |  = N |\n\n\nFirst, we’ll load two texts.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load data\ntext1 <- base::readRDS(url(\"https://slcladal.github.io/data/orwell.rda\", \"rb\")) %>%\n  paste0(collapse = \" \")\ntext2 <- base::readRDS(url(\"https://slcladal.github.io/data/melville.rda\", \"rb\")) %>%\n  paste0(collapse = \" \")\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-53b99588{table-layout:auto;width:95%;}.cl-53b6f616{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-53b6f620{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-53b80f6a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53b81a50{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53b81a51{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-53b99588'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-53b81a50\"><p class=\"cl-53b80f6a\"><span class=\"cl-53b6f616\">.</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-53b81a51\"><p class=\"cl-53b80f6a\"><span class=\"cl-53b6f620\">1984 George Orwell Part 1, Chapter 1 It was a bright cold day in April, and the clocks were striking thirteen. Winston Smith, his chin nuzzled into his breast in an effort to escape the vile wind, sli</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nAs you can see, text1 is George Orwell's *1984*. \n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-53c173de{table-layout:auto;width:95%;}.cl-53be1f04{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-53be1f0e{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-53bf2dd6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-53bf38da{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-53bf38db{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-53c173de'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-53bf38da\"><p class=\"cl-53bf2dd6\"><span class=\"cl-53be1f04\">.</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-53bf38db\"><p class=\"cl-53bf2dd6\"><span class=\"cl-53be1f0e\">MOBY-DICK; or, THE WHALE. By Herman Melville CHAPTER 1. Loomings. Call me Ishmael. Some years ago—never mind how long precisely—having little or no money in my purse, and nothing particular to interes</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nThe table shows that text2 is Herman Melville's *Moby Dick*.\n\nAfter loading the two texts, we create a frequency table of first text.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntext1_words <- text1 %>%\n  # remove non-word characters\n  stringr::str_remove_all(\"[^[:alpha:] ]\") %>%\n  # convert to lower\n  tolower() %>%\n  # tokenize the corpus files\n  quanteda::tokens(\n    remove_punct = T,\n    remove_symbols = T,\n    remove_numbers = T\n  ) %>%\n  # unlist the tokens to create a data frame\n  unlist() %>%\n  as.data.frame() %>%\n  # rename the column to 'token'\n  dplyr::rename(token = 1) %>%\n  # group by 'token' and count the occurrences\n  dplyr::group_by(token) %>%\n  dplyr::summarise(n = n()) %>%\n  # add column stating where the frequency list is 'from'\n  dplyr::mutate(type = \"text1\")\n```\n:::\n\n\n\nNow, we create a frequency table of second text.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntext2_words <- text2 %>%\n  # remove non-word characters\n  stringr::str_remove_all(\"[^[:alpha:] ]\") %>%\n  # convert to lower\n  tolower() %>%\n  # tokenize the corpus files\n  quanteda::tokens(\n    remove_punct = T,\n    remove_symbols = T,\n    remove_numbers = T\n  ) %>%\n  # unlist the tokens to create a data frame\n  unlist() %>%\n  as.data.frame() %>%\n  # rename the column to 'token'\n  dplyr::rename(token = 1) %>%\n  # group by 'token' and count the occurrences\n  dplyr::group_by(token) %>%\n  dplyr::summarise(n = n()) %>%\n  # add column stating where the frequency list is 'from'\n  dplyr::mutate(type = \"text2\")\n```\n:::\n\n\n\nIn a next step, we combine the tables.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntexts_df <- dplyr::left_join(text1_words, text2_words, by = c(\"token\")) %>%\n  # rename columns and select relevant columns\n  dplyr::rename(\n    text1 = n.x,\n    text2 = n.y\n  ) %>%\n  dplyr::select(-type.x, -type.y) %>%\n  # replace NA values with 0 in 'corpus' and 'kwic' columns\n  tidyr::replace_na(list(text1 = 0, text2 = 0))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-543fbe10{table-layout:auto;width:95%;}.cl-543cacd4{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-543cacde{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-543de37e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-543de388{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-543df026{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df030{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df031{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df03a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df03b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df03c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df044{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df045{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df06c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df076{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df077{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-543df078{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-543fbe10'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-543df026\"><p class=\"cl-543de37e\"><span class=\"cl-543cacd4\">token</span></p></th><th class=\"cl-543df030\"><p class=\"cl-543de388\"><span class=\"cl-543cacd4\">text1</span></p></th><th class=\"cl-543df031\"><p class=\"cl-543de388\"><span class=\"cl-543cacd4\">text2</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df03a\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">a</span></p></td><td class=\"cl-543df03b\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">2,390</span></p></td><td class=\"cl-543df03c\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">4,536</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df044\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">aaronson</span></p></td><td class=\"cl-543df045\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">8</span></p></td><td class=\"cl-543df06c\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">0</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df03a\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">aback</span></p></td><td class=\"cl-543df03b\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">2</span></p></td><td class=\"cl-543df03c\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">2</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df044\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">abandon</span></p></td><td class=\"cl-543df045\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">3</span></p></td><td class=\"cl-543df06c\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">3</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df03a\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">abandoned</span></p></td><td class=\"cl-543df03b\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">4</span></p></td><td class=\"cl-543df03c\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">7</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df044\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">abashed</span></p></td><td class=\"cl-543df045\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">1</span></p></td><td class=\"cl-543df06c\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">2</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df03a\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">abbreviated</span></p></td><td class=\"cl-543df03b\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">1</span></p></td><td class=\"cl-543df03c\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">0</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df044\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">abiding</span></p></td><td class=\"cl-543df045\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">1</span></p></td><td class=\"cl-543df06c\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">1</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df03a\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">ability</span></p></td><td class=\"cl-543df03b\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">1</span></p></td><td class=\"cl-543df03c\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">1</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-543df076\"><p class=\"cl-543de37e\"><span class=\"cl-543cacde\">abject</span></p></td><td class=\"cl-543df077\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">3</span></p></td><td class=\"cl-543df078\"><p class=\"cl-543de388\"><span class=\"cl-543cacde\">0</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nWe now calculate the frequencies of the observed and expected frequencies as well as the row and column totals.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntexts_df %>%\n  dplyr::mutate(\n    text1 = as.numeric(text1),\n    text2 = as.numeric(text2)\n  ) %>%\n  dplyr::mutate(\n    C1 = sum(text1),\n    C2 = sum(text2),\n    N = C1 + C2\n  ) %>%\n  dplyr::rowwise() %>%\n  dplyr::mutate(\n    R1 = text1 + text2,\n    R2 = N - R1,\n    O11 = text1,\n    O12 = R1 - O11,\n    O21 = C1 - O11,\n    O22 = C2 - O12\n  ) %>%\n  dplyr::mutate(\n    E11 = (R1 * C1) / N,\n    E12 = (R1 * C2) / N,\n    E21 = (R2 * C1) / N,\n    E22 = (R2 * C2) / N\n  ) %>%\n  dplyr::select(-text1, -text2) -> stats_tb2\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-5471e520{table-layout:auto;width:95%;}.cl-546e5efa{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-546e5f0e{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-546fad14{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-546fad28{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-546fbd36{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd37{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd38{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd40{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd41{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd4a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd4b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd4c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd54{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd55{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd56{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-546fbd5e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-5471e520'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-546fbd36\"><p class=\"cl-546fad14\"><span class=\"cl-546e5efa\">token</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">C1</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">C2</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">N</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">R1</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">R2</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">O11</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">O12</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">O21</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">O22</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">E11</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">E12</span></p></th><th class=\"cl-546fbd37\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">E21</span></p></th><th class=\"cl-546fbd38\"><p class=\"cl-546fad28\"><span class=\"cl-546e5efa\">E22</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd40\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">a</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">6,926</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">256,914</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2,390</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">4,536</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">92,287</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">164,627</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2,485.3430185</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">4,440.6569815</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">92,191.66</span></p></td><td class=\"cl-546fbd4a\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">164,722.3</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd4b\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">aaronson</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">8</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,832</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">8</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">0</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,669</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2.8707398</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">5.1292602</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,674.13</span></p></td><td class=\"cl-546fbd54\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,157.9</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd40\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">aback</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">4</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,836</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,675</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,161</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1.4353699</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2.5646301</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,675.56</span></p></td><td class=\"cl-546fbd4a\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,160.4</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd4b\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">abandon</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">6</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,834</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">3</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">3</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,674</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,160</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2.1530549</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">3.8469451</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,674.85</span></p></td><td class=\"cl-546fbd54\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,159.2</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd40\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">abandoned</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">11</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,829</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">4</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">7</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,673</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,156</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">3.9472673</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">7.0527327</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,673.05</span></p></td><td class=\"cl-546fbd4a\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,155.9</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd4b\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">abashed</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">3</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,837</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,676</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,161</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1.0765274</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1.9234726</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,675.92</span></p></td><td class=\"cl-546fbd54\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,161.1</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd40\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">abbreviated</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,839</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">0</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,676</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">0.3588425</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">0.6411575</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,676.64</span></p></td><td class=\"cl-546fbd4a\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,162.4</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd4b\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">abiding</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,838</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,676</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,162</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">0.7176850</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1.2823150</span></p></td><td class=\"cl-546fbd4c\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,676.28</span></p></td><td class=\"cl-546fbd54\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,161.7</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd40\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">ability</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">2</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,838</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,676</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,162</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">0.7176850</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1.2823150</span></p></td><td class=\"cl-546fbd41\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,676.28</span></p></td><td class=\"cl-546fbd4a\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,161.7</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-546fbd55\"><p class=\"cl-546fad14\"><span class=\"cl-546e5f0e\">abject</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,677</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,840</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">3</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">263,837</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">3</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">0</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,674</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,163</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1.0765274</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">1.9234726</span></p></td><td class=\"cl-546fbd56\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">94,675.92</span></p></td><td class=\"cl-546fbd5e\"><p class=\"cl-546fad28\"><span class=\"cl-546e5f0e\">169,161.1</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nWe can now calculate the association strength which, in this case serves as a keyness measure.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstats_tb2 %>%\n  # determine number of rows\n  dplyr::mutate(Rws = nrow(.)) %>%\n  # work row-wise\n  dplyr::rowwise() %>%\n  # calculate fishers' exact test\n  dplyr::mutate(p = as.vector(unlist(fisher.test(matrix(c(O11, O12, O21, O22),\n    ncol = 2, byrow = T\n  ))[1]))) %>%\n  # extract AM\n  # 1. bias towards top left\n  dplyr::mutate(\n    btl_O12 = ifelse(C1 > R1, 0, R1 - C1),\n    btl_O11 = ifelse(C1 > R1, R1, R1 - btl_O12),\n    btl_O21 = ifelse(C1 > R1, C1 - R1, C1 - btl_O11),\n    btl_O22 = ifelse(C1 > R1, C2, C2 - btl_O12),\n\n    # 2. bias towards top right\n    btr_O11 = 0,\n    btr_O21 = R1,\n    btr_O12 = C1,\n    btr_O22 = C2 - R1\n  ) %>%\n  # 3. calculate AM\n  dplyr::mutate(\n    upp = btl_O11 / R1,\n    low = btr_O11 / R1,\n    op = O11 / R1\n  ) %>%\n  dplyr::mutate(AM = op / upp) %>%\n  # remove superfluous columns\n  dplyr::select(-btr_O21, -btr_O12, -btr_O22, -btl_O12, -btl_O11, -btl_O21, -btl_O22, -btr_O11) %>%\n  # extract x2 statistics\n  dplyr::mutate(X2 = (O11 - E11)^2 / E11 + (O12 - E12)^2 / E12 + (O21 - E21)^2 / E21 + (O22 - E22)^2 / E22) %>%\n  # extract expected frequency\n  dplyr::mutate(Exp = E11) %>%\n  # extract association measures\n  dplyr::mutate(\n    phi = sqrt((X2 / N)),\n    MI = log2(O11 / E11),\n    DeltaP12 = (O11 / (O11 + O12)) - (O21 / (O21 + O22)),\n    DeltaP21 = (O11 / (O11 + O21)) - (O21 / (O12 + O22)),\n    LogOddsRatio = log(((O11 + 0.5) * (O22 + 0.5)) / ((O12 + 0.5) * (O21 + 0.5)))\n  ) %>%\n  # determine Bonferroni corrected significance\n  dplyr::mutate(Sig_corrected = dplyr::case_when(\n    p / Rws > .05 ~ \"n.s.\",\n    p / Rws > .01 ~ \"p < .05*\",\n    p / Rws > .001 ~ \"p < .01**\",\n    p / Rws <= .001 ~ \"p < .001***\",\n    T ~ \"N.A.\"\n  )) %>%\n  # round p-value\n  dplyr::mutate(\n    p = round(p, 5),\n    type = ifelse(E11 > O11, \"antitype\", \"type\")\n  ) %>%\n  # filter out non significant results\n  dplyr::filter(Sig_corrected != \"n.s.\") %>%\n  # arrange by phi (association measure)\n  dplyr::arrange(-DeltaP12) %>%\n  # remove superfluous columns\n  dplyr::select(-any_of(c(\n    \"TermCoocFreq\", \"AllFreq\", \"NRows\", \"E12\", \"E21\",\n    \"E22\", \"O12\", \"O21\", \"O22\", \"R1\", \"R2\", \"C1\", \"C2\", \"Exp\"\n  ))) -> assoc_tb3\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-568c9f9e{table-layout:auto;width:95%;}.cl-5688ecc8{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5688ecd2{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-568a5dd8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-568a5de2{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-568a6d3c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d46{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d47{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d50{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d51{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d52{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d5a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d5b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d5c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d64{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d65{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d6e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d6f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d70{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d71{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-568a6d78{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-568c9f9e'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-568a6d3c\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecc8\">token</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">N</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">O11</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">E11</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">Rws</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">p</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">upp</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">low</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">op</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">AM</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">X2</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">phi</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">MI</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">DeltaP12</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">DeltaP21</span></p></th><th class=\"cl-568a6d46\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecc8\">LogOddsRatio</span></p></th><th class=\"cl-568a6d47\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecc8\">Sig_corrected</span></p></th><th class=\"cl-568a6d50\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecc8\">type</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d51\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">winston</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">440</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">157.89069</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">787.47801</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.05463223</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6422285</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5524307</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">7.366105</span></p></td><td class=\"cl-568a6d5a\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d5b\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d5c\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">obrien</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">178</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">63.87396</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">318.25409</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.03473095</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6415904</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5567468</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">6.460007</span></p></td><td class=\"cl-568a6d65\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d6e\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d51\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">telescreen</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">90</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">32.29582</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">160.86130</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.02469195</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6413763</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5581965</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">5.779837</span></p></td><td class=\"cl-568a6d5a\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d5b\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d5c\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">julia</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">78</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">27.98971</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">139.40678</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.02298644</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6413471</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5583942</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">5.637459</span></p></td><td class=\"cl-568a6d65\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d6e\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d51\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">winstons</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">70</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">25.11897</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">125.10486</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.02177543</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6413277</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5585260</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">5.529889</span></p></td><td class=\"cl-568a6d5a\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d5b\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d5c\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">oceania</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">60</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">21.53055</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">107.22867</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.02015975</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6413034</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5586907</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">5.376814</span></p></td><td class=\"cl-568a6d65\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d6e\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d51\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">proles</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">42</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">15.07138</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">75.05495</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.01686628</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6412596</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5589872</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">5.023484</span></p></td><td class=\"cl-568a6d5a\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d5b\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d5c\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">newspeak</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">40</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">14.35370</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">71.48036</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.01645974</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6412547</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5590202</span></p></td><td class=\"cl-568a6d64\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">4.975261</span></p></td><td class=\"cl-568a6d65\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d6e\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d51\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">parsons</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">40</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">14.35370</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">71.48036</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.01645974</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6412547</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5590202</span></p></td><td class=\"cl-568a6d52\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">4.975261</span></p></td><td class=\"cl-568a6d5a\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d5b\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-568a6d6f\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">eurasia</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">263,840</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">35</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">12.55949</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">8,689</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">62.54413</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.01539653</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">1.478577</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">0.6412426</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">-0.5591025</span></p></td><td class=\"cl-568a6d70\"><p class=\"cl-568a5de2\"><span class=\"cl-5688ecd2\">4.843439</span></p></td><td class=\"cl-568a6d71\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">p &lt; .001***</span></p></td><td class=\"cl-568a6d78\"><p class=\"cl-568a5dd8\"><span class=\"cl-5688ecd2\">type</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\nWe can use a barplot to visualize the association strength (keyness) of words with a text.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get top 10 keywords for text 1\ntop <- assoc_tb3 %>%\n  dplyr::ungroup() %>%\n  dplyr::slice_head(n = 10)\n# get top 10 keywords for text 2\nbot <- assoc_tb3 %>%\n  dplyr::ungroup() %>%\n  dplyr::slice_tail(n = 10)\n# combine into table\nrbind(top, bot) %>%\n  # create a ggplot\n  ggplot(aes(x = reorder(token, DeltaP12, mean), y = DeltaP12, label = DeltaP12, fill = type)) +\n  # add a bar plot using the 'phi' values\n  geom_bar(stat = \"identity\") +\n  # add text labels above the bars with rounded 'phi' values\n  geom_text(aes(\n    y = ifelse(DeltaP12 > 0, DeltaP12 - 0.05, DeltaP12 + 0.05),\n    label = round(DeltaP12, 3)\n  ), color = \"white\", size = 3) +\n  # flip the coordinates to have horizontal bars\n  coord_flip() +\n  # set the theme to a basic white and black theme\n  theme_bw() +\n  # remove legend\n  theme(legend.position = \"none\") +\n  # define colors\n  scale_fill_manual(values = c(\"orange\", \"darkgray\")) +\n  # set the x-axis label to \"Token\" and y-axis label to \"Association strength (phi)\"\n  labs(title = \"Top 10 keywords for text1 and text 2\", x = \"Keyword\", y = \"Association strength (DeltaP12)\")\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\n\n# Text Classification{-}\n\nText classification involves methods for categorizing text into predefined groups, like languages, genres, or authors. These categorizations usually rely on the frequency of word types, important terms, phonetic elements, and other linguistic characteristics such as sentence length and words per line.\n\nLike many other text analysis methods, text classification often starts with a training dataset already marked with the necessary labels. You can create these training datasets and their associated features manually or opt for pre-built training sets offered by specific software or tools.\n\n\n<br>\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\n<b>Text classification is a machine learning task where text documents are categorized into predefined classes or labels based on their content.</b> It involves training a model on labeled data to learn patterns and then using that model to classify new, unlabeled documents. Text classification has numerous applications, such as spam detection, sentiment analysis, and topic categorization.<br>\n</p>\n<p style='margin-left:1em;'>\n</p></span>\n</div>\n\n<br>\n\n\nIn the upcoming example, we'll use phoneme frequency to classify a text. To get started, we'll load a German text and break it down into its constituent phonetic elements.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# read in German text\nGerman <- readLines(\"https://slcladal.github.io/data/phonemictext1.txt\") %>%\n  stringr::str_remove_all(\" \") %>%\n  stringr::str_split(\"\") %>%\n  unlist()\n# inspect data\nhead(German, 20)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"?\" \"a\" \"l\" \"s\" \"h\" \"E\" \"s\" \"@\" \"d\" \"e\" \":\" \"n\" \"S\" \"t\" \"E\" \"p\" \"@\" \"n\" \"v\"\n[20] \"O\"\n```\n\n\n:::\n:::\n\n\n\nWe now do the same for three other texts - an English and a Spanish text as well as one text in a language that we will determine using classification.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# read in texts\nEnglish <- readLines(\"https://slcladal.github.io/data/phonemictext2.txt\")\nSpanish <- readLines(\"https://slcladal.github.io/data/phonemictext3.txt\")\nUnknown <- readLines(\"https://slcladal.github.io/data/phonemictext4.txt\")\n# clean, split texts into phonemes, unlist and convert them into vectors\nEnglish <- as.vector(unlist(strsplit(gsub(\" \", \"\", English), \"\")))\nSpanish <- as.vector(unlist(strsplit(gsub(\" \", \"\", Spanish), \"\")))\nUnknown <- as.vector(unlist(strsplit(gsub(\" \", \"\", Unknown), \"\")))\n# inspect data\nhead(English, 20)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"D\"  \"@\"  \"b\"  \"U\"  \"k\"  \"I\"  \"z\"  \"p\"  \"r\"  \"\\\\\" \"@\"  \"z\"  \"E\"  \"n\"  \"t\" \n[16] \"@\"  \"d\"  \"{\"  \"z\"  \"@\" \n```\n\n\n:::\n:::\n\n\nWe will now create a table that represents the phonemes and their frequencies in each of the 4 texts. In addition, we will add the language and simply the column names.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create data tables\nGerman <- data.frame(names(table(German)), as.vector(table(German)))\nEnglish <- data.frame(names(table(English)), as.vector(table(English)))\nSpanish <- data.frame(names(table(Spanish)), as.vector(table(Spanish)))\nUnknown <- data.frame(names(table(Unknown)), as.vector(table(Unknown)))\n# add column with language\nGerman$Language <- \"German\"\nEnglish$Language <- \"English\"\nSpanish$Language <- \"Spanish\"\nUnknown$Language <- \"Unknown\"\n# simplify column names\ncolnames(German)[1:2] <- c(\"Phoneme\", \"Frequency\")\ncolnames(English)[1:2] <- c(\"Phoneme\", \"Frequency\")\ncolnames(Spanish)[1:2] <- c(\"Phoneme\", \"Frequency\")\ncolnames(Unknown)[1:2] <- c(\"Phoneme\", \"Frequency\")\n# combine all tables into a single table\nclassdata <- rbind(German, English, Spanish, Unknown)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-587f20a6{table-layout:auto;width:50%;}.cl-587c349a{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-587c34a4{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-587d5672{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-587d569a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-587d6392{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d6393{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d639c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d639d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d639e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d63a6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d63a7{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d63a8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d63b0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d63b1{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d63ba{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-587d63bb{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-587f20a6'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-587d6392\"><p class=\"cl-587d5672\"><span class=\"cl-587c349a\">Phoneme</span></p></th><th class=\"cl-587d6393\"><p class=\"cl-587d569a\"><span class=\"cl-587c349a\">Frequency</span></p></th><th class=\"cl-587d639c\"><p class=\"cl-587d5672\"><span class=\"cl-587c349a\">Language</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d639d\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">-</span></p></td><td class=\"cl-587d639e\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">6</span></p></td><td class=\"cl-587d63a6\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d63a7\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">:</span></p></td><td class=\"cl-587d63a8\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">569</span></p></td><td class=\"cl-587d63b0\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d639d\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">?</span></p></td><td class=\"cl-587d639e\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">556</span></p></td><td class=\"cl-587d63a6\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d63a7\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">@</span></p></td><td class=\"cl-587d63a8\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">565</span></p></td><td class=\"cl-587d63b0\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d639d\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">2</span></p></td><td class=\"cl-587d639e\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">6</span></p></td><td class=\"cl-587d63a6\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d63a7\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">3</span></p></td><td class=\"cl-587d63a8\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">31</span></p></td><td class=\"cl-587d63b0\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d639d\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">4</span></p></td><td class=\"cl-587d639e\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">67</span></p></td><td class=\"cl-587d63a6\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d63a7\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">5</span></p></td><td class=\"cl-587d63a8\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">1</span></p></td><td class=\"cl-587d63b0\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d639d\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">6</span></p></td><td class=\"cl-587d639e\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">402</span></p></td><td class=\"cl-587d63a6\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-587d63b1\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">8</span></p></td><td class=\"cl-587d63ba\"><p class=\"cl-587d569a\"><span class=\"cl-587c34a4\">32</span></p></td><td class=\"cl-587d63bb\"><p class=\"cl-587d5672\"><span class=\"cl-587c34a4\">German</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nNow, we group the data so that we see, how often each phoneme is used in each language.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# convert into wide format\nclassdw <- classdata %>%\n  tidyr::spread(Phoneme, Frequency) %>%\n  replace(is.na(.), 0)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-588c2f6c{table-layout:auto;width:50%;}.cl-58895440{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5889544a{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-588a7884{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-588a7885{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-588a8608{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a8612{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a8613{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a861c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a861d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a8626{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a8630{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a863a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a863b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a8644{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a864e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-588a864f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-588c2f6c'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-588a8608\"><p class=\"cl-588a7884\"><span class=\"cl-58895440\">Language</span></p></th><th class=\"cl-588a8612\"><p class=\"cl-588a7885\"><span class=\"cl-58895440\">-</span></p></th><th class=\"cl-588a8612\"><p class=\"cl-588a7885\"><span class=\"cl-58895440\">:</span></p></th><th class=\"cl-588a8612\"><p class=\"cl-588a7885\"><span class=\"cl-58895440\">?</span></p></th><th class=\"cl-588a8612\"><p class=\"cl-588a7885\"><span class=\"cl-58895440\">'</span></p></th><th class=\"cl-588a8613\"><p class=\"cl-588a7885\"><span class=\"cl-58895440\">{</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-588a861c\"><p class=\"cl-588a7884\"><span class=\"cl-5889544a\">English</span></p></td><td class=\"cl-588a861d\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">8</span></p></td><td class=\"cl-588a861d\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">176</span></p></td><td class=\"cl-588a861d\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">0</span></p></td><td class=\"cl-588a861d\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">7</span></p></td><td class=\"cl-588a8626\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">123</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-588a8630\"><p class=\"cl-588a7884\"><span class=\"cl-5889544a\">German</span></p></td><td class=\"cl-588a863a\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">6</span></p></td><td class=\"cl-588a863a\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">569</span></p></td><td class=\"cl-588a863a\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">556</span></p></td><td class=\"cl-588a863a\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">0</span></p></td><td class=\"cl-588a863b\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">0</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-588a861c\"><p class=\"cl-588a7884\"><span class=\"cl-5889544a\">Spanish</span></p></td><td class=\"cl-588a861d\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">5</span></p></td><td class=\"cl-588a861d\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">0</span></p></td><td class=\"cl-588a861d\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">0</span></p></td><td class=\"cl-588a861d\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">0</span></p></td><td class=\"cl-588a8626\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">0</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-588a8644\"><p class=\"cl-588a7884\"><span class=\"cl-5889544a\">Unknown</span></p></td><td class=\"cl-588a864e\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">12</span></p></td><td class=\"cl-588a864e\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">286</span></p></td><td class=\"cl-588a864e\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">0</span></p></td><td class=\"cl-588a864e\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">12</span></p></td><td class=\"cl-588a864f\"><p class=\"cl-588a7885\"><span class=\"cl-5889544a\">125</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\n\nNext, we must reshape our data to reflect the frequency of each phoneme categorized by language. This transformation aligns with our classifier's design, which will employ *Language* as the dependent variable and utilize phoneme frequencies as predictors.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnumvar <- colnames(classdw)[2:length(colnames(classdw))]\nclassdw[numvar] <- lapply(classdw[numvar], as.numeric)\n# function for normalizing numeric variables\nnormalize <- function(x) {\n  (x - min(x)) / (max(x) - min(x))\n}\n# apply normalization\nclassdw[numvar] <- as.data.frame(lapply(classdw[numvar], normalize))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-589a4c00{table-layout:auto;width:50%;}.cl-5897645e{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58976468{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58989392{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-58989393{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5898a08a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a094{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a095{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a096{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a09e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a09f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a0a0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a0a8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a0a9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a0b2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a0b3{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5898a0b4{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-589a4c00'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-5898a08a\"><p class=\"cl-58989392\"><span class=\"cl-5897645e\">Language</span></p></th><th class=\"cl-5898a094\"><p class=\"cl-58989393\"><span class=\"cl-5897645e\">-</span></p></th><th class=\"cl-5898a094\"><p class=\"cl-58989393\"><span class=\"cl-5897645e\">:</span></p></th><th class=\"cl-5898a094\"><p class=\"cl-58989393\"><span class=\"cl-5897645e\">?</span></p></th><th class=\"cl-5898a094\"><p class=\"cl-58989393\"><span class=\"cl-5897645e\">'</span></p></th><th class=\"cl-5898a095\"><p class=\"cl-58989393\"><span class=\"cl-5897645e\">{</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-5898a096\"><p class=\"cl-58989392\"><span class=\"cl-58976468\">English</span></p></td><td class=\"cl-5898a09e\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.4285714</span></p></td><td class=\"cl-5898a09e\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.3093146</span></p></td><td class=\"cl-5898a09e\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0</span></p></td><td class=\"cl-5898a09e\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.5833333</span></p></td><td class=\"cl-5898a09f\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.984</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-5898a0a0\"><p class=\"cl-58989392\"><span class=\"cl-58976468\">German</span></p></td><td class=\"cl-5898a0a8\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.1428571</span></p></td><td class=\"cl-5898a0a8\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">1.0000000</span></p></td><td class=\"cl-5898a0a8\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">1</span></p></td><td class=\"cl-5898a0a8\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.0000000</span></p></td><td class=\"cl-5898a0a9\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.000</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-5898a096\"><p class=\"cl-58989392\"><span class=\"cl-58976468\">Spanish</span></p></td><td class=\"cl-5898a09e\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.0000000</span></p></td><td class=\"cl-5898a09e\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.0000000</span></p></td><td class=\"cl-5898a09e\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0</span></p></td><td class=\"cl-5898a09e\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.0000000</span></p></td><td class=\"cl-5898a09f\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.000</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-5898a0b2\"><p class=\"cl-58989392\"><span class=\"cl-58976468\">Unknown</span></p></td><td class=\"cl-5898a0b3\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">1.0000000</span></p></td><td class=\"cl-5898a0b3\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0.5026362</span></p></td><td class=\"cl-5898a0b3\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">0</span></p></td><td class=\"cl-5898a0b3\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">1.0000000</span></p></td><td class=\"cl-5898a0b4\"><p class=\"cl-58989393\"><span class=\"cl-58976468\">1.000</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nBefore turning to the actual classification, we will use a cluster analysis to see which texts the unknown text is most similar with.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# remove language column\ntextm <- classdw[, 2:ncol(classdw)]\n# add languages as row names\nrownames(textm) <- classdw[, 1]\n# create distance matrix\ndistmtx <- dist(textm)\n# perform clustering\nclustertexts <- hclust(distmtx, method = \"ward.D\")\n# visualize cluster result\nplot(clustertexts, hang = .25, main = \"\")\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/tc10-1.png){width=672}\n:::\n:::\n\n\n\nAs indicated by the cluster analysis, the unidentified text forms a cluster alongside the English texts, strongly suggesting that the unknown text is likely in English.\n\nBefore we dive into the actual classification process, we'll partition the data into two distinct sets: one excluding *Unknown* (our training set) and the other containing only *Unknown* (our test set). This segmentation allows us to train our model effectively and subsequently test its accuracy.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create training set\ntrain <- classdw %>%\n  filter(Language != \"Unknown\")\n# create test set\ntest <- classdw %>%\n  filter(Language == \"Unknown\")\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid\"><style>.cl-58ada728{table-layout:auto;width:50%;}.cl-58a9cb3a{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58a9cb3b{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-58aae3e4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-58aae3e5{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-58aaf12c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf12d{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf136{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf137{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf140{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf14a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf14b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf154{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf155{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf156{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf15e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-58aaf15f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-58ada728'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-58aaf12c\"><p class=\"cl-58aae3e4\"><span class=\"cl-58a9cb3a\">Language</span></p></th><th class=\"cl-58aaf12d\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3a\">-</span></p></th><th class=\"cl-58aaf12d\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3a\">:</span></p></th><th class=\"cl-58aaf12d\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3a\">?</span></p></th><th class=\"cl-58aaf12d\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3a\">'</span></p></th><th class=\"cl-58aaf136\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3a\">{</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-58aaf137\"><p class=\"cl-58aae3e4\"><span class=\"cl-58a9cb3b\">English</span></p></td><td class=\"cl-58aaf140\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.4285714</span></p></td><td class=\"cl-58aaf140\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.3093146</span></p></td><td class=\"cl-58aaf140\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0</span></p></td><td class=\"cl-58aaf140\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.5833333</span></p></td><td class=\"cl-58aaf14a\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.984</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-58aaf14b\"><p class=\"cl-58aae3e4\"><span class=\"cl-58a9cb3b\">German</span></p></td><td class=\"cl-58aaf154\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.1428571</span></p></td><td class=\"cl-58aaf154\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">1.0000000</span></p></td><td class=\"cl-58aaf154\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">1</span></p></td><td class=\"cl-58aaf154\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.0000000</span></p></td><td class=\"cl-58aaf155\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.000</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-58aaf137\"><p class=\"cl-58aae3e4\"><span class=\"cl-58a9cb3b\">Spanish</span></p></td><td class=\"cl-58aaf140\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.0000000</span></p></td><td class=\"cl-58aaf140\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.0000000</span></p></td><td class=\"cl-58aaf140\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0</span></p></td><td class=\"cl-58aaf140\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.0000000</span></p></td><td class=\"cl-58aaf14a\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.000</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-58aaf156\"><p class=\"cl-58aae3e4\"><span class=\"cl-58a9cb3b\">Unknown</span></p></td><td class=\"cl-58aaf15e\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">1.0000000</span></p></td><td class=\"cl-58aaf15e\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0.5026362</span></p></td><td class=\"cl-58aaf15e\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">0</span></p></td><td class=\"cl-58aaf15e\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">1.0000000</span></p></td><td class=\"cl-58aaf15f\"><p class=\"cl-58aae3e5\"><span class=\"cl-58a9cb3b\">1.000</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n\n\n\n\nIn the final stage, we can put our classifier into action. Our chosen classifier is a k-nearest neighbor classifier, which operates on the principle of classifying an unknown element based on its proximity to the clusters within the training set.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# set seed for reproducibility\nset.seed(12345)\n# apply k-nearest-neighbor (knn) classifier\nprediction <- class::knn(train[, 2:ncol(train)],\n  test[, 2:ncol(test)],\n  cl = train[, 1],\n  k = 3\n)\n# inspect the result\nprediction\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] English\nLevels: English German Spanish\n```\n\n\n:::\n:::\n\n\n\nUsing the phoneme frequencies present in the unknown text, our knn-classifier confidently predicts that the text is in English. This prediction aligns with reality, as the text is, indeed, a section of the Wikipedia article for Aldous Huxley's *Brave New World*. It's worth noting that the training texts encompassed German, English, and Spanish translations of a subsection from Wikipedia's article on Hermann Hesse's *Steppenwolf*.\n\n\n# Part-of-Speech tagging{-}\n\nOne widely used method for enhancing text data is part-of-speech tagging, which involves identifying the word type to which each word belongs. In the following section, we will apply part-of-speech tags to a brief English text.\n\nPart-of-speech tagging is the process of assigning grammatical categories (such as noun, verb, adjective, etc.) to individual words in a text. It provides valuable insights into the syntactic and grammatical structure of a text, making it easier to analyze and extract meaningful information.\n\n\n<br>\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\n<b>Part-of-speech tagging (POS tagging) is a natural language processing task where each word in a text is assigned a grammatical category, such as noun, verb, adjective, etc.</b> It involves using linguistic patterns and context to determine the appropriate part of speech for each word. POS tagging is crucial for various language analysis tasks, including information retrieval, text summarization, and grammar analysis.<br>\n</p>\n<p style='margin-left:1em;'>\n</p></span>\n</div>\n\n<br>\n\n\n\nWe start by selecting a portion of our example text.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load text\nsample <- base::readRDS(url(\"https://slcladal.github.io/data/alice.rda\", \"rb\")) %>%\n  .[1:10] %>%\n  paste0(collapse = \" \")\n# inspect\nsubstr(sample, 1, 200)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Alice’s Adventures in Wonderland by Lewis Carroll CHAPTER I. Down the Rabbit-Hole Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice\"\n```\n\n\n:::\n:::\n\n\n\nWith our text ready for analysis, our next step is to download a pre-trained language model.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# download language model\nm_eng <- udpipe::udpipe_download_model(language = \"english-ewt\")\n```\n:::\n\n\n\nOnce you've downloaded a model previously, you also have the option to load it directly from the location where you've stored it on your computer. In my case, I've placed the model in a folder labeled *udpipemodels*.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load language model from your computer after you have downloaded it once\nm_eng <- udpipe_load_model(here::here(\"udpipemodels\", \"english-ewt-ud-2.5-191206.udpipe\"))\n```\n:::\n\n\n\nWe can now use the model to annotate out text.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# tokenise, tag, dependency parsing\ntext_anndf <- udpipe::udpipe_annotate(m_eng, x = sample) %>%\n  as.data.frame() %>%\n  dplyr::select(-sentence)\n# inspect\nhead(text_anndf, 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   doc_id paragraph_id sentence_id token_id      token      lemma  upos xpos\n1    doc1            1           1        1      Alice      Alice PROPN  NNP\n2    doc1            1           1        2         ’s         's  PART  POS\n3    doc1            1           1        3 Adventures  Adventure  NOUN  NNS\n4    doc1            1           1        4         in         in   ADP   IN\n5    doc1            1           1        5 Wonderland Wonderland PROPN  NNP\n6    doc1            1           1        6         by         by   ADP   IN\n7    doc1            1           1        7      Lewis      Lewis PROPN  NNP\n8    doc1            1           1        8    Carroll    Carroll PROPN  NNP\n9    doc1            1           1        9    CHAPTER    chapter PROPN  NNP\n10   doc1            1           1       10          I          I  PRON  PRP\n                                        feats head_token_id   dep_rel deps\n1                                 Number=Sing             3 nmod:poss <NA>\n2                                        <NA>             1      case <NA>\n3                                 Number=Plur             0      root <NA>\n4                                        <NA>             5      case <NA>\n5                                 Number=Sing             3      nmod <NA>\n6                                        <NA>             7      case <NA>\n7                                 Number=Sing             3      nmod <NA>\n8                                 Number=Sing             7      flat <NA>\n9                                 Number=Sing             7      flat <NA>\n10 Case=Nom|Number=Sing|Person=1|PronType=Prs             3     appos <NA>\n            misc\n1  SpaceAfter=No\n2           <NA>\n3           <NA>\n4           <NA>\n5           <NA>\n6           <NA>\n7           <NA>\n8           <NA>\n9           <NA>\n10 SpaceAfter=No\n```\n\n\n:::\n:::\n\n\n\nIt can be useful to extract only the words and their pos-tags and convert them back into a text format (rather than a tabular format). \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntagged_text <- paste(text_anndf$token, \"/\", text_anndf$xpos, collapse = \" \", sep = \"\")\n# inspect tagged text\nsubstr(tagged_text, 1, 200)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Alice/NNP ’s/POS Adventures/NNS in/IN Wonderland/NNP by/IN Lewis/NNP Carroll/NNP CHAPTER/NNP I/PRP ./. Down/RB the/DT Rabbit/NNP -/HYPH Hole/NNP Alice/NNP was/VBD beginning/VBG to/TO get/VB very/RB ti\"\n```\n\n\n:::\n:::\n\n\n\nWe could use the pos-tagged data to study differences in the distribution of word classes across different registers. or to find certain syntactic patterns in a collection of texts. \n\n# Names Entity Recognition {-}\n\nNamed Entity Recognition (NER), also known as named entity extraction or entity extraction, is a text analysis technique that automatically identifies and extracts named entities from text, such as people, locations, brands, and more.\n\nNER involves the process of extracting textual elements with characteristics commonly associated with proper nouns (e.g., locations, individuals, organizations) rather than other parts of speech. These characteristics may include non-sentence initial capitalization. Named entities are frequently retrieved in automated summarization and topic modeling.\n\nNER can be accomplished through straightforward feature extraction, like extracting all non-sentence-initial capitalized words, or with the aid of training sets. Utilizing training sets—texts annotated to identify entities and non-entities—proves more effective when dealing with unknown or inconsistently capitalized data.\n\n\n<br>\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\n<b>Named Entity Recognition (NER) is a natural language processing task that identifies and classifies words or phrases within text into predefined categories, such as persons, locations, organizations, and more.</b> It employs contextual clues and language patterns to recognize these named entities. NER is essential for various applications, including information extraction, text summarization, and knowledge graph construction.<br>\n</p>\n<p style='margin-left:1em;'>\n</p></span>\n</div>\n\n<br>\n\n\nIn this context, we will leverage the results obtained from part-of-speech tagging to extract terms tagged as named entities (the label `PROPN` in the `upos` column).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# tokenise, tag, dependency parsing\nner_df <- text_anndf %>%\n  dplyr::filter(upos == \"PROPN\") %>%\n  dplyr::select(token_id, token, lemma, upos, feats)\n# inspect\nhead(ner_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  token_id      token      lemma  upos       feats\n1        1      Alice      Alice PROPN Number=Sing\n2        5 Wonderland Wonderland PROPN Number=Sing\n3        7      Lewis      Lewis PROPN Number=Sing\n4        8    Carroll    Carroll PROPN Number=Sing\n5        9    CHAPTER    chapter PROPN Number=Sing\n6        3     Rabbit     rabbit PROPN Number=Sing\n```\n\n\n:::\n:::\n\n\n\nThe obtained results can be further processed and categorized into various types such as persons, locations, dates, and other entities. This initial insight should provide you with a starting point for your analysis and exploration.\n\n# Dependency Parsing Using UDPipe{-}\n\nIn addition to part-of-speech tagging, we can create visual representations illustrating the syntactic relationships between the various components of a sentence. \n\n\n<br>\n\n<div class=\"warning\" style='padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a'>\n<span>\n<p style='margin-top:1em; text-align:center'>\n<b>Dependency parsing is a linguistic analysis technique that reveals the grammatical structure of sentences by identifying how words relate to one another.</b> It establishes hierarchical relationships, such as subject-verb, modifier-noun, or object-verb connections, within a sentence. Dependency parsing is fundamental for understanding sentence syntax, semantic roles, and linguistic relationships, playing a critical role in various natural language processing tasks like sentiment analysis, information extraction, and machine translation.<br>\n</p>\n<p style='margin-left:1em;'>\n</p></span>\n</div>\n\n<br>\n\n\nTo achieve this, we first construct an object containing a sentence (in this instance, the sentence *John gave Mary a kiss*), and subsequently, we utilize the `textplot_dependencyparser` function to plot or visualize the dependencies.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# parse text\nsent <- udpipe::udpipe_annotate(m_eng, x = \"John gave Mary a kiss.\") %>%\n  as.data.frame()\n# inspect\nhead(sent)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  doc_id paragraph_id sentence_id               sentence token_id token lemma\n1   doc1            1           1 John gave Mary a kiss.        1  John  John\n2   doc1            1           1 John gave Mary a kiss.        2  gave  give\n3   doc1            1           1 John gave Mary a kiss.        3  Mary  Mary\n4   doc1            1           1 John gave Mary a kiss.        4     a     a\n5   doc1            1           1 John gave Mary a kiss.        5  kiss  kiss\n6   doc1            1           1 John gave Mary a kiss.        6     .     .\n   upos xpos                            feats head_token_id dep_rel deps\n1 PROPN  NNP                      Number=Sing             2   nsubj <NA>\n2  VERB  VBD Mood=Ind|Tense=Past|VerbForm=Fin             0    root <NA>\n3 PROPN  NNP                      Number=Sing             2    iobj <NA>\n4   DET   DT        Definite=Ind|PronType=Art             5     det <NA>\n5  NOUN   NN                      Number=Sing             2     obj <NA>\n6 PUNCT    .                             <NA>             2   punct <NA>\n             misc\n1            <NA>\n2            <NA>\n3            <NA>\n4            <NA>\n5   SpaceAfter=No\n6 SpacesAfter=\\\\n\n```\n\n\n:::\n:::\n\n\n\nWe now generate the plot.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# generate dependency plot\ndplot <- textplot::textplot_dependencyparser(sent, size = 3)\n# show plot\ndplot\n```\n\n::: {.cell-output-display}\n![](textanalysis_files/figure-html/udi5-1.png){width=672}\n:::\n:::\n\n\n\nDependency parsing proves invaluable for a range of applications, including analyzing the relationships within sentences and shedding light on the roles of different elements. For instance, it helps distinguish between the agent and the patient in actions like crimes or other activities. This parsing technique enables a deeper understanding of the underlying grammatical and semantic structure of sentences, making it a valuable tool for linguistic analysis, information extraction, and natural language understanding.\n\n\n# Citation & Session Info {-}\n\nSchweinberger, Martin. 2023. *Practical Overview of Selected Text Analytics Methods*. Brisbane: The Language Technology and Data Analysis Laboratory (LADAL). url: https://ladal.edu.au/textanalysis.html (Version 2023.05.31).\n\n```\n@manual{schweinberger2023ta,\n  author = {Schweinberger, Martin},\n  title = {Practical Overview of Selected Text Analytics Methods},\n  note = {https://ladal.edu.au/textanalysis.html},\n  year = {2023},\n  organization = {The Language Technology and Data Analysis Laboratory (LADAL)},\n  address = {Brisbane},\n  edition = {2023.05.31}\n}\n```\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Sonoma 14.6.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Australia/Brisbane\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] tidyr_1.3.1               ggraph_2.2.1             \n [3] quanteda.textplots_0.95   quanteda.textstats_0.97.2\n [5] wordcloud2_0.2.1          tidytext_0.4.2           \n [7] udpipe_0.8.11             tm_0.7-14                \n [9] NLP_0.3-0                 quanteda_4.1.0           \n[11] flextable_0.9.7           ggplot2_3.5.1            \n[13] stringr_1.5.1             dplyr_1.1.4              \n\nloaded via a namespace (and not attached):\n [1] tidyselect_1.2.1        viridisLite_0.4.2       farver_2.1.2           \n [4] viridis_0.6.5           fastmap_1.2.0           tweenr_2.0.3           \n [7] fontquiver_0.2.1        janeaustenr_1.0.0       digest_0.6.37          \n[10] lifecycle_1.0.4         tokenizers_0.3.0        magrittr_2.0.3         \n[13] compiler_4.4.1          rlang_1.1.4             tools_4.4.1            \n[16] igraph_2.1.1            utf8_1.2.4              sna_2.8                \n[19] data.table_1.16.2       knitr_1.48              labeling_0.4.3         \n[22] askpass_1.2.1           stopwords_2.3           graphlayouts_1.2.0     \n[25] htmlwidgets_1.6.4       here_1.0.1              xml2_1.3.6             \n[28] klippy_0.0.0.9500       withr_3.0.2             purrr_1.0.2            \n[31] textplot_0.2.2          grid_4.4.1              polyclip_1.10-7        \n[34] fansi_1.0.6             gdtools_0.4.0           colorspace_2.1-1       \n[37] scales_1.3.0            MASS_7.3-61             cli_3.6.3              \n[40] rmarkdown_2.28          ragg_1.3.3              generics_0.1.3         \n[43] rstudioapi_0.17.1       cachem_1.1.0            ggforce_0.4.2          \n[46] network_1.18.2          splines_4.4.1           assertthat_0.2.1       \n[49] parallel_4.4.1          vctrs_0.6.5             Matrix_1.7-1           \n[52] jsonlite_1.8.9          slam_0.1-54             fontBitstreamVera_0.1.1\n[55] ggrepel_0.9.6           systemfonts_1.1.0       glue_1.8.0             \n[58] statnet.common_4.10.0   codetools_0.2-20        stringi_1.8.4          \n[61] gtable_0.3.6            munsell_0.5.1           tibble_3.2.1           \n[64] pillar_1.9.0            htmltools_0.5.8.1       openssl_2.2.2          \n[67] R6_2.5.1                textshaping_0.4.0       rprojroot_2.0.4        \n[70] tidygraph_1.3.1         evaluate_1.0.1          lattice_0.22-6         \n[73] SnowballC_0.7.1         memoise_2.0.1           fontLiberation_0.1.0   \n[76] class_7.3-22            Rcpp_1.0.13             zip_2.3.1              \n[79] uuid_1.2-1              fastmatch_1.1-4         coda_0.19-4.1          \n[82] nlme_3.1-166            gridExtra_2.3           nsyllable_1.0.1        \n[85] mgcv_1.9-1              officer_0.6.7           xfun_0.49              \n[88] pkgconfig_2.0.3        \n```\n\n\n:::\n:::\n\n\n\n[Back to top](#introduction)\n\n[Back to HOME](https://ladal.edu.au)\n\n\n# References{-}\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/clipboard-1.7.1/clipboard.min.js\"></script>\n<link href=\"../../site_libs/primer-tooltips-1.4.0/build.css\" rel=\"stylesheet\" />\n<link href=\"../../site_libs/klippy-0.0.0.9500/css/klippy.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/klippy-0.0.0.9500/js/klippy.min.js\"></script>\n<link href=\"../../site_libs/tabwid-1.1.3/tabwid.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/tabwid-1.1.3/tabwid.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}