<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Schweinberger">

<title>Analyzing Collocations and N-grams in R – Language Technology and Data Analysis Laboratory (LADAL)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script>
    // Wait for the document to be fully loaded
    document.addEventListener("DOMContentLoaded", function () {
        // Create a new div element to hold the dynamic content
        var newContainer = document.createElement("div");
        newContainer.classList.add("custom-banner");  // You can assign a class to the new container for styling

        // You can also add content inside the new container
        newContainer.innerHTML = `
          <div class="banner">
              <img src="images/ladal_icon_white.png" alt="Icon" class="banner-icon">
              <span class="banner-text">Language Technology and Data Analysis Laboratory</span>
          </div>
      `

        // Select the header element
        var header = document.getElementById("quarto-header");

        // Select the nav element inside the header to place the new container just above it
        var navbar = header.querySelector("nav");

        // Insert the new container before the navbar element
        header.insertBefore(newContainer, navbar);
    });
</script>
<script src="../../site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="../../site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet">
<link href="../../site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet">
<script src="../../site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="../../site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="../../site_libs/tabwid-1.1.3/tabwid.js"></script>


<link rel="stylesheet" href="../../css/styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Language Technology and Data Analysis Laboratory (LADAL)</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">ABOUT</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../events.html"> 
<span class="menu-text">EVENTS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials.html"> 
<span class="menu-text">TUTORIALS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tools.html"> 
<span class="menu-text">TOOLS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">RESOURCES</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html"> 
<span class="menu-text">CONTACT</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analyzing Collocations and N-grams in R</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Martin Schweinberger </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><img src="../../images/uq1.jpg" class="img-fluid" style="width:100.0%"></p>
<section id="introduction" class="level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p>This tutorial introduces collocation and co-occurrence analysis with R and shows how to extract and visualize semantic links between words.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p><img src="../../images/gy_chili.png" class="img-fluid" style="float:right; padding:10px;width:15.0%"></p>
<p>This tutorial is aimed at beginners and intermediate users of R with the aim of showcasing how to extract and analyze collocations and N-grams from textual data using R. The aim is not to provide a fully-fledged analysis but rather to show and exemplify selected useful methods associated with collocation analysis.</p>
<div class="warning" style="padding:0.1em; background-color:#f2f2f2; color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
To be able to follow this tutorial, we suggest you check out and familiarize yourself with the content of the following <strong>R Basics</strong> tutorials:<br>
</p>
<p style="margin-top:1em; text-align:left">
</p><ul>
<li>
<a href="tutorials/intror.html">Getting started with R</a>
</li>
<li>
<a href="tutorials/load.html">Loading, saving, and generating data in R</a>
</li>
<li>
<a href="tutorials/string.html">String Processing in R</a>
</li>
<li>
<a href="tutorials/regex.html">Regular Expressions in R</a>
</li>
</ul>
<p></p>
<p style="margin-top:1em; text-align:center">
Click <a href="tutorials/coll/coll.qmd">here</a><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> to download the <strong>entire R Notebook</strong> for this tutorial.
</p>
<div class="text-center">
<p><a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/oll_cb.ipynb%26branch=main"><img src="https://mybinder.org/badge_logo.svg" class="img-fluid"></a></p>
<p>Click <a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/oll_cb.ipynb%26branch=main"><strong>here</strong></a> to open an interactive Jupyter notebook that allows you execute, change, and edit the code as well as upload your own data.</p>
</div>
<p style="margin-left:1em;">
</p>
<p></p>
</span></div>
<p><br></p>
<div class="warning" style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<strong>LADAL TOOL</strong>
</p>
<p style="margin-top:1em; text-align:center">
</p><div class="text-center">
<p><a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/amtool.ipynb%26branch=main"><img src="https://mybinder.org/badge_logo.svg" class="img-fluid"></a></p>
<p>Click <a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/amtool.ipynb%26branch=main"><strong>here</strong></a> to open an notebook-based tool <br>that <b>calculates association measures</b> and allows you to download the results.</p>
</div>
</span>
</div>
<p><br></p>
<p><br></p>
<div class="warning" style="padding:0.1em; background-color:#f2f2f2; color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
<b> How can you determine if words occur more frequently together than would be expected by chance?</b><br>
</p>
<p style="margin-left:1em;">
</p>
<p></p>
</span></div>
<p><br></p>
<p>This tutorial aims to show how you can answer this question.</p>
<p>So, how would you find words that are associated with a specific term and how can you visualize such word nets? This tutorial focuses on co-occurrence and collocations of words. Collocations are words that occur very frequently together. For example, <em>Merry Christmas</em> is a collocation because <em>merry</em> and <em>Christmas</em> occur more frequently together than would be expected by chance. This means that if you were to shuffle all words in a corpus and would then test the frequency of how often <em>merry</em> and <em>Christmas</em> co-occurred, they would occur significantly less often in the shuffled or randomized corpus than in a corpus that contain non-shuffled natural speech.</p>
<section id="co-occurrence-and-association" class="level1 unnumbered">
<h1 class="unnumbered">Co-occurrence and association</h1>
<p>Collocations are combinations of words that frequently co-occur in a language, appearing together more often than would be expected by chance.</p>
<div class="warning" style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<strong>LADAL TOOL</strong>
</p>
<p style="margin-top:1em; text-align:center">
&lt;
</p>
<div class="text-center">
<p><a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/amtool.ipynb%26branch=main"><img src="https://mybinder.org/badge_logo.svg" class="img-fluid"></a></p>
<p>Click <a href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo=https://github.com/SLCLADAL/interactive-notebooks%26urlpath=lab/tree/interactive-notebooks/notebooks/amtool.ipynb%26branch=main"><strong>here</strong></a> to open an notebook-based tool <br>that calculates association measures and allows you to download the results.</p>
</div>
<p style="margin-left:1em;">
</p>
<p></p>
</span></div>
<p><br></p>
<p>We need to differentiate between</p>
<ul>
<li><p><strong>collocations</strong>: words that are significantly attracted to one another and often occur together (but are not necessarily adjacent) such as <em>black</em> and <em>coffee</em></p></li>
<li><p><strong>n-grams</strong>: combinations of words that are adjacent as the bi-grams <em>This is</em>, <em>is a</em>, and <em>a sentence</em> that form the sentence <em>This is a sentence</em></p></li>
</ul>
<p>Such word pairings or groupings exhibit a certain degree of naturalness and tend to form recurring patterns. They play a crucial role in language acquisition, learning, fluency, and usage and they contribute to the natural and idiomatic expression of ideas. A typical example of a collocation is <em>Merry Christmas</em> because the words <em>merry</em> and <em>Christmas</em> occur together more frequently together than would be expected, if words were just randomly stringed together. Other examples of collocations include <em>strong coffee</em>, <em>make a decision</em>, or <em>take a risk</em>. Recognizing and understanding collocations is essential for language learners, as it enhances their ability to produce authentic and contextually appropriate language.</p>
<p>Identifying words pairs (w1 and w2) that collocate (i.e.&nbsp;collocations) and determining their association strength (a measure of how strongly attracted words are to each other) is based on the co-occurrence frequencies of word pairs in a contingency table (see below, <em>O</em> is short for <em>observed frequency</em>).</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">w<sub>2</sub> present</th>
<th style="text-align: right;">w<sub>2</sub> absent</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>w<sub>1</sub> present</strong></td>
<td style="text-align: center;">O<sub>11</sub></td>
<td style="text-align: right;">O<sub>12</sub></td>
<td>= R<sub>1</sub></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>w<sub>1</sub> absent</strong></td>
<td style="text-align: center;">O<sub>21</sub></td>
<td style="text-align: right;">O<sub>22</sub></td>
<td>= R<sub>2</sub></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: center;">= C<sub>1</sub></td>
<td style="text-align: right;">= C<sub>2</sub></td>
<td>= N</td>
</tr>
</tbody>
</table>
<p>From this contingency table, we can calculate the frequencies that would be expected if the words did not show any attraction or repulsion (see below, <em>E</em> is short for <em>expected frequency</em>).</p>
<table class="caption-top table">
<colgroup>
<col style="width: 32%">
<col style="width: 29%">
<col style="width: 29%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">w<sub>2</sub> present</th>
<th style="text-align: center;">w<sub>2</sub> absent</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>w<sub>1</sub> present</strong></td>
<td style="text-align: center;">E<sub>11</sub> = (R<sub>1</sub> * C<sub>1</sub>) / (N)</td>
<td style="text-align: center;">E<sub>12</sub> = (R<sub>1</sub> * C<sub>2</sub>) / (N)</td>
<td>= R<sub>1</sub></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>w<sub>1</sub> absent</strong></td>
<td style="text-align: center;">E<sub>21</sub> = (R<sub>2</sub> * C<sub>1</sub>) / (N)</td>
<td style="text-align: center;">E<sub>22</sub> = (R<sub>2</sub> * C<sub>2</sub>) / (N)</td>
<td>= R<sub>2</sub></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: center;">= C<sub>1</sub></td>
<td style="text-align: center;">= C<sub>2</sub></td>
<td>= N</td>
</tr>
</tbody>
</table>
<p><strong>Association measures</strong> use the frequency information in the above contingency tables to evaluate the strength of attraction or repulsion between words. As such, association measures are statistical metrics used to quantify the strength and significance of the relationship between words within a collocation. These measures help assess how likely it is for two words to appear together more frequently than expected by chance. Several association measures are commonly used in collocation analysis, including:</p>
<ul>
<li><p><strong>Gries’ AM</strong>: Gries’ AM <span class="citation" data-cites="gries2022some">(<a href="#ref-gries2022some" role="doc-biblioref">Gries 2022</a>)</span> is probably the best association measure that is on conditional probabilities. For information on how it is calculated, see <span class="citation" data-cites="gries2022some">Gries (<a href="#ref-gries2022some" role="doc-biblioref">2022</a>)</span>. In contrast to other association measures, it has three main advantages:</p></li>
<li><p>it takes into account that the association between word_1 and word_2 is not symmetric (word_1 may be more strongly attracted with word_2 than vice verse) - in sense it is very similar to ΔP<br>
</p></li>
<li><p>it is not affected by frequency as other association measures (which is a serious issue as association measures should reflect association strength and not frequency).<br>
</p></li>
<li><p>it is normalized as it takes into account that the possible range of values differs across elements (some words can have very high values while others cannot)</p></li>
<li><p><strong>delta P (ΔP)</strong>: ΔP <span class="citation" data-cites="ellis2007langac gries201350">(<a href="#ref-ellis2007langac" role="doc-biblioref">Ellis 2007</a>; <a href="#ref-gries201350" role="doc-biblioref">Gries 2013</a>)</span> is an association measure based on conditional probabilities that is implied in MS <span class="citation" data-cites="gries201350">(<a href="#ref-gries201350" role="doc-biblioref">Gries 2013, 141</a>)</span>. ΔP has two advantages: it takes into account that the association between word_1 and word_2 is not symmetric (word_1 may be more strongly attracted with word_2 than vice verse) and it is not affected by frequency as other association measures (which is a serious issue as association measures should reflect association strength and not frequency) <span class="citation" data-cites="gries2022some">(see <a href="#ref-gries2022some" role="doc-biblioref">Gries 2022</a>)</span>.</p></li>
</ul>
<p>[ P_1 = P(w_1 | w_2) = ( )- ( {R2} ) ]</p>
<p>[ P_2 = P(w_2 | w_1) = ( ) -( ) ]</p>
<ul>
<li><strong>Pointwise Mutual Information (PMI)</strong>: PMI measures the likelihood of two words occurring together compared to their individual likelihoods of occurring separately. A higher PMI score suggests a stronger association.</li>
</ul>
<p>[ (w_1, w_2) = _2 ( ) ]</p>
<ul>
<li><strong>Log-Likelihood Ratio (LLR)</strong>: LLR compares the likelihood of the observed word combination occurring with the expected likelihood based on the individual frequencies of the words. Higher LLR values indicate a more significant association (where (O_i) is the observed frequency and (E_i) is the expected frequency for each combination).</li>
</ul>
<p>[ (w_1, w_2) = 2 _{i=1}^4 ]</p>
<ul>
<li><strong>Dice Coefficient</strong>: This measure considers the co-occurrence of words and calculates the ratio of the overlap between the two words to the sum of their individual frequencies. The Dice coefficient ranges from 0 to 1, with higher values indicating stronger association.</li>
</ul>
<p>[ (w_1, w_2) = ]</p>
<ul>
<li><strong>Chi-Square</strong>: Chi-square measures the difference between the observed and expected frequencies of word co-occurrence. A higher chi-square value signifies a more significant association (where (O_i) is the observed frequency and (E_i) is the expected frequency for each combination).</li>
</ul>
<p>[ ^2(w_1, w_2) = ]</p>
<ul>
<li><strong>t-Score</strong>: The t-score is based on the difference between the observed and expected frequencies, normalized by the standard deviation. Higher T-scores indicate a stronger association.</li>
</ul>
<p>[ (w_1, w_2) = ]</p>
<ul>
<li><strong>Mutual Information (MI)</strong>: MI measures the reduction in uncertainty about one word’s occurrence based on the knowledge of another word’s occurrence. Higher MI values indicate a stronger association (where (P(w_1 w_2)) is the joint probability, and (P(w_1)) and (P(w_2)) are the individual probabilities).</li>
</ul>
<p>[ (w_1, w_2) = _2 ( ) ]</p>
<ul>
<li><strong>Minimum Sensitivity (MS)</strong>: The minimum sensitivity is 1 when W1 and W2 always occur together and never apart. It is 0 when W1 and W2 never occur together. A higher minimum sensitivity indicates a stronger dependence between the two words in a bigram <span class="citation" data-cites="pedersen1998dependent">(<a href="#ref-pedersen1998dependent" role="doc-biblioref">Pedersen 1998</a>)</span>.</li>
</ul>
<p>[ = min( P(w_1 | w_2) , P(w_2 | w_1) ) ]</p>
<p>These association measures help researchers and language analysts identify meaningful and statistically significant collocations, assisting in the extraction of relevant information from corpora and improving the accuracy of collocation analysis in linguistic studies.</p>
<p><strong>Preparation and session set up</strong></p>
<p>This tutorial is based on R. If you have not installed R or are new to it, you will find an introduction to and more information how to use R <a href="tutorials/intror/intror.html">here</a>. For this tutorials, we need to install certain <em>packages</em> from an R <em>library</em> so that the scripts shown below are executed without errors. Before turning to the code below, please install the packages by running the code below this paragraph. If you have already installed the packages mentioned below, then you can skip ahead and ignore this section. To install the necessary packages, simply run the following code - it may take some time (between 1 and 5 minutes to install all of the libraries so you do not need to worry if it takes some time).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set options</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors =</span> F)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">max.print =</span> <span class="dv">1000</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># install packages</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"FactoMineR"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"factoextra"</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"flextable"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"GGally"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ggdendro"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"igraph"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"network"</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"Matrix"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"quanteda"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"quanteda.textstats"</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"quanteda.textplots"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"stringr"</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tm"</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"sna"</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidytext"</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># install klippy for copy-to-clipboard button in code chunks</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rlesur/klippy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, we load the packages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FactoMineR)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdendro)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(network)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Matrix)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textstats)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sna)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># activate klippy for copy-to-clipboard button</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>klippy<span class="sc">::</span><span class="fu">klippy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
</div>
</div>
<p>We will use the Charles Darwin’s <em>On the Origin of Species by Means of Natural Selection</em> as a data source and begin by generating a bi-gram list. As a first step, we load the data and split it into individual words.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read in text</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">readRDS</span>(<span class="st">"tutorials/coll/data/cdo.rda"</span>, <span class="st">"rb"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(<span class="at">collapse =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_squish</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">"- "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-0eb81ca4{table-layout:auto;width:95%;}.cl-0eb3d1d0{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0eb3d1da{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0eb6635a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0eb6705c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0eb67066{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-0eb81ca4"><thead><tr style="overflow-wrap:break-word;"><th class="cl-0eb6705c"><p class="cl-0eb6635a"><span class="cl-0eb3d1d0">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0eb67066"><p class="cl-0eb6635a"><span class="cl-0eb3d1da">THE ORIGIN OF SPECIES BY CHARLES DARWIN AN HISTORICAL SKETCH OF THE PROGRESS OF OPINION ON THE ORIGIN OF SPECIES INTRODUCTION When on board H.M.S. 'Beagle,' as naturalist, I was much struck with certa</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Once you have installed R, RStudio, and once you have initiated the session by executing the code shown above, you are good to go.</p>
</section>
<section id="collocations" class="level1 unnumbered">
<h1 class="unnumbered">Collocations</h1>
<p>As collocates do not have to be immediately adjacent but can be separated by several slots, their retrieval is substantially more difficult compared with n-grams. Nonetheless, there are various ways of finding collocations depending on the data provided, the context, and the association measure (which represents information of how strong the association between the words is). Below, you will see how to detect collocations in two different data structures:</p>
<ul>
<li><p>a list of sentences</p></li>
<li><p>concordances</p></li>
</ul>
<p>In the following, we will extract collocations from the sentences in Charles Darwin’s <em>On the Origin of Species by Means of Natural Selection</em></p>
<section id="identifying-collocations-in-sentences" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="identifying-collocations-in-sentences">Identifying collocations in sentences</h2>
<p><strong>Data preparation</strong></p>
<p>In a first step, we split our example text into sentences and clean the data (removing punctuation, converting to lower case, etc.).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>text <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># concatenate the elements in the 'text' object</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(<span class="at">collapse =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># separate possessives and contractions</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="fu">fixed</span>(<span class="st">"'"</span>), <span class="fu">fixed</span>(<span class="st">" '"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="fu">fixed</span>(<span class="st">"’"</span>), <span class="fu">fixed</span>(<span class="st">" '"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># split text into sentences</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    tokenizers<span class="sc">::</span><span class="fu">tokenize_sentences</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># unlist sentences</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove non-word characters</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">W"</span>, <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"[^[:alnum:] ]"</span>, <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove superfluous white spaces</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_squish</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert to lower case and save in 'sentences' object</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tolower</span>() <span class="ot">-&gt;</span> sentences</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-0ed9eba4{table-layout:auto;width:95%;}.cl-0ed641a2{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0ed641ac{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0ed7646a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0ed7705e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ed77072{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ed77073{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ed7707c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-0ed9eba4"><thead><tr style="overflow-wrap:break-word;"><th class="cl-0ed7705e"><p class="cl-0ed7646a"><span class="cl-0ed641a2">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0ed77072"><p class="cl-0ed7646a"><span class="cl-0ed641ac">the origin of species by charles darwin an historical sketch of the progress of opinion on the origin of species introduction when on board h m s</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ed77073"><p class="cl-0ed7646a"><span class="cl-0ed641ac">beagle as naturalist i was much struck with certain facts in the distribution of the organic beings inhabiting south america and in the geological relations of the present to the past inhabitants of that continent</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ed77072"><p class="cl-0ed7646a"><span class="cl-0ed641ac">these facts as will be seen in the latter chapters of this volume seemed to throw some light on the origin of species that mystery of mysteries as it has been called by one of our greatest philosophers</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ed77073"><p class="cl-0ed7646a"><span class="cl-0ed641ac">on my return home it occurred to me in 1837 that something might perhaps be made out on this question by patiently accumulating and reflecting on all sorts of facts which could possibly have any bearing on it</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ed77072"><p class="cl-0ed7646a"><span class="cl-0ed641ac">after five years work i allowed myself to speculate on the subject and drew up some short notes these i enlarged in 1844 into a sketch of the conclusions which then seemed to me probable from that period to the present day i have steadily pursued the same object</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ed77073"><p class="cl-0ed7646a"><span class="cl-0ed641ac">i hope that i may be excused for entering on these personal details as i give them to show that i have not been hasty in coming to a decision</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ed77072"><p class="cl-0ed7646a"><span class="cl-0ed641ac">my work is now 1859 nearly finished but as it will take me many more years to complete it and as my health is far from strong i have been urged to publish this abstract</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ed77073"><p class="cl-0ed7646a"><span class="cl-0ed641ac">i have more especially been induced to do this as mr</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ed77072"><p class="cl-0ed7646a"><span class="cl-0ed641ac">wallace who is now studying the natural history of the malay archipelago has arrived at almost exactly the same general conclusions that i have on the origin of species</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ed7707c"><p class="cl-0ed7646a"><span class="cl-0ed641ac">in 1858 he sent me a memoir on this subject with a request that i would forward it to sir charles lyell who sent it to the linnean society and it is published in the third volume of the journal of that society</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Next, we tabulate the data and reformat it so that we have the relevant information to calculate the association statistics (word 1 and word 2 as well as O11, O12, O21, and O22).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenize the 'sentences' data using quanteda package</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>sentences <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    quanteda<span class="sc">::</span><span class="fu">tokens</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create a document-feature matrix (dfm) using quanteda</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    quanteda<span class="sc">::</span><span class="fu">dfm</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create a feature co-occurrence matrix (fcm) without considering trigrams</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    quanteda<span class="sc">::</span><span class="fu">fcm</span>(<span class="at">tri =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tidy the data using tidytext package</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    tidytext<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rearrange columns for better readability</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">relocate</span>(term, document, count) <span class="sc">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rename columns for better interpretation</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">w1 =</span> <span class="dv">1</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">w2 =</span> <span class="dv">2</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">O11 =</span> <span class="dv">3</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="ot">-&gt;</span> coll_basic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-1014a748{table-layout:auto;width:95%;}.cl-1011839c{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-101183a6{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1012c9fa{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1012ca04{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1012d6d4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6d5{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6de{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6df{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6e0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6e8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6e9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6ea{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6eb{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6f2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6f3{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1012d6f4{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-1014a748"><thead><tr style="overflow-wrap:break-word;"><th class="cl-1012d6d4"><p class="cl-1012c9fa"><span class="cl-1011839c">w1</span></p></th><th class="cl-1012d6d5"><p class="cl-1012c9fa"><span class="cl-1011839c">w2</span></p></th><th class="cl-1012d6de"><p class="cl-1012ca04"><span class="cl-1011839c">O11</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1012d6df"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6e0"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6e8"><p class="cl-1012ca04"><span class="cl-101183a6">24,287</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1012d6e9"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6ea"><p class="cl-1012c9fa"><span class="cl-101183a6">origin</span></p></td><td class="cl-1012d6eb"><p class="cl-1012ca04"><span class="cl-101183a6">170</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1012d6df"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6e0"><p class="cl-1012c9fa"><span class="cl-101183a6">of</span></p></td><td class="cl-1012d6e8"><p class="cl-1012ca04"><span class="cl-101183a6">37,291</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1012d6e9"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6ea"><p class="cl-1012c9fa"><span class="cl-101183a6">species</span></p></td><td class="cl-1012d6eb"><p class="cl-1012ca04"><span class="cl-101183a6">6,222</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1012d6df"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6e0"><p class="cl-1012c9fa"><span class="cl-101183a6">by</span></p></td><td class="cl-1012d6e8"><p class="cl-1012ca04"><span class="cl-101183a6">5,415</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1012d6e9"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6ea"><p class="cl-1012c9fa"><span class="cl-101183a6">charles</span></p></td><td class="cl-1012d6eb"><p class="cl-1012ca04"><span class="cl-101183a6">28</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1012d6df"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6e0"><p class="cl-1012c9fa"><span class="cl-101183a6">darwin</span></p></td><td class="cl-1012d6e8"><p class="cl-1012ca04"><span class="cl-101183a6">11</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1012d6e9"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6ea"><p class="cl-1012c9fa"><span class="cl-101183a6">an</span></p></td><td class="cl-1012d6eb"><p class="cl-1012ca04"><span class="cl-101183a6">2,049</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1012d6df"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6e0"><p class="cl-1012c9fa"><span class="cl-101183a6">historical</span></p></td><td class="cl-1012d6e8"><p class="cl-1012ca04"><span class="cl-101183a6">7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1012d6f2"><p class="cl-1012c9fa"><span class="cl-101183a6">the</span></p></td><td class="cl-1012d6f3"><p class="cl-1012c9fa"><span class="cl-101183a6">sketch</span></p></td><td class="cl-1012d6f4"><p class="cl-1012ca04"><span class="cl-101183a6">8</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We now enhance our table by calculating all observed frequencies (O11, O12, O21, O22) as well as row totals (R1, R2), column totals (C1, C2), and the overall total (N).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the total number of observations (N)</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>coll_basic <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">N =</span> <span class="fu">sum</span>(O11)) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate R1, O12, and R2</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(w1) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">R1 =</span> <span class="fu">sum</span>(O11),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">O12 =</span> R1 <span class="sc">-</span> O11,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">R2 =</span> N <span class="sc">-</span> R1</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>(w1) <span class="sc">%&gt;%</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate C1, O21, C2, and O22</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(w2) <span class="sc">%&gt;%</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">C1 =</span> <span class="fu">sum</span>(O11),</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">O21 =</span> C1 <span class="sc">-</span> O11,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">C2 =</span> N <span class="sc">-</span> C1,</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">O22 =</span> R2 <span class="sc">-</span> O21</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="ot">-&gt;</span> colldf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-13a0c1d0{table-layout:auto;width:95%;}.cl-139cef06{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-139cef10{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-139e74a2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-139e74ca{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-139e869a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86a4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86a5{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86ae{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86af{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86b0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86b8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86b9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86ba{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86c2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86c3{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86cc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86cd{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86d6{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86d7{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-139e86e0{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-13a0c1d0"><thead><tr style="overflow-wrap:break-word;"><th class="cl-139e869a"><p class="cl-139e74a2"><span class="cl-139cef06">w1</span></p></th><th class="cl-139e86a4"><p class="cl-139e74a2"><span class="cl-139cef06">w2</span></p></th><th class="cl-139e86a5"><p class="cl-139e74ca"><span class="cl-139cef06">O11</span></p></th><th class="cl-139e86a5"><p class="cl-139e74ca"><span class="cl-139cef06">N</span></p></th><th class="cl-139e86a5"><p class="cl-139e74ca"><span class="cl-139cef06">R1</span></p></th><th class="cl-139e86a5"><p class="cl-139e74ca"><span class="cl-139cef06">O12</span></p></th><th class="cl-139e86a5"><p class="cl-139e74ca"><span class="cl-139cef06">R2</span></p></th><th class="cl-139e86a5"><p class="cl-139e74ca"><span class="cl-139cef06">C1</span></p></th><th class="cl-139e86a5"><p class="cl-139e74ca"><span class="cl-139cef06">O21</span></p></th><th class="cl-139e86a5"><p class="cl-139e74ca"><span class="cl-139cef06">C2</span></p></th><th class="cl-139e86ae"><p class="cl-139e74ca"><span class="cl-139cef06">O22</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-139e86af"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86b0"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">24,287</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">619,608</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">619,608</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86b9"><p class="cl-139e74ca"><span class="cl-139cef10">8,142,493</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-139e86ba"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86c2"><p class="cl-139e74a2"><span class="cl-139cef10">origin</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">170</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">643,725</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">2,884</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">2,714</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">9,403,112</span></p></td><td class="cl-139e86cc"><p class="cl-139e74ca"><span class="cl-139cef10">8,759,387</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-139e86af"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86b0"><p class="cl-139e74a2"><span class="cl-139cef10">of</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">37,291</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">606,604</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">450,460</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">413,169</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">8,955,536</span></p></td><td class="cl-139e86b9"><p class="cl-139e74ca"><span class="cl-139cef10">8,348,932</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-139e86ba"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86c2"><p class="cl-139e74a2"><span class="cl-139cef10">species</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">6,222</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">637,673</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">89,994</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">83,772</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">9,316,002</span></p></td><td class="cl-139e86cc"><p class="cl-139e74ca"><span class="cl-139cef10">8,678,329</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-139e86af"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86b0"><p class="cl-139e74a2"><span class="cl-139cef10">by</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">5,415</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">638,480</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">80,785</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">75,370</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">9,325,211</span></p></td><td class="cl-139e86b9"><p class="cl-139e74ca"><span class="cl-139cef10">8,686,731</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-139e86ba"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86c2"><p class="cl-139e74a2"><span class="cl-139cef10">charles</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">28</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">643,867</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">451</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">423</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,545</span></p></td><td class="cl-139e86cc"><p class="cl-139e74ca"><span class="cl-139cef10">8,761,678</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-139e86af"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86b0"><p class="cl-139e74a2"><span class="cl-139cef10">darwin</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">11</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">643,884</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">179</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">168</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,817</span></p></td><td class="cl-139e86b9"><p class="cl-139e74ca"><span class="cl-139cef10">8,761,933</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-139e86ba"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86c2"><p class="cl-139e74a2"><span class="cl-139cef10">an</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">2,049</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">641,846</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">33,809</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">31,760</span></p></td><td class="cl-139e86c3"><p class="cl-139e74ca"><span class="cl-139cef10">9,372,187</span></p></td><td class="cl-139e86cc"><p class="cl-139e74ca"><span class="cl-139cef10">8,730,341</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-139e86af"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86b0"><p class="cl-139e74a2"><span class="cl-139cef10">historical</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">7</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">643,888</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">185</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">178</span></p></td><td class="cl-139e86b8"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,811</span></p></td><td class="cl-139e86b9"><p class="cl-139e74ca"><span class="cl-139cef10">8,761,923</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-139e86cd"><p class="cl-139e74a2"><span class="cl-139cef10">the</span></p></td><td class="cl-139e86d6"><p class="cl-139e74a2"><span class="cl-139cef10">sketch</span></p></td><td class="cl-139e86d7"><p class="cl-139e74ca"><span class="cl-139cef10">8</span></p></td><td class="cl-139e86d7"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,996</span></p></td><td class="cl-139e86d7"><p class="cl-139e74ca"><span class="cl-139cef10">643,895</span></p></td><td class="cl-139e86d7"><p class="cl-139e74ca"><span class="cl-139cef10">643,887</span></p></td><td class="cl-139e86d7"><p class="cl-139e74ca"><span class="cl-139cef10">8,762,101</span></p></td><td class="cl-139e86d7"><p class="cl-139e74ca"><span class="cl-139cef10">152</span></p></td><td class="cl-139e86d7"><p class="cl-139e74ca"><span class="cl-139cef10">144</span></p></td><td class="cl-139e86d7"><p class="cl-139e74ca"><span class="cl-139cef10">9,405,844</span></p></td><td class="cl-139e86e0"><p class="cl-139e74ca"><span class="cl-139cef10">8,761,957</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>To determine which terms collocate significantly and with what association strength, we use the following information (that is provided by the table above):</p>
<ul>
<li><p>O<sub>11</sub> = Number of times <em>word<sub>1</sub></em> occurs <em>with</em> <em>word<sub>2</sub></em></p></li>
<li><p>O<sub>12</sub> = Number of times <em>word<sub>1</sub></em> occurs <em>without</em> <em>word<sub>2</sub></em></p></li>
<li><p>O<sub>21</sub> = Number of times <code>CoocTerm</code> occurs without <code>Term</code></p></li>
<li><p>O<sub>22</sub> = Number of terms that are not <code>coocTerm</code> or <code>Term</code></p></li>
</ul>
<p>Example:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">w<sub>2</sub> present</th>
<th style="text-align: right;">w<sub>2</sub> absent</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>w<sub>1</sub> present</strong></td>
<td style="text-align: center;">O<sub>11</sub></td>
<td style="text-align: right;">O<sub>12</sub></td>
<td>= R<sub>1</sub></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>w<sub>1</sub> absent</strong></td>
<td style="text-align: center;">O<sub>21</sub></td>
<td style="text-align: right;">O<sub>22</sub></td>
<td>= R<sub>2</sub></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: center;">= C<sub>1</sub></td>
<td style="text-align: right;">= C<sub>2</sub></td>
<td>= N</td>
</tr>
</tbody>
</table>
<p>We could calculate all collocations in the corpus (based on co-occurrence within the same sentence) or we can find collocations of a specific term - here, we will find collocations fo the term <em>selection</em>.</p>
<p>Now that we have all the relevant information, we will reduce the data and add additional information to the data so that the computing of the association measures runs smoothly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reduce and complement data</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>colldf <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># determine Term</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        w1 <span class="sc">==</span> <span class="st">"selection"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># set minimum number of occurrences of w2</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        (O11 <span class="sc">+</span> O21) <span class="sc">&gt;</span> <span class="dv">10</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># set minimum number of co-occurrences of w1 and w2</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        O11 <span class="sc">&gt;</span> <span class="dv">5</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">E11 =</span> R1 <span class="sc">*</span> C1 <span class="sc">/</span> N,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">E12 =</span> R1 <span class="sc">*</span> C2 <span class="sc">/</span> N,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">E21 =</span> R2 <span class="sc">*</span> C1 <span class="sc">/</span> N,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">E22 =</span> R2 <span class="sc">*</span> C2 <span class="sc">/</span> N</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="ot">-&gt;</span> colldf_redux</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-13c9b716{table-layout:auto;width:95%;}.cl-13c574a8{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-13c574bc{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-13c7942c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-13c7942d{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-13c7a1f6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a1f7{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a200{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a201{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a202{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a203{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a20a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a20b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a20c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a20d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a20e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a214{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a215{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a216{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a217{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-13c7a21e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-13c9b716"><thead><tr style="overflow-wrap:break-word;"><th class="cl-13c7a1f6"><p class="cl-13c7942c"><span class="cl-13c574a8">w1</span></p></th><th class="cl-13c7a1f7"><p class="cl-13c7942c"><span class="cl-13c574a8">w2</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">O11</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">N</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">R1</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">O12</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">R2</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">C1</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">O21</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">C2</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">O22</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">E11</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">E12</span></p></th><th class="cl-13c7a200"><p class="cl-13c7942d"><span class="cl-13c574a8">E21</span></p></th><th class="cl-13c7a201"><p class="cl-13c7942d"><span class="cl-13c574a8">E22</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-13c7a202"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a203"><p class="cl-13c7942c"><span class="cl-13c574bc">the</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">1,783</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">25,010</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">643,895</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">642,112</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">8,762,101</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">8,737,091</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">1,834.13630</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">24,958.86</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">642,060.864</span></p></td><td class="cl-13c7a20b"><p class="cl-13c7942d"><span class="cl-13c574bc">8,737,142</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-13c7a20c"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a20d"><p class="cl-13c7942c"><span class="cl-13c574bc">origin</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">19</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,774</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">2,884</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">2,865</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,403,112</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,376,338</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">8.21508</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,784.78</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">2,875.785</span></p></td><td class="cl-13c7a214"><p class="cl-13c7942d"><span class="cl-13c574bc">9,376,327</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-13c7a202"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a203"><p class="cl-13c7942c"><span class="cl-13c574bc">of</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">1,556</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">25,237</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">450,460</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">448,904</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">8,955,536</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">8,930,299</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">1,283.13629</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">25,509.86</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">449,176.864</span></p></td><td class="cl-13c7a20b"><p class="cl-13c7942d"><span class="cl-13c574bc">8,930,026</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-13c7a20c"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a20d"><p class="cl-13c7942c"><span class="cl-13c574bc">species</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">175</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,618</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">89,994</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">89,819</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,316,002</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,289,384</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">256.34810</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,536.65</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">89,737.652</span></p></td><td class="cl-13c7a214"><p class="cl-13c7942d"><span class="cl-13c574bc">9,289,465</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-13c7a202"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a203"><p class="cl-13c7942c"><span class="cl-13c574bc">by</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">334</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,459</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">80,785</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">80,451</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,325,211</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,298,752</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">230.11625</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,562.88</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">80,554.884</span></p></td><td class="cl-13c7a20b"><p class="cl-13c7942d"><span class="cl-13c574bc">9,298,648</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-13c7a20c"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a20d"><p class="cl-13c7942c"><span class="cl-13c574bc">an</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">90</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,703</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">33,809</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">33,719</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,372,187</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,345,484</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">96.30501</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,696.69</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">33,712.695</span></p></td><td class="cl-13c7a214"><p class="cl-13c7942d"><span class="cl-13c574bc">9,345,490</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-13c7a202"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a203"><p class="cl-13c7942c"><span class="cl-13c574bc">on</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">200</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,593</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">71,209</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">71,009</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,334,787</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,308,194</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">202.83899</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,590.16</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">71,006.161</span></p></td><td class="cl-13c7a20b"><p class="cl-13c7942d"><span class="cl-13c574bc">9,308,197</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-13c7a20c"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a20d"><p class="cl-13c7942c"><span class="cl-13c574bc">when</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">63</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,730</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,607</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,544</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,389</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,352,659</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">75.79010</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,717.21</span></p></td><td class="cl-13c7a20e"><p class="cl-13c7942d"><span class="cl-13c574bc">26,531.210</span></p></td><td class="cl-13c7a214"><p class="cl-13c7942d"><span class="cl-13c574bc">9,352,672</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-13c7a202"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a203"><p class="cl-13c7942c"><span class="cl-13c574bc">s</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">38</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,755</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">5,975</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">5,937</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,400,021</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">9,373,266</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">17.01980</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">26,775.98</span></p></td><td class="cl-13c7a20a"><p class="cl-13c7942d"><span class="cl-13c574bc">5,957.980</span></p></td><td class="cl-13c7a20b"><p class="cl-13c7942d"><span class="cl-13c574bc">9,373,245</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-13c7a215"><p class="cl-13c7942c"><span class="cl-13c574bc">selection</span></p></td><td class="cl-13c7a216"><p class="cl-13c7942c"><span class="cl-13c574bc">as</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">296</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">9,405,996</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">26,793</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">26,497</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">9,379,203</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">103,198</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">102,902</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">9,302,798</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">9,276,301</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">293.95973</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">26,499.04</span></p></td><td class="cl-13c7a217"><p class="cl-13c7942d"><span class="cl-13c574bc">102,904.040</span></p></td><td class="cl-13c7a21e"><p class="cl-13c7942d"><span class="cl-13c574bc">9,276,299</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Now we can calculate the collocation statistics (the association strength).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>colldf_redux <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># determine number of rows</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Rws =</span> <span class="fu">nrow</span>(.)) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># work row-wise</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate fishers' exact test</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">as.vector</span>(<span class="fu">unlist</span>(<span class="fu">fisher.test</span>(<span class="fu">matrix</span>(<span class="fu">c</span>(O11, O12, O21, O22),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    ))[<span class="dv">1</span>]))) <span class="sc">%&gt;%</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract AM</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. bias towards top left</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">btl_O12 =</span> <span class="fu">ifelse</span>(C1 <span class="sc">&gt;</span> R1, <span class="dv">0</span>, R1 <span class="sc">-</span> C1),</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">btl_O11 =</span> <span class="fu">ifelse</span>(C1 <span class="sc">&gt;</span> R1, R1, R1 <span class="sc">-</span> btl_O12),</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">btl_O21 =</span> <span class="fu">ifelse</span>(C1 <span class="sc">&gt;</span> R1, C1 <span class="sc">-</span> R1, C1 <span class="sc">-</span> btl_O11),</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">btl_O22 =</span> <span class="fu">ifelse</span>(C1 <span class="sc">&gt;</span> R1, C2, C2 <span class="sc">-</span> btl_O12),</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 2. bias towards top right</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">btr_O11 =</span> <span class="dv">0</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">btr_O21 =</span> R1,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">btr_O12 =</span> C1,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">btr_O22 =</span> C2 <span class="sc">-</span> R1</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. calculate AM</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">upp =</span> btl_O11 <span class="sc">/</span> R1,</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">low =</span> btr_O11 <span class="sc">/</span> R1,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">op =</span> O11 <span class="sc">/</span> R1</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">AM =</span> op <span class="sc">/</span> upp) <span class="sc">%&gt;%</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove superfluous columns</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">any_of</span>(<span class="fu">c</span>(</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>        <span class="st">"btr_O21"</span>, <span class="st">"btr_O12"</span>, <span class="st">"btr_O22"</span>, <span class="st">"btl_O12"</span>,</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>        <span class="st">"btl_O11"</span>, <span class="st">"btl_O21"</span>, <span class="st">"btl_O22"</span>, <span class="st">"btr_O11"</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>    ))) <span class="sc">%&gt;%</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract x2 statistics</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">X2 =</span> (O11 <span class="sc">-</span> E11)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> E11 <span class="sc">+</span> (O12 <span class="sc">-</span> E12)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> E12 <span class="sc">+</span> (O21 <span class="sc">-</span> E21)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> E21 <span class="sc">+</span> (O22 <span class="sc">-</span> E22)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> E22) <span class="sc">%&gt;%</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract association measures</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">phi =</span> <span class="fu">sqrt</span>((X2 <span class="sc">/</span> N)),</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">Dice =</span> (<span class="dv">2</span> <span class="sc">*</span> O11) <span class="sc">/</span> (R1 <span class="sc">+</span> C1),</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">LogDice =</span> <span class="fu">log</span>((<span class="dv">2</span> <span class="sc">*</span> O11) <span class="sc">/</span> (R1 <span class="sc">+</span> C1)),</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">MI =</span> <span class="fu">log2</span>(O11 <span class="sc">/</span> E11),</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">MS =</span> <span class="fu">min</span>((O11 <span class="sc">/</span> C1), (O11 <span class="sc">/</span> R1)),</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">t.score =</span> (O11 <span class="sc">-</span> E11) <span class="sc">/</span> <span class="fu">sqrt</span>(O11),</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">z.score =</span> (O11 <span class="sc">-</span> E11) <span class="sc">/</span> <span class="fu">sqrt</span>(E11),</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">PMI =</span> <span class="fu">log2</span>((O11 <span class="sc">/</span> N) <span class="sc">/</span> (C1 <span class="sc">/</span> N <span class="sc">*</span> R1 <span class="sc">/</span> N)),</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">DeltaP12 =</span> (O11 <span class="sc">/</span> (O11 <span class="sc">+</span> O12)) <span class="sc">-</span> (O21 <span class="sc">/</span> (O21 <span class="sc">+</span> O22)),</span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">DeltaP21 =</span> (O11 <span class="sc">/</span> (O11 <span class="sc">+</span> O21)) <span class="sc">-</span> (O21 <span class="sc">/</span> (O12 <span class="sc">+</span> O22)),</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">DP =</span> (O11 <span class="sc">/</span> R1) <span class="sc">-</span> (O21 <span class="sc">/</span> R2),</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">LogOddsRatio =</span> <span class="fu">log</span>(((O11 <span class="sc">+</span> <span class="fl">0.5</span>) <span class="sc">*</span> (O22 <span class="sc">+</span> <span class="fl">0.5</span>)) <span class="sc">/</span> ((O12 <span class="sc">+</span> <span class="fl">0.5</span>) <span class="sc">*</span> (O21 <span class="sc">+</span> <span class="fl">0.5</span>))),</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>        <span class="co"># calculate LL aka G2</span></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">G2 =</span> <span class="dv">2</span> <span class="sc">*</span> (O11 <span class="sc">*</span> <span class="fu">log</span>(O11 <span class="sc">/</span> E11) <span class="sc">+</span> O12 <span class="sc">*</span> <span class="fu">log</span>(O12 <span class="sc">/</span> E12) <span class="sc">+</span> O21 <span class="sc">*</span> <span class="fu">log</span>(O21 <span class="sc">/</span> E21) <span class="sc">+</span> O22 <span class="sc">*</span> <span class="fu">log</span>(O22 <span class="sc">/</span> E22))</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># determine Bonferroni corrected significance</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Sig_corrected =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>        p <span class="sc">/</span> Rws <span class="sc">&gt;</span> .<span class="dv">05</span> <span class="sc">~</span> <span class="st">"n.s."</span>,</span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>        p <span class="sc">/</span> Rws <span class="sc">&gt;</span> .<span class="dv">01</span> <span class="sc">~</span> <span class="st">"p &lt; .05*"</span>,</span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>        p <span class="sc">/</span> Rws <span class="sc">&gt;</span> .<span class="dv">001</span> <span class="sc">~</span> <span class="st">"p &lt; .01**"</span>,</span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>        p <span class="sc">/</span> Rws <span class="sc">&lt;=</span> .<span class="dv">001</span> <span class="sc">~</span> <span class="st">"p &lt; .001***"</span>,</span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>        T <span class="sc">~</span> <span class="st">"N.A."</span></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">%&gt;%</span></span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>    <span class="co"># round p-value</span></span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">round</span>(p, <span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter out non significant results</span></span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>        Sig_corrected <span class="sc">!=</span> <span class="st">"n.s."</span>,</span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>        <span class="co"># filter out instances where the w1 and w2 repel each other</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>        E11 <span class="sc">&lt;</span> O11</span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>    <span class="co"># arrange by DeltaP12 (association measure)</span></span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>DeltaP12) <span class="sc">%&gt;%</span></span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove superfluous columns</span></span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">any_of</span>(<span class="fu">c</span>(</span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>        <span class="st">"TermCoocFreq"</span>, <span class="st">"AllFreq"</span>, <span class="st">"NRows"</span>, <span class="st">"O12"</span>, <span class="st">"O21"</span>,</span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a>        <span class="st">"O22"</span>, <span class="st">"R1"</span>, <span class="st">"R2"</span>, <span class="st">"C1"</span>, <span class="st">"C2"</span>, <span class="st">"E11"</span>, <span class="st">"E12"</span>, <span class="st">"E21"</span>,</span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>        <span class="st">"E22"</span>, <span class="st">"upp"</span>, <span class="st">"low"</span>, <span class="st">"op"</span>, <span class="st">"Rws"</span></span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>    ))) <span class="ot">-&gt;</span> assoc_tb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-157e210a{table-layout:auto;width:95%;}.cl-1579f67a{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1579f684{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-157b77b6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-157b77c0{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-157b8a58{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a62{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a63{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a64{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a6c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a6d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a6e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a76{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a77{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a80{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a81{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a8a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a8b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a94{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a95{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-157b8a96{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-157e210a"><thead><tr style="overflow-wrap:break-word;"><th class="cl-157b8a58"><p class="cl-157b77b6"><span class="cl-1579f67a">w1</span></p></th><th class="cl-157b8a62"><p class="cl-157b77b6"><span class="cl-1579f67a">w2</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">O11</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">N</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">p</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">AM</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">X2</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">phi</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">Dice</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">LogDice</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">MI</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">MS</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">t.score</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">z.score</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">PMI</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">DeltaP12</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">DeltaP21</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">DP</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">LogOddsRatio</span></p></th><th class="cl-157b8a63"><p class="cl-157b77c0"><span class="cl-1579f67a">G2</span></p></th><th class="cl-157b8a64"><p class="cl-157b77b6"><span class="cl-1579f67a">Sig_corrected</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-157b8a6c"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a6d"><p class="cl-157b77b6"><span class="cl-1579f684">natural</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">515</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.00000</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.020258841</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">2,720.22428</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.017005913</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.019726510</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">-3.925792</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">2.8302762</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.019221438</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">19.502767</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">52.011007</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">2.8302762</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.016565989</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.017603780</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.016565989</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">1.9970932</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">1,150.64107</span></p></td><td class="cl-157b8a76"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-157b8a77"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a80"><p class="cl-157b77b6"><span class="cl-1579f684">of</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1,556</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.00000</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.058074870</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">61.11824</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.002549077</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.006520650</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">-5.032781</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.2781676</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.003454247</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">6.917370</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">7.617446</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.2781676</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.010213234</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">-0.046671620</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.010213234</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.2045038</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">57.40403</span></p></td><td class="cl-157b8a8a"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-157b8a6c"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a6d"><p class="cl-157b77b6"><span class="cl-1579f684">to</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">776</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.00000</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.028962789</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">38.30524</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.002018026</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.006317289</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">-5.064465</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.3156998</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.003545289</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">5.474939</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">6.107969</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.3156998</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.005708574</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">-0.020195137</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.005708574</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.2260098</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">35.59006</span></p></td><td class="cl-157b8a76"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-157b8a77"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a80"><p class="cl-157b77b6"><span class="cl-1579f684">through</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">149</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.00000</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.010922953</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">313.56297</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.005773777</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.007370035</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">-4.910333</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1.9390875</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.005561154</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">9.023314</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">17.669645</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1.9390875</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.004122652</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.009486465</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.004122652</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1.3596350</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">181.59628</span></p></td><td class="cl-157b8a8a"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-157b8a6c"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a6d"><p class="cl-157b77b6"><span class="cl-1579f684">by</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">334</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.00000</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.012465943</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">47.43872</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.002245764</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.006209448</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">-5.081683</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.5374853</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.004134431</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">5.684266</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">6.848161</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.5374853</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.003888348</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">-0.004492827</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.003888348</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.3792474</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">41.64215</span></p></td><td class="cl-157b8a76"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-157b8a77"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a80"><p class="cl-157b77b6"><span class="cl-1579f684">theory</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">82</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.00000</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.011239035</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">180.97693</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.004386410</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.004810936</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">-5.336864</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1.9802428</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.003060501</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">6.760323</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">13.428382</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1.9802428</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.002291352</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.010471482</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.002291352</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1.3893366</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">103.32874</span></p></td><td class="cl-157b8a8a"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-157b8a6c"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a6d"><p class="cl-157b77b6"><span class="cl-1579f684">been</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">233</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.00001</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.008696301</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">21.98381</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.001528794</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.005349312</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">-5.230787</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.4393942</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.003862668</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">4.007740</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">4.666970</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.4393942</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.002289787</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">-0.002566830</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.002289787</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.3100062</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">19.77955</span></p></td><td class="cl-157b8a76"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-157b8a77"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a80"><p class="cl-157b77b6"><span class="cl-1579f684">variations</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">77</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.00000</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.009361702</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">122.94955</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.003615439</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.004397738</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">-5.426665</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1.7165674</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.002873885</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">6.104990</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">11.067616</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1.7165674</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.002005154</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.008494688</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">0.002005154</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">1.2047885</span></p></td><td class="cl-157b8a81"><p class="cl-157b77c0"><span class="cl-1579f684">76.55053</span></p></td><td class="cl-157b8a8a"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-157b8a6c"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a6d"><p class="cl-157b77b6"><span class="cl-1579f684">will</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">149</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.00000</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.005561154</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">28.38208</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.001737080</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.004904300</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">-5.317643</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.6227757</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.004386223</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">4.279371</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">5.310275</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.6227757</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.001955197</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.000777505</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.001955197</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">0.4384993</span></p></td><td class="cl-157b8a6e"><p class="cl-157b77c0"><span class="cl-1579f684">24.34962</span></p></td><td class="cl-157b8a76"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-157b8a8b"><p class="cl-157b77b6"><span class="cl-1579f684">selection</span></p></td><td class="cl-157b8a94"><p class="cl-157b77b6"><span class="cl-1579f684">power</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">63</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">9,405,996</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">0.00000</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">0.013188193</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">179.89260</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">0.004373250</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">0.003991131</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">-5.523681</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">2.2109715</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">0.002351360</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">6.222896</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">13.389887</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">2.2109715</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">0.001848759</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">0.012686769</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">0.001848759</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">1.5525839</span></p></td><td class="cl-157b8a95"><p class="cl-157b77c0"><span class="cl-1579f684">94.91857</span></p></td><td class="cl-157b8a96"><p class="cl-157b77b6"><span class="cl-1579f684">p &lt; .001***</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="identifying-collocations-using-kwics" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="identifying-collocations-using-kwics">Identifying collocations using kwics</h2>
<p>In this section, we will extract collocations and calculate association measures based on concordances and the corpus the concordances were extracted from.</p>
<p>We start by cleaning our corpus and splitting it into chapters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># clean corpus</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>text <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># concatenate the elements in the 'text' object</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(<span class="at">collapse =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># separate possessives and contractions</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="fu">fixed</span>(<span class="st">"'"</span>), <span class="fu">fixed</span>(<span class="st">" '"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="fu">fixed</span>(<span class="st">"’"</span>), <span class="fu">fixed</span>(<span class="st">" '"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># split text into different chapters</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_split</span>(<span class="st">"CHAPTER [IVX]{1,4}"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># unlist sentences</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove non-word characters</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">W"</span>, <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"[^[:alpha:] ]"</span>, <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove superfluous white spaces</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_squish</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert to lower case and save in 'sentences' object</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tolower</span>() <span class="ot">-&gt;</span> texts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-159cadc8{table-layout:auto;width:95%;}.cl-1599bd98{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1599bda2{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-159af9e2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-159b052c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-159b0536{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-159b0537{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-159b0540{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-159cadc8"><thead><tr style="overflow-wrap:break-word;"><th class="cl-159b052c"><p class="cl-159af9e2"><span class="cl-1599bd98">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-159b0536"><p class="cl-159af9e2"><span class="cl-1599bda2">the origin of species by charles darwin an historical sketch of the progress of opinion on the origi</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-159b0537"><p class="cl-159af9e2"><span class="cl-1599bda2">variation under domestication causes of variability effects of habit and the use or disuse of partsc</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-159b0536"><p class="cl-159af9e2"><span class="cl-1599bda2">variation under nature variability individual differences doubtful species wide ranging much diffuse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-159b0537"><p class="cl-159af9e2"><span class="cl-1599bda2">struggle for existence its bearing on natural selection the term used in a wide sense geometrical ra</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-159b0536"><p class="cl-159af9e2"><span class="cl-1599bda2">natural selection or the survival of the fittest natural selection its power compared with man s sel</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-159b0537"><p class="cl-159af9e2"><span class="cl-1599bda2">f under changing conditions of life organic beings present individual differences in almost every pa</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-159b0536"><p class="cl-159af9e2"><span class="cl-1599bda2">laws of variation effects of changed conditions use and disuse combined with natural selection organ</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-159b0537"><p class="cl-159af9e2"><span class="cl-1599bda2">difficulties of the theory difficulties of the theory of descent with modification absence or rarity</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-159b0536"><p class="cl-159af9e2"><span class="cl-1599bda2">miscellaneous objections to the theory of natural selection longevity modifications not necessarily </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-159b0540"><p class="cl-159af9e2"><span class="cl-1599bda2">instinct instincts comparable with habits but different in their origin instincts graduated aphides </span></p></td></tr></tbody></table></div>
</div>
</div>
<div class="warning" style="padding:0.1em; background-color: rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
We split the corpus into chapter to mirror the fact that most text data will come in the form of corpora which consist of different files containing texts.
</p>
<p style="margin-left:1em;">
</p>
<p></p>
</span></div>
<p><br></p>
<p>Next, we generate a frequency list of words that occur around a keyword (we use the keyword <em>selection</em> in this example but you can also choose a different word).</p>
<p>for this we use the <code>tokens_select</code> function (from the <code>quanteda</code> package) which has the following arguments:</p>
<ul>
<li><code>x</code>: a text or collection of texts. The text needs to be tokenised, i.e.&nbsp;split it into individual words, which is why we use the <em>text</em> in the <code>tokens()</code> function.</li>
<li><code>pattern</code>: a keyword defined by a search pattern<br>
</li>
<li><code>window</code>: the size of the context window (how many word before and after)<br>
</li>
<li><code>valuetype</code>: the type of pattern matching
<ul>
<li>“glob” for “glob”-style wildcard expressions;<br>
</li>
<li>“regex” for regular expressions; or<br>
</li>
<li>“fixed” for exact matching<br>
</li>
</ul></li>
<li><code>selection</code>: a character to define if the key word should be retained in the resulting frequency list or if it should be removed. The argument offers two options
<ul>
<li>“keep”<br>
</li>
<li>“remove”<br>
</li>
</ul></li>
<li><code>case_insensitive</code>: logical; if TRUE, ignore case when matching a pattern or dictionary values</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>kwic_words <span class="ot">&lt;-</span> quanteda<span class="sc">::</span><span class="fu">tokens_select</span>(<span class="fu">tokens</span>(texts),</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">pattern =</span> <span class="st">"selection"</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">window =</span> <span class="dv">5</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">selection =</span> <span class="st">"keep"</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tabulate results</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert into data frame</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rename columns</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">token =</span> <span class="dv">1</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> <span class="dv">2</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add a column with type</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">type =</span> <span class="st">"kwic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-15ce0b66{table-layout:auto;width:95%;}.cl-15caf9bc{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-15caf9c6{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-15cc3ea8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-15cc3eb2{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-15cc4c36{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c37{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c40{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c41{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c4a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c4b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c4c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c4d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c54{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c55{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c5e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15cc4c5f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-15ce0b66"><thead><tr style="overflow-wrap:break-word;"><th class="cl-15cc4c36"><p class="cl-15cc3ea8"><span class="cl-15caf9bc">token</span></p></th><th class="cl-15cc4c37"><p class="cl-15cc3eb2"><span class="cl-15caf9bc">n</span></p></th><th class="cl-15cc4c40"><p class="cl-15cc3ea8"><span class="cl-15caf9bc">type</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c41"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">a</span></p></td><td class="cl-15cc4c4a"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">54</span></p></td><td class="cl-15cc4c4b"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c4c"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">able</span></p></td><td class="cl-15cc4c4d"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">2</span></p></td><td class="cl-15cc4c54"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c41"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">abounding</span></p></td><td class="cl-15cc4c4a"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">1</span></p></td><td class="cl-15cc4c4b"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c4c"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">above</span></p></td><td class="cl-15cc4c4d"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">2</span></p></td><td class="cl-15cc4c54"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c41"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">absolute</span></p></td><td class="cl-15cc4c4a"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">1</span></p></td><td class="cl-15cc4c4b"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c4c"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">absurd</span></p></td><td class="cl-15cc4c4d"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">1</span></p></td><td class="cl-15cc4c54"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c41"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">accordance</span></p></td><td class="cl-15cc4c4a"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">2</span></p></td><td class="cl-15cc4c4b"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c4c"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">according</span></p></td><td class="cl-15cc4c4d"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">2</span></p></td><td class="cl-15cc4c54"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c41"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">account</span></p></td><td class="cl-15cc4c4a"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">4</span></p></td><td class="cl-15cc4c4b"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-15cc4c55"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">accumulate</span></p></td><td class="cl-15cc4c5e"><p class="cl-15cc3eb2"><span class="cl-15caf9c6">2</span></p></td><td class="cl-15cc4c5f"><p class="cl-15cc3ea8"><span class="cl-15caf9c6">kwic</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Next, we create a frequency table of the entire clean corpus.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>corpus_words <span class="ot">&lt;-</span> texts <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tokenize the corpus files</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    quanteda<span class="sc">::</span><span class="fu">tokens</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># unlist the tokens to create a data frame</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rename the column to 'token'</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">token =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># group by 'token' and count the occurrences</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(token) <span class="sc">%&gt;%</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add column stating where the frequency list is 'from'</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">type =</span> <span class="st">"corpus"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-160f0da0{table-layout:auto;width:95%;}.cl-160bf282{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-160bf28c{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-160d2422{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-160d2423{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-160d370a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d3714{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d3715{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d371e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d371f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d3728{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d3732{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d3733{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d3734{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d373c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d373d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-160d373e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-160f0da0"><thead><tr style="overflow-wrap:break-word;"><th class="cl-160d370a"><p class="cl-160d2422"><span class="cl-160bf282">token</span></p></th><th class="cl-160d3714"><p class="cl-160d2423"><span class="cl-160bf282">n</span></p></th><th class="cl-160d3715"><p class="cl-160d2422"><span class="cl-160bf282">type</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-160d371e"><p class="cl-160d2422"><span class="cl-160bf28c">a</span></p></td><td class="cl-160d371f"><p class="cl-160d2423"><span class="cl-160bf28c">3,163</span></p></td><td class="cl-160d3728"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-160d3732"><p class="cl-160d2422"><span class="cl-160bf28c">abdomen</span></p></td><td class="cl-160d3733"><p class="cl-160d2423"><span class="cl-160bf28c">3</span></p></td><td class="cl-160d3734"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-160d371e"><p class="cl-160d2422"><span class="cl-160bf28c">aberrant</span></p></td><td class="cl-160d371f"><p class="cl-160d2423"><span class="cl-160bf28c">7</span></p></td><td class="cl-160d3728"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-160d3732"><p class="cl-160d2422"><span class="cl-160bf28c">aberration</span></p></td><td class="cl-160d3733"><p class="cl-160d2423"><span class="cl-160bf28c">2</span></p></td><td class="cl-160d3734"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-160d371e"><p class="cl-160d2422"><span class="cl-160bf28c">abhorrent</span></p></td><td class="cl-160d371f"><p class="cl-160d2423"><span class="cl-160bf28c">1</span></p></td><td class="cl-160d3728"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-160d3732"><p class="cl-160d2422"><span class="cl-160bf28c">abilities</span></p></td><td class="cl-160d3733"><p class="cl-160d2423"><span class="cl-160bf28c">1</span></p></td><td class="cl-160d3734"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-160d371e"><p class="cl-160d2422"><span class="cl-160bf28c">ability</span></p></td><td class="cl-160d371f"><p class="cl-160d2423"><span class="cl-160bf28c">3</span></p></td><td class="cl-160d3728"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-160d3732"><p class="cl-160d2422"><span class="cl-160bf28c">abjectly</span></p></td><td class="cl-160d3733"><p class="cl-160d2423"><span class="cl-160bf28c">1</span></p></td><td class="cl-160d3734"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-160d371e"><p class="cl-160d2422"><span class="cl-160bf28c">able</span></p></td><td class="cl-160d371f"><p class="cl-160d2423"><span class="cl-160bf28c">54</span></p></td><td class="cl-160d3728"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-160d373c"><p class="cl-160d2422"><span class="cl-160bf28c">ably</span></p></td><td class="cl-160d373d"><p class="cl-160d2423"><span class="cl-160bf28c">3</span></p></td><td class="cl-160d373e"><p class="cl-160d2422"><span class="cl-160bf28c">corpus</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Next, we combine the two frequency lists.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>freq_df <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">left_join</span>(corpus_words, kwic_words, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"token"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rename columns and select relevant columns</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">corpus =</span> n.x,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">kwic =</span> n.y</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>type.x, <span class="sc">-</span>type.y) <span class="sc">%&gt;%</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># replace NA values with 0 in 'corpus' and 'kwic' columns</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">corpus =</span> <span class="dv">0</span>, <span class="at">kwic =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-161c0e60{table-layout:auto;width:95%;}.cl-1618e032{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1618e03c{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-161a1fba{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-161a1fc4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-161a2f14{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f15{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f1e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f1f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f20{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f28{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f29{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f32{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f33{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f3c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f3d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-161a2f3e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-161c0e60"><thead><tr style="overflow-wrap:break-word;"><th class="cl-161a2f14"><p class="cl-161a1fba"><span class="cl-1618e032">token</span></p></th><th class="cl-161a2f15"><p class="cl-161a1fc4"><span class="cl-1618e032">corpus</span></p></th><th class="cl-161a2f1e"><p class="cl-161a1fc4"><span class="cl-1618e032">kwic</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-161a2f1f"><p class="cl-161a1fba"><span class="cl-1618e03c">a</span></p></td><td class="cl-161a2f20"><p class="cl-161a1fc4"><span class="cl-1618e03c">3,163</span></p></td><td class="cl-161a2f28"><p class="cl-161a1fc4"><span class="cl-1618e03c">54</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-161a2f29"><p class="cl-161a1fba"><span class="cl-1618e03c">abdomen</span></p></td><td class="cl-161a2f32"><p class="cl-161a1fc4"><span class="cl-1618e03c">3</span></p></td><td class="cl-161a2f33"><p class="cl-161a1fc4"><span class="cl-1618e03c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-161a2f1f"><p class="cl-161a1fba"><span class="cl-1618e03c">aberrant</span></p></td><td class="cl-161a2f20"><p class="cl-161a1fc4"><span class="cl-1618e03c">7</span></p></td><td class="cl-161a2f28"><p class="cl-161a1fc4"><span class="cl-1618e03c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-161a2f29"><p class="cl-161a1fba"><span class="cl-1618e03c">aberration</span></p></td><td class="cl-161a2f32"><p class="cl-161a1fc4"><span class="cl-1618e03c">2</span></p></td><td class="cl-161a2f33"><p class="cl-161a1fc4"><span class="cl-1618e03c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-161a2f1f"><p class="cl-161a1fba"><span class="cl-1618e03c">abhorrent</span></p></td><td class="cl-161a2f20"><p class="cl-161a1fc4"><span class="cl-1618e03c">1</span></p></td><td class="cl-161a2f28"><p class="cl-161a1fc4"><span class="cl-1618e03c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-161a2f29"><p class="cl-161a1fba"><span class="cl-1618e03c">abilities</span></p></td><td class="cl-161a2f32"><p class="cl-161a1fc4"><span class="cl-1618e03c">1</span></p></td><td class="cl-161a2f33"><p class="cl-161a1fc4"><span class="cl-1618e03c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-161a2f1f"><p class="cl-161a1fba"><span class="cl-1618e03c">ability</span></p></td><td class="cl-161a2f20"><p class="cl-161a1fc4"><span class="cl-1618e03c">3</span></p></td><td class="cl-161a2f28"><p class="cl-161a1fc4"><span class="cl-1618e03c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-161a2f29"><p class="cl-161a1fba"><span class="cl-1618e03c">abjectly</span></p></td><td class="cl-161a2f32"><p class="cl-161a1fc4"><span class="cl-1618e03c">1</span></p></td><td class="cl-161a2f33"><p class="cl-161a1fc4"><span class="cl-1618e03c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-161a2f1f"><p class="cl-161a1fba"><span class="cl-1618e03c">able</span></p></td><td class="cl-161a2f20"><p class="cl-161a1fc4"><span class="cl-1618e03c">54</span></p></td><td class="cl-161a2f28"><p class="cl-161a1fc4"><span class="cl-1618e03c">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-161a2f3c"><p class="cl-161a1fba"><span class="cl-1618e03c">ably</span></p></td><td class="cl-161a2f3d"><p class="cl-161a1fc4"><span class="cl-1618e03c">3</span></p></td><td class="cl-161a2f3e"><p class="cl-161a1fc4"><span class="cl-1618e03c">0</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We now calculate the frequencies of the observed and expected frequencies as well as the row and column totals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>freq_df <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(corpus <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">corpus =</span> <span class="fu">as.numeric</span>(corpus),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">kwic =</span> <span class="fu">as.numeric</span>(kwic)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">corpus =</span> corpus <span class="sc">-</span> kwic,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">C1 =</span> <span class="fu">sum</span>(kwic),</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">C2 =</span> <span class="fu">sum</span>(corpus),</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">N =</span> C1 <span class="sc">+</span> C2</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">R1 =</span> corpus <span class="sc">+</span> kwic,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">R2 =</span> N <span class="sc">-</span> R1,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">O11 =</span> kwic,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">O12 =</span> R1 <span class="sc">-</span> O11,</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">O21 =</span> C1 <span class="sc">-</span> O11,</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">O22 =</span> C2 <span class="sc">-</span> O12</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">E11 =</span> (R1 <span class="sc">*</span> C1) <span class="sc">/</span> N,</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">E12 =</span> (R1 <span class="sc">*</span> C2) <span class="sc">/</span> N,</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">E21 =</span> (R2 <span class="sc">*</span> C1) <span class="sc">/</span> N,</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">E22 =</span> (R2 <span class="sc">*</span> C2) <span class="sc">/</span> N</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>corpus, <span class="sc">-</span>kwic) <span class="ot">-&gt;</span> stats_tb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-164ff46e{table-layout:auto;width:95%;}.cl-164c58c2{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-164c58cc{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-164dba78{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-164dba82{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-164dc9b4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9be{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9c8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9d2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9d3{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9dc{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9dd{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9de{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9e6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9e7{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9f0{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-164dc9f1{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-164ff46e"><thead><tr style="overflow-wrap:break-word;"><th class="cl-164dc9b4"><p class="cl-164dba78"><span class="cl-164c58c2">token</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">C1</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">C2</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">N</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">R1</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">R2</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">O11</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">O12</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">O21</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">O22</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">E11</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">E12</span></p></th><th class="cl-164dc9be"><p class="cl-164dba82"><span class="cl-164c58c2">E21</span></p></th><th class="cl-164dc9c8"><p class="cl-164dba82"><span class="cl-164c58c2">E22</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-164dc9d2"><p class="cl-164dba78"><span class="cl-164c58cc">a</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">3,163</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">190,942</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">54</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">3,109</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,776</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">185,166</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">95.00162283</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">3,067.9983772</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,734.998</span></p></td><td class="cl-164dc9dc"><p class="cl-164dba82"><span class="cl-164c58cc">185,207.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-164dc9dd"><p class="cl-164dba78"><span class="cl-164c58cc">abdomen</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">3</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">194,102</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">3</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">188,272</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0.09010587</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">2.9098941</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,829.910</span></p></td><td class="cl-164dc9e6"><p class="cl-164dba82"><span class="cl-164c58cc">188,272.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-164dc9d2"><p class="cl-164dba78"><span class="cl-164c58cc">aberrant</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">7</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">194,098</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">0</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">7</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">188,268</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">0.21024703</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">6.7897530</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,829.790</span></p></td><td class="cl-164dc9dc"><p class="cl-164dba82"><span class="cl-164c58cc">188,268.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-164dc9dd"><p class="cl-164dba78"><span class="cl-164c58cc">aberration</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">2</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">194,103</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">2</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">188,273</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0.06007058</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">1.9399294</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,829.940</span></p></td><td class="cl-164dc9e6"><p class="cl-164dba82"><span class="cl-164c58cc">188,273.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-164dc9d2"><p class="cl-164dba78"><span class="cl-164c58cc">abhorrent</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">1</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">194,104</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">0</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">1</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">188,274</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">0.03003529</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">0.9699647</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,829.970</span></p></td><td class="cl-164dc9dc"><p class="cl-164dba82"><span class="cl-164c58cc">188,274.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-164dc9dd"><p class="cl-164dba78"><span class="cl-164c58cc">abilities</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">1</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">194,104</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">1</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">188,274</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0.03003529</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0.9699647</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,829.970</span></p></td><td class="cl-164dc9e6"><p class="cl-164dba82"><span class="cl-164c58cc">188,274.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-164dc9d2"><p class="cl-164dba78"><span class="cl-164c58cc">ability</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">3</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">194,102</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">0</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">3</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">188,272</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">0.09010587</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">2.9098941</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,829.910</span></p></td><td class="cl-164dc9dc"><p class="cl-164dba82"><span class="cl-164c58cc">188,272.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-164dc9dd"><p class="cl-164dba78"><span class="cl-164c58cc">abjectly</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">1</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">194,104</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">1</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">188,274</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0.03003529</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">0.9699647</span></p></td><td class="cl-164dc9de"><p class="cl-164dba82"><span class="cl-164c58cc">5,829.970</span></p></td><td class="cl-164dc9e6"><p class="cl-164dba82"><span class="cl-164c58cc">188,274.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-164dc9d2"><p class="cl-164dba78"><span class="cl-164c58cc">able</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">54</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">194,051</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">2</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">52</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,828</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">188,223</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">1.62190567</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">52.3780943</span></p></td><td class="cl-164dc9d3"><p class="cl-164dba82"><span class="cl-164c58cc">5,828.378</span></p></td><td class="cl-164dc9dc"><p class="cl-164dba82"><span class="cl-164c58cc">188,222.6</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-164dc9e7"><p class="cl-164dba78"><span class="cl-164c58cc">ably</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">188,275</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">194,105</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">3</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">194,102</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">0</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">3</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">5,830</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">188,272</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">0.09010587</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">2.9098941</span></p></td><td class="cl-164dc9f0"><p class="cl-164dba82"><span class="cl-164c58cc">5,829.910</span></p></td><td class="cl-164dc9f1"><p class="cl-164dba82"><span class="cl-164c58cc">188,272.1</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>To determine which terms collocate significantly and with what association strength, we use the following information (that is provided by the table above):</p>
<ul>
<li><p>O11 = Number of times word<sub>x</sub> occurs in <code>kwic</code></p></li>
<li><p>O12 = Number of times word<sub>x</sub> occurs in <code>corpus</code> (without <code>kwic</code>)</p></li>
<li><p>O21 = Number of times other words occur in <code>kwic</code></p></li>
<li><p>O22 = Number of times other words occur in <code>corpus</code></p></li>
</ul>
<p>Example:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">kwic</th>
<th style="text-align: right;">corpus</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>token</strong></td>
<td style="text-align: center;">O<sub>11</sub></td>
<td style="text-align: right;">O<sub>12</sub></td>
<td>= R<sub>1</sub></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>other tokens</strong></td>
<td style="text-align: center;">O<sub>21</sub></td>
<td style="text-align: right;">O<sub>22</sub></td>
<td>= R<sub>2</sub></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: center;">= C<sub>1</sub></td>
<td style="text-align: right;">= C<sub>2</sub></td>
<td>= N</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>stats_tb <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># determine number of rows</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Rws =</span> <span class="fu">nrow</span>(.)) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># work row-wise</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate fishers' exact test</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">as.vector</span>(<span class="fu">unlist</span>(<span class="fu">fisher.test</span>(<span class="fu">matrix</span>(<span class="fu">c</span>(O11, O12, O21, O22),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> T</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    ))[<span class="dv">1</span>]))) <span class="sc">%&gt;%</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract AM</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. bias towards top left</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">btl_O12 =</span> <span class="fu">ifelse</span>(C1 <span class="sc">&gt;</span> R1, <span class="dv">0</span>, R1 <span class="sc">-</span> C1),</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">btl_O11 =</span> <span class="fu">ifelse</span>(C1 <span class="sc">&gt;</span> R1, R1, R1 <span class="sc">-</span> btl_O12),</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">btl_O21 =</span> <span class="fu">ifelse</span>(C1 <span class="sc">&gt;</span> R1, C1 <span class="sc">-</span> R1, C1 <span class="sc">-</span> btl_O11),</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">btl_O22 =</span> <span class="fu">ifelse</span>(C1 <span class="sc">&gt;</span> R1, C2, C2 <span class="sc">-</span> btl_O12),</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 2. bias towards top right</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">btr_O11 =</span> <span class="dv">0</span>,</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">btr_O21 =</span> R1,</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">btr_O12 =</span> C1,</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">btr_O22 =</span> C2 <span class="sc">-</span> R1</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. calculate AM</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">upp =</span> btl_O11 <span class="sc">/</span> R1,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">low =</span> btr_O11 <span class="sc">/</span> R1,</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">op =</span> O11 <span class="sc">/</span> R1</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">AM =</span> op <span class="sc">/</span> upp) <span class="sc">%&gt;%</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove superfluous columns</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">any_of</span>(<span class="fu">c</span>(</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>        <span class="st">"btr_O21"</span>, <span class="st">"btr_O12"</span>, <span class="st">"btr_O22"</span>, <span class="st">"btl_O12"</span>,</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>        <span class="st">"btl_O11"</span>, <span class="st">"btl_O21"</span>, <span class="st">"btl_O22"</span>, <span class="st">"btr_O11"</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>    ))) <span class="sc">%&gt;%</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract x2 statistics</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">X2 =</span> (O11 <span class="sc">-</span> E11)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> E11 <span class="sc">+</span> (O12 <span class="sc">-</span> E12)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> E12 <span class="sc">+</span> (O21 <span class="sc">-</span> E21)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> E21 <span class="sc">+</span> (O22 <span class="sc">-</span> E22)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> E22) <span class="sc">%&gt;%</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract expected frequency</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Exp =</span> E11) <span class="sc">%&gt;%</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract association measures</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">phi =</span> <span class="fu">sqrt</span>((X2 <span class="sc">/</span> N)),</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">MS =</span> <span class="fu">min</span>((O11 <span class="sc">/</span> C1), (O11 <span class="sc">/</span> R1)),</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>        <span class="at">Dice =</span> (<span class="dv">2</span> <span class="sc">*</span> O11) <span class="sc">/</span> (R1 <span class="sc">+</span> C1),</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">LogDice =</span> <span class="fu">log</span>((<span class="dv">2</span> <span class="sc">*</span> O11) <span class="sc">/</span> (R1 <span class="sc">+</span> C1)),</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">MI =</span> <span class="fu">log2</span>(O11 <span class="sc">/</span> E11),</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">t.score =</span> (O11 <span class="sc">-</span> E11) <span class="sc">/</span> <span class="fu">sqrt</span>(O11),</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">z.score =</span> (O11 <span class="sc">-</span> E11) <span class="sc">/</span> <span class="fu">sqrt</span>(E11),</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">PMI =</span> <span class="fu">log2</span>((O11 <span class="sc">/</span> N) <span class="sc">/</span> ((O11 <span class="sc">+</span> O12) <span class="sc">/</span> N) <span class="sc">*</span></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>            ((O11 <span class="sc">+</span> O21) <span class="sc">/</span> N)),</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">DeltaP12 =</span> (O11 <span class="sc">/</span> (O11 <span class="sc">+</span> O12)) <span class="sc">-</span> (O21 <span class="sc">/</span> (O21 <span class="sc">+</span> O22)),</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>        <span class="at">DeltaP21 =</span> (O11 <span class="sc">/</span> (O11 <span class="sc">+</span> O21)) <span class="sc">-</span> (O21 <span class="sc">/</span> (O12 <span class="sc">+</span> O22)),</span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">DP =</span> (O11 <span class="sc">/</span> R1) <span class="sc">-</span> (O21 <span class="sc">/</span> R2),</span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">LogOddsRatio =</span> <span class="fu">log</span>(((O11 <span class="sc">+</span> <span class="fl">0.5</span>) <span class="sc">*</span> (O22 <span class="sc">+</span> <span class="fl">0.5</span>)) <span class="sc">/</span> ((O12 <span class="sc">+</span> <span class="fl">0.5</span>) <span class="sc">*</span> (O21 <span class="sc">+</span> <span class="fl">0.5</span>))),</span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>        <span class="co"># calculate LL aka G2</span></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">G2 =</span> <span class="dv">2</span> <span class="sc">*</span> (O11 <span class="sc">*</span> <span class="fu">log</span>(O11 <span class="sc">/</span> E11) <span class="sc">+</span> O12 <span class="sc">*</span> <span class="fu">log</span>(O12 <span class="sc">/</span> E12) <span class="sc">+</span> O21 <span class="sc">*</span> <span class="fu">log</span>(O21 <span class="sc">/</span> E21) <span class="sc">+</span> O22 <span class="sc">*</span> <span class="fu">log</span>(O22 <span class="sc">/</span> E22))</span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>    <span class="co"># determine Bonferroni corrected significance</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Sig_corrected =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>        p <span class="sc">/</span> Rws <span class="sc">&gt;</span> .<span class="dv">05</span> <span class="sc">~</span> <span class="st">"n.s."</span>,</span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>        p <span class="sc">/</span> Rws <span class="sc">&gt;</span> .<span class="dv">01</span> <span class="sc">~</span> <span class="st">"p &lt; .05*"</span>,</span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>        p <span class="sc">/</span> Rws <span class="sc">&gt;</span> .<span class="dv">001</span> <span class="sc">~</span> <span class="st">"p &lt; .01**"</span>,</span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>        p <span class="sc">/</span> Rws <span class="sc">&lt;=</span> .<span class="dv">001</span> <span class="sc">~</span> <span class="st">"p &lt; .001***"</span>,</span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>        T <span class="sc">~</span> <span class="st">"N.A."</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">%&gt;%</span></span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a>    <span class="co"># round p-value</span></span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">round</span>(p, <span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter out non significant results</span></span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a>        Sig_corrected <span class="sc">!=</span> <span class="st">"n.s."</span>,</span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a>        <span class="co"># filter out instances where the w1 and w2 repel each other</span></span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a>        E11 <span class="sc">&lt;</span> O11</span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a>    <span class="co"># arrange by phi (association measure)</span></span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>DeltaP12) <span class="sc">%&gt;%</span></span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove superfluous columns</span></span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">any_of</span>(<span class="fu">c</span>(</span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a>        <span class="st">"TermCoocFreq"</span>, <span class="st">"AllFreq"</span>, <span class="st">"NRows"</span>, <span class="st">"O12"</span>, <span class="st">"O21"</span>,</span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a>        <span class="st">"O22"</span>, <span class="st">"R1"</span>, <span class="st">"R2"</span>, <span class="st">"C1"</span>, <span class="st">"C2"</span>, <span class="st">"E11"</span>, <span class="st">"E12"</span>, <span class="st">"E21"</span>,</span>
<span id="cb14-80"><a href="#cb14-80" aria-hidden="true" tabindex="-1"></a>        <span class="st">"E22"</span>, <span class="st">"upp"</span>, <span class="st">"low"</span>, <span class="st">"op"</span>, <span class="st">"Rws"</span></span>
<span id="cb14-81"><a href="#cb14-81" aria-hidden="true" tabindex="-1"></a>    ))) <span class="ot">-&gt;</span> assoc_tb2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-18746fd6{table-layout:auto;width:95%;}.cl-18708498{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-187084a2{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1871fada{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1871fae4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-18720a5c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a66{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a70{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a71{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a72{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a7a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a7b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a7c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a7d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a84{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a85{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18720a86{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-18746fd6"><thead><tr style="overflow-wrap:break-word;"><th class="cl-18720a5c"><p class="cl-1871fada"><span class="cl-18708498">token</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">N</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">O11</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">p</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">AM</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">X2</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">Exp</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">phi</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">MS</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">Dice</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">LogDice</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">MI</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">t.score</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">z.score</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">PMI</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">DeltaP12</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">DeltaP21</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">DP</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">LogOddsRatio</span></p></th><th class="cl-18720a66"><p class="cl-1871fae4"><span class="cl-18708498">G2</span></p></th><th class="cl-18720a70"><p class="cl-1871fada"><span class="cl-18708498">Sig_corrected</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-18720a71"><p class="cl-1871fada"><span class="cl-187084a2">selection</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">540</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.00000</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">17,487.50099</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">16.21905670</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.30015495</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.0926243568</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.1695447410</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-1.774638</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">22.5399430</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">130.057948</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9726707</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.06452716</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9726707</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">10.557635</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a7a"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18720a7b"><p class="cl-1871fada"><span class="cl-187084a2">methodical</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">10</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.00000</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">322.95832</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.30035290</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.04079011</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.0017152659</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.0034246575</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-5.676754</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">3.0672977</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">17.698645</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.9700147</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-0.02919696</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.9700147</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">6.521043</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a7d"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18720a71"><p class="cl-1871fada"><span class="cl-187084a2">accumulative</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">3</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.00003</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">96.88400</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.09010587</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.02234126</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.0005145798</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.0010286302</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-6.879527</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">1.6800282</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">9.693947</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699797</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-0.03043483</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699797</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">5.421228</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a7a"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18720a7b"><p class="cl-1871fada"><span class="cl-187084a2">rigorous</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">3</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.00003</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">96.88400</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.09010587</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.02234126</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.0005145798</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.0010286302</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-6.879527</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">1.6800282</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">9.693947</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699797</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-0.03043483</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699797</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">5.421228</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a7d"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18720a71"><p class="cl-1871fada"><span class="cl-187084a2">cotton</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">2</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.00090</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">64.58900</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.06007058</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.01824152</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.0003430532</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.0006858711</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-7.284821</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">1.3717372</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">7.915075</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699747</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-0.03061167</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699747</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">5.084585</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a7a"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18720a7b"><p class="cl-1871fada"><span class="cl-187084a2">incompetent</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">2</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.00090</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">64.58900</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.06007058</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.01824152</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.0003430532</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.0006858711</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-7.284821</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">1.3717372</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">7.915075</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699747</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-0.03061167</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699747</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">5.084585</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a7d"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18720a71"><p class="cl-1871fada"><span class="cl-187084a2">rigid</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">2</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.00090</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">64.58900</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.06007058</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.01824152</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.0003430532</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.0006858711</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-7.284821</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">1.3717372</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">7.915075</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699747</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-0.03061167</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699747</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">5.084585</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a7a"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18720a7b"><p class="cl-1871fada"><span class="cl-187084a2">agreeable</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.03004</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">32.29433</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.03003529</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.01289867</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.0001715266</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.0003429943</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-7.977797</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699647</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">5.596803</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699697</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">-0.03078851</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699697</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2">4.573587</span></p></td><td class="cl-18720a7c"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a7d"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18720a71"><p class="cl-1871fada"><span class="cl-187084a2">amoimt</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.03004</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">32.29433</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.03003529</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.01289867</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.0001715266</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.0003429943</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-7.977797</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699647</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">5.596803</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699697</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">-0.03078851</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699697</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2">4.573587</span></p></td><td class="cl-18720a72"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a7a"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18720a84"><p class="cl-1871fada"><span class="cl-187084a2">architecture</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">194,105</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">0.03004</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">1</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">32.29433</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">0.03003529</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">0.01289867</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">0.0001715266</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">0.0003429943</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">-7.977797</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">5.057198</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699647</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">5.596803</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">-5.057198</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699697</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">-0.03078851</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">0.9699697</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2">4.573587</span></p></td><td class="cl-18720a85"><p class="cl-1871fae4"><span class="cl-187084a2"></span></p></td><td class="cl-18720a86"><p class="cl-1871fada"><span class="cl-187084a2">p &lt; .001***</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="visualising-collocations" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="visualising-collocations">Visualising collocations</h2>
<section id="dotplots" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="dotplots">Dotplots</h3>
<p>We can now visualize the association strengths in a dotplot as shown in the code chunk below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort the assoc_tb2 data frame in descending order based on the 'phi' column</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>assoc_tb2 <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>phi) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select the top 20 rows after sorting</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create a ggplot with 'token' on the x-axis (reordered by 'phi') and 'phi' on the y-axis</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(token, phi, mean), <span class="at">y =</span> phi)) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add a scatter plot with points representing the 'phi' values</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># flip the coordinates to have horizontal points</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set the theme to a basic white and black theme</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set the x-axis label to "Token" and y-axis label to "Association strength (phi)"</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Token"</span>, <span class="at">y =</span> <span class="st">"Association strength (phi)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="coll_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="barplots" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="barplots">Barplots</h3>
<p>Another option sis to visualize the association strengths in a barplot as shown in the code chunk below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort the assoc_tb2 data frame in descending order based on the 'phi' column</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>assoc_tb2 <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>phi) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select the top 20 rows after sorting</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create a ggplot with 'token' on the x-axis (reordered by 'phi') and 'phi' on the y-axis</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(token, phi, mean), <span class="at">y =</span> phi, <span class="at">label =</span> phi)) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add a bar plot using the 'phi' values</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add text labels above the bars with rounded 'phi' values</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> phi <span class="sc">-</span> <span class="fl">0.005</span>, <span class="at">label =</span> <span class="fu">round</span>(phi, <span class="dv">3</span>)), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># flip the coordinates to have horizontal bars</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set the theme to a basic white and black theme</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set the x-axis label to "Token" and y-axis label to "Association strength (phi)"</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Token"</span>, <span class="at">y =</span> <span class="st">"Association strength (phi)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="coll_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="dendrograms" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="dendrograms">Dendrograms</h3>
<p>Another method for visualizing collocations are dendrograms (tree-diagrams) which show how similarity to indicate groupings based on numeric values (e.g., association strength).</p>
<p>We start by extracting the tokens that we want to show (the top 20 collocates of <em>selection</em>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort the assoc_tb2 data frame in descending order based on the 'phi' column</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>top20colls <span class="ot">&lt;-</span> assoc_tb2 <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>phi) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select the top 20 rows after sorting</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract the 'token' column</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">pull</span>(token)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect the top 20 tokens with the highest 'phi' values</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>top20colls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "selection"    "natural"      "through"      "theory"       "unconscious" 
 [6] "methodical"   "acts"         "sexual"       "accumulated"  "by"          
[11] "power"        "man"          "action"       "principle"    "accumulative"
[16] "rigorous"     "survival"     "effects"      "process"      "aided"       </code></pre>
</div>
</div>
<p>We then need to generate a feature co-occurrence matrix from a document-feature matrix based on the cleaned, lower case sentences of our text.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenize the 'sentences' data using quanteda package</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>keyword_fcm <span class="ot">&lt;-</span> sentences <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    quanteda<span class="sc">::</span><span class="fu">tokens</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create a document-feature matrix (dfm) from the tokens</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    quanteda<span class="sc">::</span><span class="fu">dfm</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># select features based on 'top20colls' and the term "selection" pattern</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    quanteda<span class="sc">::</span><span class="fu">dfm_select</span>(<span class="at">pattern =</span> <span class="fu">c</span>(top20colls, <span class="st">"selection"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a symmetric feature co-occurrence matrix (fcm)</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    quanteda<span class="sc">::</span><span class="fu">fcm</span>(<span class="at">tri =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect the first 6 rows and 6 columns of the resulting fcm</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>keyword_fcm[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Feature co-occurrence matrix of: 6 by 6 features.
         features
features   by natural aided effects power man
  by      461     282    25      37    54  81
  natural 282      49     9      28    38  18
  aided    25       9     0       1     1   0
  effects  37      28     1       3     1   5
  power    54      38     1       1     9  15
  man      81      18     0       5    15  10</code></pre>
</div>
</div>
<p>Then we generate the dendrogram based on a distance matrix generated from the feature co-occurrence matrix.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a hierarchical clustering object using the distance matrix of the fcm as data</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hclust</span>(<span class="fu">dist</span>(keyword_fcm),</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># use ward.D as linkage method</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"ward.D2"</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># generate visualization (dendrogram)</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggdendrogram</span>() <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add title</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"20 most strongly collocating terms of 'selection'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="coll_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="network-graphs" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="network-graphs">Network Graphs</h3>
<p><a href="tutorials/net.html">Network graphs</a>, or networks for short, are a powerful and versatile visual representation used to depict relationships or connections among various elements. Network graphs typically consist of nodes, representing individual entities, and edges, indicating the connections or interactions between these entities. Nodes can represent diverse entities such as words (collocates), interlocutors, objects, or concepts, while edges convey the relationships or associations between them.</p>
<p>Here we generate a basic network graph of the collocates of our keyword based on the fcm.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a network plot using the fcm</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>quanteda.textplots<span class="sc">::</span><span class="fu">textplot_network</span>(keyword_fcm,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set the transparency of edges to 0.8 for visibility</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set the color of edges to gray</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_color =</span> <span class="st">"gray"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set the size of edges to 2 for better visibility</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">edge_size =</span> <span class="dv">2</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># adjust the size of vertex labels</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># based on the logarithm of row sums of the fcm</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">vertex_labelsize =</span> <span class="fu">log</span>(<span class="fu">rowSums</span>(keyword_fcm))</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="coll_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="biplots" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="biplots">Biplots</h3>
<p>An alternative way to display co-occurrence patterns are bi-plots which are used to display the results of a <a href="tutorials/clust/clust.html#2_Correspondence_Analysis">Correspondence Analysis</a>. Bi-plots are useful, in particular, when one is not interested in one particular keyterm and its collocations but in the overall similarity of many terms. Semantic similarity in this case refers to a shared semantic and this distributional profile. As such, words can be deemed semantically similar if they have a similar co-occurrence profile - i.e.&nbsp;they co-occur with the same elements. Biplots can be used to visualize collocations because collocates co-occur and thus share semantic properties which renders then more similar to each other compared with other terms.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># perform correspondence analysis</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>res.ca <span class="ot">&lt;-</span> <span class="fu">CA</span>(<span class="fu">as.matrix</span>(keyword_fcm), <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># plot results</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_ca_row</span>(res.ca, <span class="at">repel =</span> <span class="cn">TRUE</span>, <span class="at">col.row =</span> <span class="st">"gray20"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="coll_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="n-grams" class="level1 unnumbered">
<h1 class="unnumbered">N-grams</h1>
<p>N-grams are contiguous sequences of N items (words, characters, or symbols) in a given text. The term <em>N</em> in N-grams refers to the number of items in the sequence. For example, a bigram (2-gram) consists of two consecutive items, a trigram (3-gram) consists of three, and so on. N-grams are widely used in natural language processing and text analysis to capture patterns and dependencies within a linguistic context. N-grams help analyze the frequency of word sequences in a corpus. This information can reveal common phrases, expressions, or patterns that occur frequently and that often represent multiword expressions such as <em>New York</em>, <em>Prime Minister</em>, or <em>New South Wales</em>. Identifying such multiword expressions can be useful to fuse compound words in subsequent steps of an analysis (e.g., combining <em>wheel chair</em> to <em>wheelchair</em> or <em>wheel-chair</em>). N-grams are fundamental in language modeling, where they are used to estimate the likelihood of a word given its context. This is especially important in predictive text applications and machine translation.</p>
<section id="identifying-n-grams-using-quanteda" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="identifying-n-grams-using-quanteda">Identifying n-grams using quanteda</h2>
<p>The <code>quanteda</code> package <span class="citation" data-cites="quanteda">(see <a href="#ref-quanteda" role="doc-biblioref">Benoit et al.</a>)</span> offers excellent and very fast functions for extracting N-grams. It’s a fun way to discover meaningful word pairs in your text! Below, we use the <code>textstat_collocations</code> function for extracting N-grams. This function uses the following main arguments</p>
<ul>
<li><code>x</code>: a character, corpus, or tokens object.<br>
</li>
<li><code>method</code>: association measure for detecting collocations. Currently this is limited to “lambda”.<br>
</li>
<li><code>size</code>: integer; the length of the ngram. The default is 2 - if you want to extract tri-grams set <code>size = 3</code> and if you want to extract four-grams set <code>size = 4</code> and so on.<br>
</li>
<li><code>min_count</code>: numeric; minimum frequency of collocations that will be scored.<br>
</li>
<li><code>smoothing</code>: numeric; a smoothing parameter added to the observed counts (default is 0.5).<br>
</li>
<li><code>tolower</code>: logical; if TRUE, tokens are transformed to lower-case.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenate the elements in the 'text' object</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>text <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(<span class="at">collapse =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert to lower case</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tolower</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert the concatenated text into tokens</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    quanteda<span class="sc">::</span><span class="fu">tokens</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># identify and extract bigrams that occur at leats 10 times</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    quanteda.textstats<span class="sc">::</span><span class="fu">textstat_collocations</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">min_count =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert into a data frame and save results in an object called 'ngrams'</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># order by lambda</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>lambda) <span class="ot">-&gt;</span> ngrams</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-19c68572{table-layout:auto;width:95%;}.cl-19bf0360{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-19bf036a{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-19c406da{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-19c406db{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-19c41dd2{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41dd3{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41dd4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41ddc{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41ddd{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41dde{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41ddf{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41de6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41de7{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41de8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41de9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-19c41dea{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-19c68572"><thead><tr style="overflow-wrap:break-word;"><th class="cl-19c41dd2"><p class="cl-19c406da"><span class="cl-19bf0360">collocation</span></p></th><th class="cl-19c41dd3"><p class="cl-19c406db"><span class="cl-19bf0360">count</span></p></th><th class="cl-19c41dd3"><p class="cl-19c406db"><span class="cl-19bf0360">count_nested</span></p></th><th class="cl-19c41dd3"><p class="cl-19c406db"><span class="cl-19bf0360">length</span></p></th><th class="cl-19c41dd3"><p class="cl-19c406db"><span class="cl-19bf0360">lambda</span></p></th><th class="cl-19c41dd4"><p class="cl-19c406db"><span class="cl-19bf0360">z</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddc"><p class="cl-19c406da"><span class="cl-19bf036a">la plata</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">10</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">14.172641</span></p></td><td class="cl-19c41dde"><p class="cl-19c406db"><span class="cl-19bf036a">8.972104</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddf"><p class="cl-19c406da"><span class="cl-19bf036a">asa gray</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">10</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">13.584854</span></p></td><td class="cl-19c41de7"><p class="cl-19c406db"><span class="cl-19bf036a">11.365881</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddc"><p class="cl-19c406da"><span class="cl-19bf036a">de candolle</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">20</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">13.232135</span></p></td><td class="cl-19c41dde"><p class="cl-19c406db"><span class="cl-19bf036a">9.069094</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddf"><p class="cl-19c406da"><span class="cl-19bf036a">malay archipelago</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">11</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">11.795349</span></p></td><td class="cl-19c41de7"><p class="cl-19c406db"><span class="cl-19bf036a">8.099435</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddc"><p class="cl-19c406da"><span class="cl-19bf036a">fritz miiller</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">12</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">11.781998</span></p></td><td class="cl-19c41dde"><p class="cl-19c406db"><span class="cl-19bf036a">14.798749</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddf"><p class="cl-19c406da"><span class="cl-19bf036a">close interbreeding</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">11</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">11.060514</span></p></td><td class="cl-19c41de7"><p class="cl-19c406db"><span class="cl-19bf036a">7.626630</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddc"><p class="cl-19c406da"><span class="cl-19bf036a">informs me</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">14</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">10.547254</span></p></td><td class="cl-19c41dde"><p class="cl-19c406db"><span class="cl-19bf036a">7.319025</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddf"><p class="cl-19c406da"><span class="cl-19bf036a">new zealand</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">27</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">10.530731</span></p></td><td class="cl-19c41de7"><p class="cl-19c406db"><span class="cl-19bf036a">7.372304</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddc"><p class="cl-19c406da"><span class="cl-19bf036a">reproductive systems</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">12</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">10.078532</span></p></td><td class="cl-19c41dde"><p class="cl-19c406db"><span class="cl-19bf036a">15.838139</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddf"><p class="cl-19c406da"><span class="cl-19bf036a">laws governing</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">14</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">10.076309</span></p></td><td class="cl-19c41de7"><p class="cl-19c406db"><span class="cl-19bf036a">14.349877</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddc"><p class="cl-19c406da"><span class="cl-19bf036a">i am</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">60</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">10.063415</span></p></td><td class="cl-19c41dde"><p class="cl-19c406db"><span class="cl-19bf036a">7.084662</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddf"><p class="cl-19c406da"><span class="cl-19bf036a">systematic affinity</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">12</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">9.844818</span></p></td><td class="cl-19c41de7"><p class="cl-19c406db"><span class="cl-19bf036a">17.664599</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddc"><p class="cl-19c406da"><span class="cl-19bf036a">consecutive formations</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">13</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41ddd"><p class="cl-19c406db"><span class="cl-19bf036a">9.293545</span></p></td><td class="cl-19c41dde"><p class="cl-19c406db"><span class="cl-19bf036a">13.332193</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41ddf"><p class="cl-19c406da"><span class="cl-19bf036a">reciprocal crosses</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">15</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41de6"><p class="cl-19c406db"><span class="cl-19bf036a">9.284706</span></p></td><td class="cl-19c41de7"><p class="cl-19c406db"><span class="cl-19bf036a">17.907863</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-19c41de8"><p class="cl-19c406da"><span class="cl-19bf036a">united states</span></p></td><td class="cl-19c41de9"><p class="cl-19c406db"><span class="cl-19bf036a">29</span></p></td><td class="cl-19c41de9"><p class="cl-19c406db"><span class="cl-19bf036a">0</span></p></td><td class="cl-19c41de9"><p class="cl-19c406db"><span class="cl-19bf036a">2</span></p></td><td class="cl-19c41de9"><p class="cl-19c406db"><span class="cl-19bf036a">9.058088</span></p></td><td class="cl-19c41dea"><p class="cl-19c406db"><span class="cl-19bf036a">26.394583</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="identifying-n-grams-using-quanteda-1" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="identifying-n-grams-using-quanteda-1">Identifying n-grams using quanteda</h2>
<p>Creating N-gram lists manually, especially bi-grams, is surprisingly easy. In our example text, we’ll craft a bi-gram list by doing something quite straightforward: taking each word and introducing it to the next word in line. The difference to the previous method is that we retain the original order of the bi-grams here.</p>
<p>In a first step, we split the text into words and remove any non-word characters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># process the text</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>text <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert all text to lowercase</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tolower</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove non-word characters, keeping spaces</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_replace_all</span>(<span class="st">"[^[:alpha:][:space:]]*"</span>, <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remove punctuation</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    tm<span class="sc">::</span><span class="fu">removePunctuation</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># squish consecutive spaces into a single space</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_squish</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># split the text into individual words, separated by spaces</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_split</span>(<span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># unlist the result into a single vector of words  and save result in "text_words"</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>() <span class="ot">-&gt;</span> text_words</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we generate a table with the N-grams(in our case bi-grams).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create data frame</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>text_bigrams <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    text_words[<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(text_words) <span class="sc">-</span> <span class="dv">1</span>],</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    text_words[<span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(text_words)]</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">Word1 =</span> <span class="dv">1</span>,</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">Word2 =</span> <span class="dv">2</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Bigram =</span> <span class="fu">paste0</span>(Word1, <span class="st">" "</span>, Word2)) <span class="sc">%&gt;%</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(Bigram) <span class="sc">%&gt;%</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">Frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>Frequency)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-1a2a01c4{table-layout:auto;width:50%;}.cl-1a24e84c{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1a24e856{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1a2638e6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1a2638f0{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1a264804{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1a26480e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1a26480f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1a264818{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1a264819{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1a26481a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1a264822{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1a264823{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-1a2a01c4"><thead><tr style="overflow-wrap:break-word;"><th class="cl-1a264804"><p class="cl-1a2638e6"><span class="cl-1a24e84c">Bigram</span></p></th><th class="cl-1a26480e"><p class="cl-1a2638f0"><span class="cl-1a24e84c">Frequency</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1a26480f"><p class="cl-1a2638e6"><span class="cl-1a24e856">of the</span></p></td><td class="cl-1a264818"><p class="cl-1a2638f0"><span class="cl-1a24e856">2,673</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a264819"><p class="cl-1a2638e6"><span class="cl-1a24e856">in the</span></p></td><td class="cl-1a26481a"><p class="cl-1a2638f0"><span class="cl-1a24e856">1,440</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a26480f"><p class="cl-1a2638e6"><span class="cl-1a24e856">the same</span></p></td><td class="cl-1a264818"><p class="cl-1a2638f0"><span class="cl-1a24e856">959</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a264819"><p class="cl-1a2638e6"><span class="cl-1a24e856">to the</span></p></td><td class="cl-1a26481a"><p class="cl-1a2638f0"><span class="cl-1a24e856">791</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a26480f"><p class="cl-1a2638e6"><span class="cl-1a24e856">on the</span></p></td><td class="cl-1a264818"><p class="cl-1a2638f0"><span class="cl-1a24e856">743</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a264819"><p class="cl-1a2638e6"><span class="cl-1a24e856">have been</span></p></td><td class="cl-1a26481a"><p class="cl-1a2638f0"><span class="cl-1a24e856">624</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a26480f"><p class="cl-1a2638e6"><span class="cl-1a24e856">that the</span></p></td><td class="cl-1a264818"><p class="cl-1a2638f0"><span class="cl-1a24e856">574</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a264819"><p class="cl-1a2638e6"><span class="cl-1a24e856">it is</span></p></td><td class="cl-1a26481a"><p class="cl-1a2638f0"><span class="cl-1a24e856">500</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a26480f"><p class="cl-1a2638e6"><span class="cl-1a24e856">natural selection</span></p></td><td class="cl-1a264818"><p class="cl-1a2638f0"><span class="cl-1a24e856">405</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a264819"><p class="cl-1a2638e6"><span class="cl-1a24e856">and the</span></p></td><td class="cl-1a26481a"><p class="cl-1a2638f0"><span class="cl-1a24e856">351</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a26480f"><p class="cl-1a2638e6"><span class="cl-1a24e856">from the</span></p></td><td class="cl-1a264818"><p class="cl-1a2638f0"><span class="cl-1a24e856">346</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a264819"><p class="cl-1a2638e6"><span class="cl-1a24e856">in a</span></p></td><td class="cl-1a26481a"><p class="cl-1a2638f0"><span class="cl-1a24e856">339</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a26480f"><p class="cl-1a2638e6"><span class="cl-1a24e856">of a</span></p></td><td class="cl-1a264818"><p class="cl-1a2638f0"><span class="cl-1a24e856">337</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a264819"><p class="cl-1a2638e6"><span class="cl-1a24e856">with the</span></p></td><td class="cl-1a26481a"><p class="cl-1a2638f0"><span class="cl-1a24e856">336</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1a264822"><p class="cl-1a2638e6"><span class="cl-1a24e856">to be</span></p></td><td class="cl-1a264823"><p class="cl-1a2638f0"><span class="cl-1a24e856">324</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>It is very useful to perform an N-gram analysis <em>before</em> a collocation analysis to fuse compound words (e.g.&nbsp;<em>New York</em> would become <em>NewYork</em> or <em>New South Wales</em> would become <em>NewSouthWales</em>) to avoid treating <em>new</em> or <em>south</em> as independent elements.</p>
</section>
</section>
<section id="citation-session-info" class="level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2024. <em>Analyzing Collocations and N-grams in R</em>. Brisbane: The University of Queensland. url: https://ladal.edu.au/tutorials/coll.html (Version 2024.03.28).</p>
<pre><code>@manual{schweinberger`2024coll,
  author = {Schweinberger, Martin},
  title = {Analyzing Collocations and N-grams in R},
  note = {tutorials/coll/coll.html},
  year = {2024},
  organization = {The University of Queensland, Australia. School of Languages and Cultures},
  address = {Brisbane},
  edition = {2024.03.28}
}</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.1 (2024-06-14)
Platform: aarch64-apple-darwin20
Running under: macOS Sonoma 14.6.1

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: Australia/Brisbane
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] sna_2.8                   statnet.common_4.10.0    
 [3] tm_0.7-14                 NLP_0.3-0                
 [5] stringr_1.5.1             dplyr_1.1.4              
 [7] quanteda.textplots_0.95   quanteda.textstats_0.97.2
 [9] quanteda_4.1.0            Matrix_1.7-1             
[11] network_1.18.2            igraph_2.1.1             
[13] ggdendro_0.2.0            GGally_2.2.1             
[15] flextable_0.9.7           factoextra_1.0.7         
[17] ggplot2_3.5.1             FactoMineR_2.11          

loaded via a namespace (and not attached):
 [1] sandwich_3.1-1          rlang_1.1.4             magrittr_2.0.3         
 [4] multcomp_1.4-26         tidytext_0.4.2          compiler_4.4.1         
 [7] systemfonts_1.1.0       vctrs_0.6.5             pkgconfig_2.0.3        
[10] fastmap_1.2.0           backports_1.5.0         labeling_0.4.3         
[13] utf8_1.2.4              rmarkdown_2.28          ragg_1.3.3             
[16] purrr_1.0.2             xfun_0.49               jsonlite_1.8.9         
[19] flashClust_1.01-2       SnowballC_0.7.1         uuid_1.2-1             
[22] broom_1.0.7             parallel_4.4.1          stopwords_2.3          
[25] cluster_2.1.6           R6_2.5.1                stringi_1.8.4          
[28] RColorBrewer_1.1-3      car_3.1-3               estimability_1.5.1     
[31] nsyllable_1.0.1         Rcpp_1.0.13             assertthat_0.2.1       
[34] knitr_1.48              zoo_1.8-12              klippy_0.0.0.9500      
[37] splines_4.4.1           tidyselect_1.2.1        abind_1.4-8            
[40] yaml_2.3.10             codetools_0.2-20        lattice_0.22-6         
[43] tibble_3.2.1            plyr_1.8.9              withr_3.0.2            
[46] askpass_1.2.1           coda_0.19-4.1           evaluate_1.0.1         
[49] survival_3.7-0          ggstats_0.7.0           zip_2.3.1              
[52] xml2_1.3.6              ggpubr_0.6.0            pillar_1.9.0           
[55] carData_3.0-5           janeaustenr_1.0.0       DT_0.33                
[58] generics_0.1.3          munsell_0.5.1           scales_1.3.0           
[61] xtable_1.8-4            leaps_3.2               glue_1.8.0             
[64] slam_0.1-54             gdtools_0.4.0           emmeans_1.10.5         
[67] scatterplot3d_0.3-44    tools_4.4.1             data.table_1.16.2      
[70] tokenizers_0.3.0        ggsignif_0.6.4          mvtnorm_1.3-1          
[73] fastmatch_1.1-4         grid_4.4.1              tidyr_1.3.1            
[76] colorspace_2.1-1        Formula_1.2-5           cli_3.6.3              
[79] textshaping_0.4.0       officer_0.6.7           fontBitstreamVera_0.1.1
[82] fansi_1.0.6             gtable_0.3.6            rstatix_0.7.2          
[85] digest_0.6.37           fontquiver_0.2.1        ggrepel_0.9.6          
[88] TH.data_1.1-2           farver_2.1.2            htmlwidgets_1.6.4      
[91] htmltools_0.5.8.1       lifecycle_1.0.4         multcompView_0.1-10    
[94] fontLiberation_0.1.0    openssl_2.2.2           MASS_7.3-61            </code></pre>
</div>
</div>
<hr>
<p><a href="#Introduction">Back to top</a></p>
<p><a href="../..">Back to LADAL home</a></p>
<hr>
</section>
<section id="references" class="level1 unnumbered">
<h1 class="unnumbered">References</h1>


</section>
</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-quanteda" class="csl-entry" role="listitem">
Benoit, Kenneth, Kohei Watanabe, Haiyan Wang, Paul Nulty, Adam Obeng, Stefan Müller, and Akitaka Matsuo. <span>“Quanteda: An r Package for the Quantitative Analysis of Textual Data.”</span> <em>Journal of Open Source Software</em>. <a href="https://doi.org/10.21105/joss.00774">https://doi.org/10.21105/joss.00774</a>.
</div>
<div id="ref-ellis2007langac" class="csl-entry" role="listitem">
Ellis, Nick C. 2007. <span>“Language Acquisition as Rational Contingency Learning.”</span> <em>Applied Linguistics</em> 27 (1): 1–24. <a href="https://doi.org/10.1093/applin/ami038">https://doi.org/10.1093/applin/ami038</a>.
</div>
<div id="ref-gries201350" class="csl-entry" role="listitem">
Gries, Stefan Th. 2013. <span>“50-Something Years of Work on Collocations: What Is or Should Be Next….”</span> <em>International Journal of Corpus Linguistics</em> 18 (1): 137–66.
</div>
<div id="ref-gries2022some" class="csl-entry" role="listitem">
———. 2022. <span>“What Do (Some of) Our Association Measures Measure (Most)? Association?”</span> <em>Journal of Second Language Studies</em> 5 (1): 1–33.
</div>
<div id="ref-pedersen1998dependent" class="csl-entry" role="listitem">
Pedersen, Ted. 1998. <span>“Dependent Bigram Identification.”</span> <em>AAAI/IAAI</em> 1197.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>I’m extremely grateful to Joseph Flanagan who provided very helpful feedback and pointed out errors in previous versions of this tutorial. All remaining errors are, of course, my own.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>If you want to render the R Notebook on your machine, i.e.&nbsp;knitting the document to html or a pdf, you need to make sure that you have R and RStudio installed and you also need to download the <a href="../../assets/bibliography.bib"><strong>bibliography file</strong></a> and store it in the same folder where you store the Rmd file.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main></div>




 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
 <!-- /content -->




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>