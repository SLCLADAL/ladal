<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Schweinberger">

<title>Questionnaires and Surveys: Analyses with R – Language Technology and Data Analysis Laboratory (LADAL)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script>
    // Wait for the document to be fully loaded
    document.addEventListener("DOMContentLoaded", function () {
        // Create a new div element to hold the dynamic content
        var newContainer = document.createElement("div");
        newContainer.classList.add("custom-banner");  // You can assign a class to the new container for styling

        // You can also add content inside the new container
        newContainer.innerHTML = `
          <div class="banner">
              <img src="images/ladal_icon_white.png" alt="Icon" class="banner-icon">
              <span class="banner-text">Language Technology and Data Analysis Laboratory</span>
          </div>
      `

        // Select the header element
        var header = document.getElementById("quarto-header");

        // Select the nav element inside the header to place the new container just above it
        var navbar = header.querySelector("nav");

        // Insert the new container before the navbar element
        header.insertBefore(newContainer, navbar);
    });
</script>
<script src="../../site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="../../site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet">
<link href="../../site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet">
<script src="../../site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="../../site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="../../site_libs/tabwid-1.1.3/tabwid.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../css/styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Language Technology and Data Analysis Laboratory (LADAL)</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">ABOUT</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../events.html"> 
<span class="menu-text">EVENTS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials.html"> 
<span class="menu-text">TUTORIALS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tools.html"> 
<span class="menu-text">TOOLS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html"> 
<span class="menu-text">RESOURCES</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html"> 
<span class="menu-text">CONTACT</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#design-basics" id="toc-design-basics" class="nav-link" data-scroll-target="#design-basics">Design Basics</a></li>
  <li><a href="#things-to-consider" id="toc-things-to-consider" class="nav-link" data-scroll-target="#things-to-consider">Things to consider</a></li>
  <li><a href="#visualizing-survey-data" id="toc-visualizing-survey-data" class="nav-link" data-scroll-target="#visualizing-survey-data">Visualizing survey data</a>
  <ul class="collapse">
  <li><a href="#line-graphs-for-likert-scaled-data" id="toc-line-graphs-for-likert-scaled-data" class="nav-link" data-scroll-target="#line-graphs-for-likert-scaled-data">Line graphs for Likert-scaled data</a></li>
  <li><a href="#pie-charts" id="toc-pie-charts" class="nav-link" data-scroll-target="#pie-charts">Pie charts</a></li>
  <li><a href="#bar-plots" id="toc-bar-plots" class="nav-link" data-scroll-target="#bar-plots">Bar plots</a></li>
  </ul></li>
  <li><a href="#useful-statistics" id="toc-useful-statistics" class="nav-link" data-scroll-target="#useful-statistics">Useful statistics</a>
  <ul class="collapse">
  <li><a href="#evaluating-the-reliability-of-questions" id="toc-evaluating-the-reliability-of-questions" class="nav-link" data-scroll-target="#evaluating-the-reliability-of-questions">Evaluating the reliability of questions</a></li>
  <li><a href="#factor-analysis" id="toc-factor-analysis" class="nav-link" data-scroll-target="#factor-analysis">Factor analysis</a></li>
  <li><a href="#principle-component-analysis" id="toc-principle-component-analysis" class="nav-link" data-scroll-target="#principle-component-analysis">Principle component analysis</a></li>
  <li><a href="#ordinal-regression" id="toc-ordinal-regression" class="nav-link" data-scroll-target="#ordinal-regression">Ordinal Regression</a></li>
  </ul></li>
  <li><a href="#citation-session-info" id="toc-citation-session-info" class="nav-link" data-scroll-target="#citation-session-info">Citation &amp; Session Info</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Questionnaires and Surveys: Analyses with R</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Martin Schweinberger </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><img src="../../images/uq1.jpg" class="img-fluid" style="width:100.0%"></p>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This tutorial offers some advice on what to consider when creating surveys and questionnaires, provides tips on visualizing survey data, and exemplifies how survey and questionnaire data can be analyzed. As this tutorial is introductory, issues relating to what software to use when creating a survey (e.g.&nbsp;SurveyMonkey, Qualtrics, GoogleForms, etc.) or how to program questionnaires or online experiments in Java or R are not discussed.</p>
<p><img src="../../images/gy_chili.png" class="img-fluid" style="float:right; padding:10px;width:15.0%"></p>
<p>This tutorial is aimed at beginners and intermediate users of R with the aim of showcasing how to visualize and analyze survey and questionnaire data using R. The aim is not to provide a fully-fledged analysis but rather to show and exemplify selected useful methods associated with surveys and questionnaires.</p>
<div class="warning" style="padding:0.1em; background-color:#f2f2f2; color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
The entire R Notebook for the tutorial can be downloaded <a href="tutorials/surveys/surveys.Rmd">here</a>. If you want to render the R Notebook on your machine, i.e.&nbsp;knitting the document to html or a pdf, you need to make sure that you have R and RStudio installed and you also need to download the <a href="../../assets/bibliography.bib"><strong>bibliography file</strong></a> and store it in the same folder where you store the Rmd file. <br>
</p>
<p style="margin-left:1em;">
</p>
<p></p>
</span></div>
<p><br></p>
<p><strong>How to use the R Notebook for this tutorial</strong></p>
<p>As all calculations and visualizations in this tutorial rely on R, it is necessary to install R and RStudio. If these programs (or, in the case of R, environments) are not already installed on your machine, please search for them in your favorite search engine and add the term “download”. Open any of the first few links and follow the installation instructions (they are easy to follow, do not require any specifications, and are pretty much self-explanatory).</p>
<p>To follow this tutorial interactively (by using the R Notebook), follow the instructions listed below.</p>
<ol type="1">
<li>Create a folder somewhere on your computer</li>
<li>Download the <a href="tutorials/surveys/surveys.Rmd">R Notebook</a> and save it in the folder you have just created</li>
<li>Open R Studio</li>
<li>Click on “File” in the upper left corner of the R Studio interface</li>
<li>Click on “New Project…”</li>
<li>Select „Existing Directory“</li>
<li>Browse to the folder you have just created and click on “Create New Project”</li>
<li>Now click on “Files” above the lower right panel</li>
<li>Click on the file “surveys.Rmd”</li>
</ol>
<ul>
<li>The Markdown file of this tutorial should now be open in the upper left panel of R Studio. To execute the code blocks used in this session, simply click on the green arrows in the top right corner of the code boxes.</li>
<li>To render a PDF of this tutorial, simply click on “Knit” above the upper left panel in R Studio.</li>
</ul>
</section>
<section id="design-basics" class="level1">
<h1>Design Basics</h1>
<p>A survey is a research method for gathering information based on a sample of people. Questionnaires are a research instrument and typically represent a part of a survey, i.e.&nbsp;that part where participants are asked to answer a set of questions. <span class="citation" data-cites="brown2001surveys">(<a href="#ref-brown2001surveys" role="doc-biblioref">Brown, 6</a>)</span> defines questionnaires as “any written instruments that present respondents with a series of questions or statements to which they are to react either by writing out their answers or selecting among existing answers.”</p>
<p>Questionnaires elicit three types of data:</p>
<ul>
<li>Factual</li>
<li>Behavioral</li>
<li>Attitudinal</li>
</ul>
<p>While factual and behavioral questions are about what the respondent is and does, attitudinal questions tap into what the respondent thinks or feels.</p>
<p>The advantages of surveys are that they * offer a relative cheap, quick, and effective way to collect (targeted) data from a comparatively large set of people; and * that they can be distributed or carried out in various formats (face-to-face, by telephone, by computer or via social media, or by postal service).</p>
<p>Disadvantages of questionnaires are that they are prone to providing unreliable or unnatural data. Data gathered via surveys can be unreliable due to the social desirability bias which is the tendency of respondents to answer questions in a manner that will be viewed favorably by others. Thus, the data that surveys provide may not necessarily be representative of actual natural behavior.</p>
<p>Questionnaires and surveys are widely used in language research and thus one of the most common research designs. In this section, we will discuss what needs to kept in mind when designing questionnaires and surveys, what pieces of software or platforms one can use, options for visualizing questionnaire and survey data, statistical methods that are used to evaluate questionnaire and survey data (reliability), and which statistical methods are used in analyzing the data.</p>
</section>
<section id="things-to-consider" class="level1">
<h1>Things to consider</h1>
<p>Here are some rules to consider during the creation of questionnaires and before any survey is distributed.</p>
<ul>
<li><p>Surveys should not be longer than they have to be while they have to be long enough to collect all the data that are needed. It is crucial that a questionnaire collects all necessary data (including socio-demographic details).</p></li>
<li><p>The language should be simple and easy to understand - this means that jargon should be avoided. Also, leading questions and value judgement on the side of the creators of questionnaires should be avoided to prevent social desirability bias.</p></li>
<li><p>Before distributing a questionnaire, it should be piloted. Piloting is essential to check if respondents understand the questions as intended, and to check how long it takes to answer the questions. Also, the people who are involved in the piloting should be allowed to provide feedback to avoid errors.</p></li>
<li><p>When questions go beyond simply collecting socio-demographic details and if the data contains test and filler items, the order of questions (within blocks) should be quasi-randomized. Quasi-randomization means that test items are not asked in direct succession and that they do not appear as first or last items. Quasi-randomization helps to avoid fatigue effects or results that are caused by the ordering of questions. However, the questions should still follow an internally consistent logic so that related questions appear in the same block. Also, more specific questions should be asked after more general questions.</p></li>
<li><p>Questions must be unambiguous and they cannot ask multiple aspects at once. Take, for instance, the following question “Do you consider UQ to be a good university with respect to teaching and research?” If the respondent answers positively, then no issues arise but if the answer is negative, i.e.&nbsp;“No”, then we do not know if the respondent thinks that UQ is not a good university with respect to teaching OR with respect to research OR both! In such cases, questions should be split:</p>
<ul>
<li><p>Do you consider UQ to be a good university with respect to teaching?</p></li>
<li><p>Do you consider UQ to be a good university with respect to research?”</p></li>
</ul></li>
<li><p>To check if respondents are concentrated, read the questions carefully, and answering truthfully, it is useful to include reverse questions, i.e.&nbsp;questions that have the opposite polarity. Reverse questions allow to check if respondents only answers “very satisfied” or “completely agree” without respect to the content of the question. Giving the same answer to questions which have opposite propositions would indicate that respondents do not read questions carefully or do not answer truthfully.</p></li>
<li><p>If questions are not open or unstructured, i.e.&nbsp;if different options to answer to a question are provided, it is crucial that the options are fine-grained enough so that the data that is collected allows us to answer the research question that we want to investigate. In this context, the scaling of answer options is important. Scales reflect different types of answering options and they come in three basic forms: nominal and categorical, ordinal, or numeric.</p>
<ul>
<li><p><em>Nominal and categorical scales</em>: Nominal and categorical scales only list the membership of a particular class. Nominal scales offer exactly two options (yes/no or on/off), while categorical scales offer several options (e.g.&nbsp;the state in which someone was born).</p></li>
<li><p><em>Ordinal scales</em>: With <em>ordinal scales</em> it is possible to rank the values, but the distances between the ranks can not be exactly quantified. An example of an ordinal scales is the ranking in a 100-meter run. The 2nd in a 100-meter run did not go twice as fast as the 4th. It is often the case that ordinal variables consist of integer, positive numbers (1, 2, 3, 4, etc.). In the context of surveys, ordinal scales are the most important as all Likert scales (after the psychologist Rensis Likert) are ordinal scales. The levels of the typical five-level Likert item could be: <em>Strongly disagree (1)</em>, <em>Disagree (2) </em>, <em>Neither agree nor disagree (3)</em>, <em>Agree (4)</em>, and <em>Strongly agree (5)</em>. As such, the Likert scale is a bipolar scale that can be balanced, if there is an uneven number of options with the center option being neutral, or unbalanced, if there are an even number of options which forces respondents to express a preferences for wither of the two poles (this is called a “forced choice” method.</p></li>
<li><p><em>(True) Numeric scales</em>: There are two basic types of numeric scales: <em>interval-scales</em> and <em>ratio-scales</em>. For <em>interval scales</em>, the differences between levels are significant, but not the relationship between levels. For instance, 20 degree Celsius is not twice as hot as 10 degree Celsius. For <em>ratio-scales</em> both the differences and the relationships between the levels are significant (e.g.&nbsp;the times in a 100-meter dash: 10 is exactly twice as high as 5 and half as much as 20).</p></li>
</ul></li>
</ul>
<p>Of these scales, numeric is the most informative and questionnaires should always aim to extract the most detailed information without becoming to long.</p>
</section>
<section id="visualizing-survey-data" class="level1">
<h1>Visualizing survey data</h1>
<p>Just as the data that is provided by surveys and questionnaires can take various forms, there are numerous ways to display survey data. In the following, we will have a look at some of the most common or useful ways in which survey and questionnaire data can be visualized. However, before we can begin, we need to set up our R session as shown below.</p>
<p><strong>Preparation and session set up</strong></p>
<p>To run the scripts shown below without errors, certain <em>packages</em> need to be installed from an R <em>library</em>. Before turning to the code below, please install the packages by running the code below this paragraph. If you have already installed the packages mentioned below, then you can skip ahead ignore this section. To install the necessary packages, simply run the following code - it may take some time (between 1 and 5 minutes to install all of the libraries so you do not need to worry if it takes some time).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"knitr"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"lattice"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"likert"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"MASS"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"psych"</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"viridis"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"here"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"flextable"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"devtools"</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"GPArotation"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># devtools::install_github("matherion/userfriendlyscience", dependencies=T)</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ufs"</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># install klippy for copy-to-clipboard button in code chunks</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"rlesur/klippy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can now activate the packages by running the code chunk below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set options</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors =</span> F) <span class="co"># no automatic data transformation</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="st">"scipen"</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="st">"digits"</span> <span class="ot">=</span> <span class="dv">4</span>) <span class="co"># suppress math annotation</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install packages</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lattice)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(likert)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># library(userfriendlyscience)</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># activate klippy for copy-to-clipboard button</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>klippy<span class="sc">::</span><span class="fu">klippy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
</div>
</div>
<p>Once you have installed R, RStudio, and have also initiated the session by executing the code shown above, you are good to go.</p>
<section id="line-graphs-for-likert-scaled-data" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="line-graphs-for-likert-scaled-data">Line graphs for Likert-scaled data</h2>
<p>A special case of line graphs is used when dealing with Likert-scaled variables (we will talk about Likert scales in more detail below). In such cases, the line graph displays the density of cumulative frequencies of responses. The difference between the cumulative frequencies of responses displays differences in preferences. We will only focus on how to create such graphs using the <code>ggplot</code> environment here as it has an in-build function (<code>ecdf</code>) which is designed to handle such data.</p>
<p>In a first step, we load a data set (ldat) which contains Likert-scaled variables. This data set represents fictitious rating of students from courses about how satisfied they were with their learning experience. The response to the Likert item is numeric so that <em>strongly disagree/very dissatisfied</em> would get the lowest (1) and <em>strongly agree/very satisfied</em> the highest numeric value (5).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define color vectors</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>clrs3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"firebrick4"</span>, <span class="st">"gray70"</span>, <span class="st">"darkblue"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>clrs5 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"firebrick4"</span>, <span class="st">"firebrick1"</span>, <span class="st">"gray70"</span>, <span class="st">"blue"</span>, <span class="st">"darkblue"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># load data</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>ldat <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">readRDS</span>(<span class="st">"tutorials/surveys/data/lid.rda"</span>, <span class="st">"rb"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s briefly inspect the <code>ldat</code> data set.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-60223da4{table-layout:auto;width:50%;}.cl-601eb5ee{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-601eb620{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-602043aa{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-602043b4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6020526e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6020526f{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60205278{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60205279{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6020527a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60205282{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60205283{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60205284{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-60223da4"><thead><tr style="overflow-wrap:break-word;"><th class="cl-6020526e"><p class="cl-602043aa"><span class="cl-601eb5ee">Course</span></p></th><th class="cl-6020526f"><p class="cl-602043b4"><span class="cl-601eb5ee">Satisfaction</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-60205278"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205279"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6020527a"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205282"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60205278"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205279"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6020527a"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205282"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60205278"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205279"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6020527a"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205282"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60205278"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205279"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6020527a"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205282"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60205278"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205279"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60205283"><p class="cl-602043aa"><span class="cl-601eb620">Chinese</span></p></td><td class="cl-60205284"><p class="cl-602043b4"><span class="cl-601eb620">1</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>The ldat data set has only two columns: a column labeled <em>Course</em> which has three levels (<em>German</em>, <em>Japanese</em>, and <em>Chinese</em>) and a column labeled <em>Satisfaction</em> which contains values from 1 to 5 which represent values ranging from <em>very dissatisfied</em> to <em>very satisfied</em>. Now that we have data resembling a Likert-scaled item from a questionnaire, we will display the data in a cumulative line graph.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create cumulative density plot</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>ldat <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Satisfaction, <span class="at">color =</span> Course)) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_step</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..y..), <span class="at">stat =</span> <span class="st">"ecdf"</span>) <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Cumulative Density"</span>) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span>, <span class="st">"5"</span>),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"very dissatisfied"</span>, <span class="st">"dissatisfied"</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"neutral"</span>, <span class="st">"satisfied"</span>, <span class="st">"very satisfied"</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> clrs3) <span class="sc">+</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="surveys_files/figure-html/line_03-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The satisfaction of the German course was the lowest as the red line shows the highest density (frequency of responses) of <em>very dissatisfied</em> and <em>dissatisfied</em> ratings. The students in our fictitious data set were most satisfied with the Chinese course as the blue line is the lowest for <em>very dissatisfied</em> and “dissatisfied” ratings while the difference between the courses shrinks for “satisfied” and <em>very satisfied</em>. The Japanese language course is in-between the German and the Chinese course.</p>
</section>
<section id="pie-charts" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="pie-charts">Pie charts</h2>
<p>Most commonly, the data for visualization comes from tables of absolute frequencies associated with a categorical or nominal variable. The default way to visualize such frequency tables are pie charts and bar plots. In a first step, we modify the data to get counts and percentages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create bar plot data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>bdat <span class="ot">&lt;-</span> ldat <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Satisfaction) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">Frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percent =</span> <span class="fu">round</span>(Frequency <span class="sc">/</span> <span class="fu">sum</span>(Frequency) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># order the levels of Satisfaction manually so that the order is not alphabetical</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Satisfaction =</span> <span class="fu">factor</span>(Satisfaction,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"very dissatisfied"</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"dissatisfied"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"neutral"</span>,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"satisfied"</span>,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"very satisfied"</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s briefly inspect the new data set.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-6049d4c2{table-layout:auto;width:50%;}.cl-6046faae{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6046fab8{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-60481ca4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-60481cae{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-60482c94{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482c9e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482c9f{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482ca8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482ca9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482caa{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482cab{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482cb2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482cb3{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482cb4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482cbc{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60482cbd{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-6049d4c2"><thead><tr style="overflow-wrap:break-word;"><th class="cl-60482c94"><p class="cl-60481ca4"><span class="cl-6046faae">Satisfaction</span></p></th><th class="cl-60482c9e"><p class="cl-60481cae"><span class="cl-6046faae">Frequency</span></p></th><th class="cl-60482c9f"><p class="cl-60481cae"><span class="cl-6046faae">Percent</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-60482ca8"><p class="cl-60481ca4"><span class="cl-6046fab8">very dissatisfied</span></p></td><td class="cl-60482ca9"><p class="cl-60481cae"><span class="cl-6046fab8">70</span></p></td><td class="cl-60482caa"><p class="cl-60481cae"><span class="cl-6046fab8">23.3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60482cab"><p class="cl-60481ca4"><span class="cl-6046fab8">dissatisfied</span></p></td><td class="cl-60482cb2"><p class="cl-60481cae"><span class="cl-6046fab8">70</span></p></td><td class="cl-60482cb3"><p class="cl-60481cae"><span class="cl-6046fab8">23.3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60482ca8"><p class="cl-60481ca4"><span class="cl-6046fab8">neutral</span></p></td><td class="cl-60482ca9"><p class="cl-60481cae"><span class="cl-6046fab8">60</span></p></td><td class="cl-60482caa"><p class="cl-60481cae"><span class="cl-6046fab8">20.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60482cab"><p class="cl-60481ca4"><span class="cl-6046fab8">satisfied</span></p></td><td class="cl-60482cb2"><p class="cl-60481cae"><span class="cl-6046fab8">50</span></p></td><td class="cl-60482cb3"><p class="cl-60481cae"><span class="cl-6046fab8">16.7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60482cb4"><p class="cl-60481ca4"><span class="cl-6046fab8">very satisfied</span></p></td><td class="cl-60482cbc"><p class="cl-60481cae"><span class="cl-6046fab8">50</span></p></td><td class="cl-60482cbd"><p class="cl-60481cae"><span class="cl-6046fab8">16.7</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Before creating bar plots, we will briefly turn to pie charts because pie charts are very common despite suffering from certain shortcomings. Consider the following example which highlights some of the issues that arise when using pie charts.</p>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create pie chart</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>bdat <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="st">""</span>, Percent, <span class="at">fill =</span> Satisfaction)) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> clrs5) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="surveys_files/figure-html/pie_03-1.png" class="img-fluid" width="672"></p>
<p>If the slices of the pie chart are not labelled, it is difficult to see which slices are smaller or bigger compared to other slices. This problem can easily be avoided when using a bar plot instead. This issue can be avoided by adding labels to pie charts. The labeling of pie charts is, however, somewhat tedious as the positioning is tricky. Below is an example for adding labels without specification.</p>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create pie chart</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>bdat <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="st">""</span>, Percent, <span class="at">fill =</span> Satisfaction)) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> clrs5) <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> Percent, <span class="at">label =</span> Percent), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="surveys_files/figure-html/pie_05-1.png" class="img-fluid" width="672"></p>
<p>To place the labels where they make sense, we will add another variable to the data called “Position”.</p>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>pdat <span class="ot">&lt;-</span> bdat <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(Satisfaction)) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Position =</span> <span class="fu">cumsum</span>(Percent) <span class="sc">-</span> <span class="fl">0.5</span> <span class="sc">*</span> Percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s briefly inspect the new data set.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-6087176a{table-layout:auto;width:50%;}.cl-60843ec8{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-60843ed2{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-60856514{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-60856515{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-60857338{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60857339{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60857342{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60857343{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6085734c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6085734d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60857356{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60857357{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60857358{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60857360{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60857361{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60857362{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-6087176a"><thead><tr style="overflow-wrap:break-word;"><th class="cl-60857338"><p class="cl-60856514"><span class="cl-60843ec8">Satisfaction</span></p></th><th class="cl-60857339"><p class="cl-60856515"><span class="cl-60843ec8">Frequency</span></p></th><th class="cl-60857339"><p class="cl-60856515"><span class="cl-60843ec8">Percent</span></p></th><th class="cl-60857342"><p class="cl-60856515"><span class="cl-60843ec8">Position</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-60857343"><p class="cl-60856514"><span class="cl-60843ed2">very satisfied</span></p></td><td class="cl-6085734c"><p class="cl-60856515"><span class="cl-60843ed2">50</span></p></td><td class="cl-6085734c"><p class="cl-60856515"><span class="cl-60843ed2">16.7</span></p></td><td class="cl-6085734d"><p class="cl-60856515"><span class="cl-60843ed2">8.35</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60857356"><p class="cl-60856514"><span class="cl-60843ed2">satisfied</span></p></td><td class="cl-60857357"><p class="cl-60856515"><span class="cl-60843ed2">50</span></p></td><td class="cl-60857357"><p class="cl-60856515"><span class="cl-60843ed2">16.7</span></p></td><td class="cl-60857358"><p class="cl-60856515"><span class="cl-60843ed2">25.05</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60857343"><p class="cl-60856514"><span class="cl-60843ed2">neutral</span></p></td><td class="cl-6085734c"><p class="cl-60856515"><span class="cl-60843ed2">60</span></p></td><td class="cl-6085734c"><p class="cl-60856515"><span class="cl-60843ed2">20.0</span></p></td><td class="cl-6085734d"><p class="cl-60856515"><span class="cl-60843ed2">43.40</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60857356"><p class="cl-60856514"><span class="cl-60843ed2">dissatisfied</span></p></td><td class="cl-60857357"><p class="cl-60856515"><span class="cl-60843ed2">70</span></p></td><td class="cl-60857357"><p class="cl-60856515"><span class="cl-60843ed2">23.3</span></p></td><td class="cl-60857358"><p class="cl-60856515"><span class="cl-60843ed2">65.05</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60857360"><p class="cl-60856514"><span class="cl-60843ed2">very dissatisfied</span></p></td><td class="cl-60857361"><p class="cl-60856515"><span class="cl-60843ed2">70</span></p></td><td class="cl-60857361"><p class="cl-60856515"><span class="cl-60843ed2">23.3</span></p></td><td class="cl-60857362"><p class="cl-60856515"><span class="cl-60843ed2">88.35</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Now that we have specified the position, we can include it into the pie chart.</p>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create pie chart</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>pdat <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="st">""</span>, Percent, <span class="at">fill =</span> Satisfaction)) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> clrs5) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> Position, <span class="at">label =</span> Percent), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="surveys_files/figure-html/pie_09-1.png" class="img-fluid" width="672"></p>
<p>We will now create separate pie charts for each course. In a first step, we create a data set that does not only contain the Satisfaction levels and their frequency but also the course.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create grouped pie data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>gldat <span class="ot">&lt;-</span> ldat <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Course, Satisfaction) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">Frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Percent =</span> <span class="fu">round</span>(Frequency <span class="sc">/</span> <span class="fu">sum</span>(Frequency) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Satisfaction =</span> <span class="fu">factor</span>(Satisfaction,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"very dissatisfied"</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"dissatisfied"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"neutral"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"satisfied"</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"very satisfied"</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(Satisfaction)) <span class="sc">%&gt;%</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Position =</span> <span class="fu">cumsum</span>(Percent) <span class="sc">-</span> <span class="fl">0.5</span> <span class="sc">*</span> Percent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s briefly inspect the new data set.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-60aa47b2{table-layout:auto;width:50%;}.cl-60a65436{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-60a65440{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-60a84106{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-60a84110{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-60a8511e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85128{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85129{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a8512a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85132{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85133{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85134{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85135{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a8513c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a8513d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a8513e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a8513f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85146{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85147{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85148{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60a85149{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-60aa47b2"><thead><tr style="overflow-wrap:break-word;"><th class="cl-60a8511e"><p class="cl-60a84106"><span class="cl-60a65436">Course</span></p></th><th class="cl-60a85128"><p class="cl-60a84106"><span class="cl-60a65436">Satisfaction</span></p></th><th class="cl-60a85129"><p class="cl-60a84110"><span class="cl-60a65436">Frequency</span></p></th><th class="cl-60a85129"><p class="cl-60a84110"><span class="cl-60a65436">Percent</span></p></th><th class="cl-60a8512a"><p class="cl-60a84110"><span class="cl-60a65436">Position</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-60a85132"><p class="cl-60a84106"><span class="cl-60a65440">Chinese</span></p></td><td class="cl-60a85133"><p class="cl-60a84106"><span class="cl-60a65440">very satisfied</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">15</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">15</span></p></td><td class="cl-60a85135"><p class="cl-60a84110"><span class="cl-60a65440">7.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a8513c"><p class="cl-60a84106"><span class="cl-60a65440">German</span></p></td><td class="cl-60a8513d"><p class="cl-60a84106"><span class="cl-60a65440">very satisfied</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">5</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">5</span></p></td><td class="cl-60a8513f"><p class="cl-60a84110"><span class="cl-60a65440">2.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a85132"><p class="cl-60a84106"><span class="cl-60a65440">Japanese</span></p></td><td class="cl-60a85133"><p class="cl-60a84106"><span class="cl-60a65440">very satisfied</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">30</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">30</span></p></td><td class="cl-60a85135"><p class="cl-60a84110"><span class="cl-60a65440">15.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a8513c"><p class="cl-60a84106"><span class="cl-60a65440">Chinese</span></p></td><td class="cl-60a8513d"><p class="cl-60a84106"><span class="cl-60a65440">satisfied</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">10</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">10</span></p></td><td class="cl-60a8513f"><p class="cl-60a84110"><span class="cl-60a65440">20.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a85132"><p class="cl-60a84106"><span class="cl-60a65440">German</span></p></td><td class="cl-60a85133"><p class="cl-60a84106"><span class="cl-60a65440">satisfied</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">15</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">15</span></p></td><td class="cl-60a85135"><p class="cl-60a84110"><span class="cl-60a65440">12.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a8513c"><p class="cl-60a84106"><span class="cl-60a65440">Japanese</span></p></td><td class="cl-60a8513d"><p class="cl-60a84106"><span class="cl-60a65440">satisfied</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">25</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">25</span></p></td><td class="cl-60a8513f"><p class="cl-60a84110"><span class="cl-60a65440">42.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a85132"><p class="cl-60a84106"><span class="cl-60a65440">Chinese</span></p></td><td class="cl-60a85133"><p class="cl-60a84106"><span class="cl-60a65440">neutral</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">25</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">25</span></p></td><td class="cl-60a85135"><p class="cl-60a84110"><span class="cl-60a65440">37.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a8513c"><p class="cl-60a84106"><span class="cl-60a65440">German</span></p></td><td class="cl-60a8513d"><p class="cl-60a84106"><span class="cl-60a65440">neutral</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">15</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">15</span></p></td><td class="cl-60a8513f"><p class="cl-60a84110"><span class="cl-60a65440">27.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a85132"><p class="cl-60a84106"><span class="cl-60a65440">Japanese</span></p></td><td class="cl-60a85133"><p class="cl-60a84106"><span class="cl-60a65440">neutral</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">20</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">20</span></p></td><td class="cl-60a85135"><p class="cl-60a84110"><span class="cl-60a65440">65.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a8513c"><p class="cl-60a84106"><span class="cl-60a65440">Chinese</span></p></td><td class="cl-60a8513d"><p class="cl-60a84106"><span class="cl-60a65440">dissatisfied</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">30</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">30</span></p></td><td class="cl-60a8513f"><p class="cl-60a84110"><span class="cl-60a65440">65.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a85132"><p class="cl-60a84106"><span class="cl-60a65440">German</span></p></td><td class="cl-60a85133"><p class="cl-60a84106"><span class="cl-60a65440">dissatisfied</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">25</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">25</span></p></td><td class="cl-60a85135"><p class="cl-60a84110"><span class="cl-60a65440">47.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a8513c"><p class="cl-60a84106"><span class="cl-60a65440">Japanese</span></p></td><td class="cl-60a8513d"><p class="cl-60a84106"><span class="cl-60a65440">dissatisfied</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">15</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">15</span></p></td><td class="cl-60a8513f"><p class="cl-60a84110"><span class="cl-60a65440">82.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a85132"><p class="cl-60a84106"><span class="cl-60a65440">Chinese</span></p></td><td class="cl-60a85133"><p class="cl-60a84106"><span class="cl-60a65440">very dissatisfied</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">20</span></p></td><td class="cl-60a85134"><p class="cl-60a84110"><span class="cl-60a65440">20</span></p></td><td class="cl-60a85135"><p class="cl-60a84110"><span class="cl-60a65440">90.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a8513c"><p class="cl-60a84106"><span class="cl-60a65440">German</span></p></td><td class="cl-60a8513d"><p class="cl-60a84106"><span class="cl-60a65440">very dissatisfied</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">40</span></p></td><td class="cl-60a8513e"><p class="cl-60a84110"><span class="cl-60a65440">40</span></p></td><td class="cl-60a8513f"><p class="cl-60a84110"><span class="cl-60a65440">80.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60a85146"><p class="cl-60a84106"><span class="cl-60a65440">Japanese</span></p></td><td class="cl-60a85147"><p class="cl-60a84106"><span class="cl-60a65440">very dissatisfied</span></p></td><td class="cl-60a85148"><p class="cl-60a84110"><span class="cl-60a65440">10</span></p></td><td class="cl-60a85148"><p class="cl-60a84110"><span class="cl-60a65440">10</span></p></td><td class="cl-60a85149"><p class="cl-60a84110"><span class="cl-60a65440">95.0</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Now that we have created the data, we can plot separate pie charts for each course.</p>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create pie chart</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>gldat <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="st">""</span>, Percent, <span class="at">fill =</span> Satisfaction)) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Course) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">"y"</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> clrs5) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> Position, <span class="at">label =</span> Percent), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="surveys_files/figure-html/pie_15-1.png" class="img-fluid" width="672"></p>
</section>
<section id="bar-plots" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="bar-plots">Bar plots</h2>
<p>Like pie charts, bar plot display frequency information across categorical variable levels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bar plot</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>bdat <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Satisfaction, Percent, <span class="at">fill =</span> Satisfaction)) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># determine type of plot</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># use black &amp; white theme</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add and define text</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> Percent <span class="sc">-</span> <span class="dv">5</span>, <span class="at">label =</span> Percent), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add colors</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> clrs5) <span class="sc">+</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># suppress legend</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="surveys_files/figure-html/bar_01-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Compared with the pie chart, it is much easier to grasp the relative size and order of the percentage values which shows that pie charts are unfit to show relationships between elements in a graph and, as a general rule of thumb, should be avoided.</p>
<p>Bar plots can be grouped which adds another layer of information that is particularly useful when dealing with frequency counts across multiple categorical variables. But before we can create grouped bar plots, we need to create an appropriate data set.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create bar plot data</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>gldat <span class="ot">&lt;-</span> ldat <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(Course, Satisfaction) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">Frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Percent =</span> <span class="fu">round</span>(Frequency <span class="sc">/</span> <span class="fu">sum</span>(Frequency) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Satisfaction =</span> <span class="fu">factor</span>(Satisfaction,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"very dissatisfied"</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"dissatisfied"</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"neutral"</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"satisfied"</span>,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"very satisfied"</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s briefly inspect the data set.</p>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-60e16f94{table-layout:auto;width:50%;}.cl-60dd9a68{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-60dd9a72{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-60ded464{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-60ded46e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-60dee292{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee29c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee29d{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2a6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2a7{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2b0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2ba{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2bb{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2bc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2bd{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2c4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2c5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2c6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2ce{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2d8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-60dee2d9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-60e16f94"><thead><tr style="overflow-wrap:break-word;"><th class="cl-60dee292"><p class="cl-60ded464"><span class="cl-60dd9a68">Course</span></p></th><th class="cl-60dee29c"><p class="cl-60ded464"><span class="cl-60dd9a68">Satisfaction</span></p></th><th class="cl-60dee29d"><p class="cl-60ded46e"><span class="cl-60dd9a68">Frequency</span></p></th><th class="cl-60dee2a6"><p class="cl-60ded46e"><span class="cl-60dd9a68">Percent</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-60dee2a7"><p class="cl-60ded464"><span class="cl-60dd9a72">Chinese</span></p></td><td class="cl-60dee2b0"><p class="cl-60ded464"><span class="cl-60dd9a72">very dissatisfied</span></p></td><td class="cl-60dee2ba"><p class="cl-60ded46e"><span class="cl-60dd9a72">20</span></p></td><td class="cl-60dee2bb"><p class="cl-60ded46e"><span class="cl-60dd9a72">20</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2bc"><p class="cl-60ded464"><span class="cl-60dd9a72">Chinese</span></p></td><td class="cl-60dee2bd"><p class="cl-60ded464"><span class="cl-60dd9a72">dissatisfied</span></p></td><td class="cl-60dee2c4"><p class="cl-60ded46e"><span class="cl-60dd9a72">30</span></p></td><td class="cl-60dee2c5"><p class="cl-60ded46e"><span class="cl-60dd9a72">30</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2a7"><p class="cl-60ded464"><span class="cl-60dd9a72">Chinese</span></p></td><td class="cl-60dee2b0"><p class="cl-60ded464"><span class="cl-60dd9a72">neutral</span></p></td><td class="cl-60dee2ba"><p class="cl-60ded46e"><span class="cl-60dd9a72">25</span></p></td><td class="cl-60dee2bb"><p class="cl-60ded46e"><span class="cl-60dd9a72">25</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2bc"><p class="cl-60ded464"><span class="cl-60dd9a72">Chinese</span></p></td><td class="cl-60dee2bd"><p class="cl-60ded464"><span class="cl-60dd9a72">satisfied</span></p></td><td class="cl-60dee2c4"><p class="cl-60ded46e"><span class="cl-60dd9a72">10</span></p></td><td class="cl-60dee2c5"><p class="cl-60ded46e"><span class="cl-60dd9a72">10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2a7"><p class="cl-60ded464"><span class="cl-60dd9a72">Chinese</span></p></td><td class="cl-60dee2b0"><p class="cl-60ded464"><span class="cl-60dd9a72">very satisfied</span></p></td><td class="cl-60dee2ba"><p class="cl-60ded46e"><span class="cl-60dd9a72">15</span></p></td><td class="cl-60dee2bb"><p class="cl-60ded46e"><span class="cl-60dd9a72">15</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2bc"><p class="cl-60ded464"><span class="cl-60dd9a72">German</span></p></td><td class="cl-60dee2bd"><p class="cl-60ded464"><span class="cl-60dd9a72">very dissatisfied</span></p></td><td class="cl-60dee2c4"><p class="cl-60ded46e"><span class="cl-60dd9a72">40</span></p></td><td class="cl-60dee2c5"><p class="cl-60ded46e"><span class="cl-60dd9a72">40</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2a7"><p class="cl-60ded464"><span class="cl-60dd9a72">German</span></p></td><td class="cl-60dee2b0"><p class="cl-60ded464"><span class="cl-60dd9a72">dissatisfied</span></p></td><td class="cl-60dee2ba"><p class="cl-60ded46e"><span class="cl-60dd9a72">25</span></p></td><td class="cl-60dee2bb"><p class="cl-60ded46e"><span class="cl-60dd9a72">25</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2bc"><p class="cl-60ded464"><span class="cl-60dd9a72">German</span></p></td><td class="cl-60dee2bd"><p class="cl-60ded464"><span class="cl-60dd9a72">neutral</span></p></td><td class="cl-60dee2c4"><p class="cl-60ded46e"><span class="cl-60dd9a72">15</span></p></td><td class="cl-60dee2c5"><p class="cl-60ded46e"><span class="cl-60dd9a72">15</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2a7"><p class="cl-60ded464"><span class="cl-60dd9a72">German</span></p></td><td class="cl-60dee2b0"><p class="cl-60ded464"><span class="cl-60dd9a72">satisfied</span></p></td><td class="cl-60dee2ba"><p class="cl-60ded46e"><span class="cl-60dd9a72">15</span></p></td><td class="cl-60dee2bb"><p class="cl-60ded46e"><span class="cl-60dd9a72">15</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2bc"><p class="cl-60ded464"><span class="cl-60dd9a72">German</span></p></td><td class="cl-60dee2bd"><p class="cl-60ded464"><span class="cl-60dd9a72">very satisfied</span></p></td><td class="cl-60dee2c4"><p class="cl-60ded46e"><span class="cl-60dd9a72">5</span></p></td><td class="cl-60dee2c5"><p class="cl-60ded46e"><span class="cl-60dd9a72">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2a7"><p class="cl-60ded464"><span class="cl-60dd9a72">Japanese</span></p></td><td class="cl-60dee2b0"><p class="cl-60ded464"><span class="cl-60dd9a72">very dissatisfied</span></p></td><td class="cl-60dee2ba"><p class="cl-60ded46e"><span class="cl-60dd9a72">10</span></p></td><td class="cl-60dee2bb"><p class="cl-60ded46e"><span class="cl-60dd9a72">10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2bc"><p class="cl-60ded464"><span class="cl-60dd9a72">Japanese</span></p></td><td class="cl-60dee2bd"><p class="cl-60ded464"><span class="cl-60dd9a72">dissatisfied</span></p></td><td class="cl-60dee2c4"><p class="cl-60ded46e"><span class="cl-60dd9a72">15</span></p></td><td class="cl-60dee2c5"><p class="cl-60ded46e"><span class="cl-60dd9a72">15</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2a7"><p class="cl-60ded464"><span class="cl-60dd9a72">Japanese</span></p></td><td class="cl-60dee2b0"><p class="cl-60ded464"><span class="cl-60dd9a72">neutral</span></p></td><td class="cl-60dee2ba"><p class="cl-60ded46e"><span class="cl-60dd9a72">20</span></p></td><td class="cl-60dee2bb"><p class="cl-60ded46e"><span class="cl-60dd9a72">20</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2bc"><p class="cl-60ded464"><span class="cl-60dd9a72">Japanese</span></p></td><td class="cl-60dee2bd"><p class="cl-60ded464"><span class="cl-60dd9a72">satisfied</span></p></td><td class="cl-60dee2c4"><p class="cl-60ded46e"><span class="cl-60dd9a72">25</span></p></td><td class="cl-60dee2c5"><p class="cl-60ded46e"><span class="cl-60dd9a72">25</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-60dee2c6"><p class="cl-60ded464"><span class="cl-60dd9a72">Japanese</span></p></td><td class="cl-60dee2ce"><p class="cl-60ded464"><span class="cl-60dd9a72">very satisfied</span></p></td><td class="cl-60dee2d8"><p class="cl-60ded46e"><span class="cl-60dd9a72">30</span></p></td><td class="cl-60dee2d9"><p class="cl-60ded46e"><span class="cl-60dd9a72">30</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We have now added <em>Course</em> as an additional categorical variable and will include Course as the “fill” argument in our bar plot. To group the bars, we use the command “position=position_dodge()”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bar plot</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>gldat <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Satisfaction, Frequency, <span class="at">fill =</span> Course)) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># define colors</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> clrs3) <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add text</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Frequency),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="fl">1.6</span>, <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># define text position and size</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.9</span>), <span class="at">size =</span> <span class="fl">3.5</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="surveys_files/figure-html/bar_05-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Bar plots are particularly useful when visualizing data obtained through Likert items. As this is a very common issue that empirical researchers face. There are two basic ways to display Likert items using bar plots: grouped bar plots and more elaborate scaled bar plots.</p>
<p>Although we have seen above how to create grouped bar plots, we will repeat it here with the language course example used above when we used cumulative density line graphs to visualize how to display Likert data.</p>
<p>In a first step, we recreate the data set which we have used above. The data set consists of a Likert-scaled variable (Satisfaction) which represents rating of students from three courses about how satisfied they were with their language-learning course. The response to the Likert item is numeric so that “strongly disagree/very dissatisfied” would get the lowest and “strongly agree/very satisfied” the highest numeric value.</p>
<p>Again, we can also plot separate bar graphs for each class by specifying “facets”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create grouped bar plot</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>gldat <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Satisfaction, Frequency,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> Satisfaction,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> Satisfaction</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>Course) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># define colors</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> clrs5) <span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> clrs5) <span class="sc">+</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add text and define color</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Frequency),</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="fl">1.6</span>, <span class="at">color =</span> <span class="st">"white"</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># define text position and size</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.9</span>), <span class="at">size =</span> <span class="fl">3.5</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="surveys_files/figure-html/bar_13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Another and very interesting way to display such data is by using the Likert package. In a first step, we need to activate the package, clean the data, and extract a subset for the data visualization example.</p>
<p>One aspect that is different to previous visualizations is that, when using the Likert package, we need to transform the data into a “likert” object (which is, however, very easy and is done by using the “likert()” function as shown below).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sdat <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">readRDS</span>(<span class="st">"tutorials/surveys/data/sdd.rda"</span>, <span class="st">"rb"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-6144361a{table-layout:auto;width:50%;}.cl-613fd7c8{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-613fd7d2{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6141c6fa{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6141c704{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6141dbc2{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbc3{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbcc{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbcd{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbce{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbcf{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbd6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbd7{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbd8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbd9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbe0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbe1{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbe2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbe3{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbea{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6141dbeb{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-6144361a"><thead><tr style="overflow-wrap:break-word;"><th class="cl-6141dbc2"><p class="cl-6141c6fa"><span class="cl-613fd7c8">Group</span></p></th><th class="cl-6141dbc3"><p class="cl-6141c6fa"><span class="cl-613fd7c8">Respondent</span></p></th><th class="cl-6141dbcc"><p class="cl-6141c704"><span class="cl-613fd7c8">How.did.you.like.the.course.</span></p></th><th class="cl-6141dbcc"><p class="cl-6141c704"><span class="cl-613fd7c8">How.did.you.like.the.teacher.</span></p></th><th class="cl-6141dbcc"><p class="cl-6141c704"><span class="cl-613fd7c8">Was.the.content.intersting.</span></p></th><th class="cl-6141dbcc"><p class="cl-6141c704"><span class="cl-613fd7c8">Was.the.content.adequate.for.the.course.</span></p></th><th class="cl-6141dbcc"><p class="cl-6141c704"><span class="cl-613fd7c8">Were.there.enough.discussions.</span></p></th><th class="cl-6141dbcc"><p class="cl-6141c704"><span class="cl-613fd7c8">Was.the.use.of.online.materials.appropriate.</span></p></th><th class="cl-6141dbcc"><p class="cl-6141c704"><span class="cl-613fd7c8">Was.the.teacher.appropriately.prepared.</span></p></th><th class="cl-6141dbcc"><p class="cl-6141c704"><span class="cl-613fd7c8">Was.the.workload.of.the.course.appropriate.</span></p></th><th class="cl-6141dbcc"><p class="cl-6141c704"><span class="cl-613fd7c8">Was.the.course.content.enganging.</span></p></th><th class="cl-6141dbcd"><p class="cl-6141c704"><span class="cl-613fd7c8">Were.there.enough.interactive.exerceises.included.in.the.sessions.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-6141dbce"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbcf"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd7"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6141dbd8"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbd9"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G2</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbe1"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6141dbce"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbcf"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G3</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">2</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbd7"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6141dbd8"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbd9"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G4</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe1"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6141dbce"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbcf"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G5</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd7"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6141dbd8"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbd9"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G6</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">2</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbe1"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6141dbce"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbcf"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G7</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">2</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd7"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6141dbd8"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbd9"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G8</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe0"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbe1"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6141dbce"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbcf"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G9</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">4</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">5</span></p></td><td class="cl-6141dbd6"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbd7"><p class="cl-6141c704"><span class="cl-613fd7d2">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6141dbe2"><p class="cl-6141c6fa"><span class="cl-613fd7d2">German</span></p></td><td class="cl-6141dbe3"><p class="cl-6141c6fa"><span class="cl-613fd7d2">G10</span></p></td><td class="cl-6141dbea"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbea"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbea"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbea"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbea"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbea"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbea"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbea"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbea"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td><td class="cl-6141dbeb"><p class="cl-6141c704"><span class="cl-613fd7d2">3</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>As you can see, we need to clean and adapt the column names. To do this, we will</p>
<ul>
<li>add an identifier which shows which question we are dealing with (e.g.&nbsp;Q 1: question text)</li>
<li>remove the dots between words with spaces</li>
<li>add a question mark at the end of questions</li>
<li>remove superfluous white spaces</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># clean column names</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sdat)[<span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(sdat)] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Q "</span>, <span class="fu">str_pad</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">2</span>, <span class="st">"left"</span>, <span class="st">"0"</span>), <span class="st">": "</span>, <span class="fu">colnames</span>(sdat)[<span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(sdat)]) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  stringr<span class="sc">::</span><span class="fu">str_squish</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"$"</span>, <span class="st">"?"</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect column names</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sdat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Group"                                                                   
 [2] "Respondent"                                                              
 [3] "Q 01: How did you like the course?"                                      
 [4] "Q 02: How did you like the teacher?"                                     
 [5] "Q 03: Was the content intersting?"                                       
 [6] "Q 04: Was the content adequate for the course?"                          
 [7] "Q 05: Were there enough discussions?"                                    
 [8] "Q 06: Was the use of online materials appropriate?"                      
 [9] "Q 07: Was the teacher appropriately prepared?"                           
[10] "Q 08: Was the workload of the course appropriate?"                       
[11] "Q 09: Was the course content enganging?"                                 
[12] "Q 10: Were there enough interactive exerceises included in the sessions?"</code></pre>
</div>
</div>
<p>Now, that we have nice column names, we will replace the numeric values (1 to 5) with labels ranging from <em>disagree</em> to <em>agree</em> and convert our data into a data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>lbs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"disagree"</span>, <span class="st">"somewhat disagree"</span>, <span class="st">"neither agree nor disagree"</span>, <span class="st">"somewhat agree"</span>, <span class="st">"agree"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> sdat <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.character, factor) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_if</span>(is.numeric, factor, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">labels =</span> lbs) <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-615b38f6{table-layout:auto;width:50%;}.cl-6157e0ca{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6157e0d4{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-61592822{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-61593650{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-61593651{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6159365a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6159365b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-61593664{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-61593665{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-61593666{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6159366e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6159366f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-61593678{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-61593679{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6159367a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-615b38f6"><thead><tr style="overflow-wrap:break-word;"><th class="cl-61593650"><p class="cl-61592822"><span class="cl-6157e0ca">Group</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Respondent</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Q 01: How did you like the course?</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Q 02: How did you like the teacher?</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Q 03: Was the content intersting?</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Q 04: Was the content adequate for the course?</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Q 05: Were there enough discussions?</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Q 06: Was the use of online materials appropriate?</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Q 07: Was the teacher appropriately prepared?</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Q 08: Was the workload of the course appropriate?</span></p></th><th class="cl-61593651"><p class="cl-61592822"><span class="cl-6157e0ca">Q 09: Was the course content enganging?</span></p></th><th class="cl-6159365a"><p class="cl-61592822"><span class="cl-6157e0ca">Q 10: Were there enough interactive exerceises included in the sessions?</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-6159365b"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">G1</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593665"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-61593666"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">G2</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-6159366f"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6159365b"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">G3</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593665"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-61593666"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">G4</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366f"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6159365b"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">G5</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593665"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-61593666"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">G6</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159366f"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6159365b"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">G7</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593665"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-61593666"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">G8</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366e"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-6159366f"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6159365b"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">G9</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">somewhat agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">agree</span></p></td><td class="cl-61593664"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593665"><p class="cl-61592822"><span class="cl-6157e0d4">disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-61593678"><p class="cl-61592822"><span class="cl-6157e0d4">German</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">G10</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-61593679"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td><td class="cl-6159367a"><p class="cl-61592822"><span class="cl-6157e0d4">neither agree nor disagree</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Now, we can use the <code>plot</code> and the <code>likert</code> function to visualize the survey data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">likert</span>(survey[, <span class="dv">3</span><span class="sc">:</span><span class="dv">12</span>]), <span class="at">ordered =</span> F, <span class="at">wrap =</span> <span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="surveys_files/figure-html/likert13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>To save this plot, you can use the <code>save_plot</code> function from the <code>cowplot</code> package as shown below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>survey_p1 <span class="ot">&lt;-</span> <span class="fu">plot</span>(<span class="fu">likert</span>(survey[, <span class="dv">3</span><span class="sc">:</span><span class="dv">12</span>]), <span class="at">ordered =</span> F, <span class="at">wrap =</span> <span class="dv">60</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># save plot</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">save_plot</span>(<span class="fu">here</span>(<span class="st">"images"</span>, <span class="st">"stu_p1.png"</span>), <span class="co"># where to save the plot</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  survey_p1, <span class="co"># object to plot</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">base_asp =</span> <span class="fl">1.5</span>, <span class="co"># ratio of space fro questions vs space for plot</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">base_height =</span> <span class="dv">8</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>) <span class="co"># size! higher for smaller font size</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>An additional and very helpful feature is that the <code>likert</code> package enables grouping the data as shown below. The display columns 3 to 8 and use column 1 for grouping.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create plot</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">likert</span>(survey[, <span class="dv">3</span><span class="sc">:</span><span class="dv">8</span>], <span class="at">grouping =</span> survey[, <span class="dv">1</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="surveys_files/figure-html/likert17-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="useful-statistics" class="level1">
<h1>Useful statistics</h1>
<p>This section introduces some statistical measures or tests that useful when dealing with survey data. We will begin with measures of reliability (Cronbach’s <span class="math inline">\(\alpha\)</span>), then move on to methods for merging variables (Factor analysis and principle component analysis), and finally to ordinal regression which tests which variables correlate with a certain outcome.</p>
<section id="evaluating-the-reliability-of-questions" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="evaluating-the-reliability-of-questions">Evaluating the reliability of questions</h2>
<section id="cronbachs-alpha" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="cronbachs-alpha">Cronbach’s Alpha</h3>
<p>Oftentimes several questions in one questionnaire aim to tap into the same cognitive concept or attitude or whatever we are interested in. The answers to these related questions should be internally consistent, i.e.&nbsp;the responses should correlate strongly and positively.</p>
<p>Cronbach’s <span class="math inline">\(\alpha\)</span> <span class="citation" data-cites="cronbach1951alpha">(<a href="#ref-cronbach1951alpha" role="doc-biblioref">Cronbach</a>)</span> is measure of internal consistency or reliability that provides information on how strongly the responses to a set of questions correlate. The formula for Cronbach’s <span class="math inline">\(\alpha\)</span> is shown below (N: number of items, <span class="math inline">\(\bar c\)</span>: average inter-item co-variance among items, <span class="math inline">\(\bar v\)</span>: average variance).</p>
<p><span class="math inline">\(\alpha = \frac{N*\bar c}{\bar v + (N-1)\bar c}\)</span></p>
<p>If the values for Cronbach’s <span class="math inline">\(\alpha\)</span> are low (below .7), then this indicates that the questions are not internally consistent (and do not tap into the same concept) or that the questions are not uni-dimensional (as they should be).</p>
<p>While Cronbach’s <span class="math inline">\(\alpha\)</span> is the most frequently used measures of reliability (probably because it is conceptually simple and can be computed very easily), it underestimates the reliability of a test and overestimates the first factor saturation. This can be a problem is the data is <em>lumpy</em>. Thus, various other measures of reliability have been proposed. Also,Cronbach’s <span class="math inline">\(\alpha\)</span> assumes that scale items are repeated measurements, an assumption that is often violated.</p>
<p>An alternative reliability measure that takes the amount of variance per item into account and thus performs better when dealing with <em>lumpy</em> data (although it is still affected by <em>lumpiness</em>) is Guttman’s Lambda 6 (G6) <span class="citation" data-cites="guttman1945lambda">(<a href="#ref-guttman1945lambda" role="doc-biblioref">Guttman</a>)</span>. In contrast to Cronbach’s <span class="math inline">\(\alpha\)</span>, G6 is mostly used to evaluate the reliability of individual test items though. This means that it provides information about how well individual questions reflect the concept that they aim to tap into.</p>
<p>Probably the best measures of reliability are <span class="math inline">\(\omega\)</span> (<em>omega</em>) measures. Hierarchical <span class="math inline">\(\omega\)</span> provides more appropriate estimates of the general factor saturation while total <span class="math inline">\(\omega\)</span> is a better estimate of the reliability of the total test compared to both Cronbach’s <span class="math inline">\(\alpha\)</span> and G6 <span class="citation" data-cites="revelle2009coefficients">(<a href="#ref-revelle2009coefficients" role="doc-biblioref">Revelle and Zinbarg</a>)</span>.</p>
<p><strong>Calculating Cronbach’s alpha in R</strong></p>
<p>We will now calculate Cronbach’s <span class="math inline">\(\alpha\)</span> in R. In a first step, we activate the “psych” package and load as well as inspect the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load data</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>surveydata <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">readRDS</span>(<span class="st">"tutorials/surveys/data/sud.rda"</span>, <span class="st">"rb"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-621cb0a8{table-layout:auto;width:50%;}.cl-62185a9e{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-62185aa8{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6219dc0c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6219dc16{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6219eda0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219eda1{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edaa{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edab{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edb4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edb5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edbe{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edbf{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edc0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edc8{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edc9{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6219edd2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-621cb0a8"><thead><tr style="overflow-wrap:break-word;"><th class="cl-6219eda0"><p class="cl-6219dc0c"><span class="cl-62185a9e">Respondent</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q01_Outgoing</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q02_Outgoing</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q03_Outgoing</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q04_Outgoing</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q05_Outgoing</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q06_Intelligence</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q07_Intelligence</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q08_Intelligence</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q09_Intelligence</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q10_Intelligence</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q11_Attitude</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q12_Attitude</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q13_Attitude</span></p></th><th class="cl-6219eda1"><p class="cl-6219dc16"><span class="cl-62185a9e">Q14_Attitude</span></p></th><th class="cl-6219edaa"><p class="cl-6219dc16"><span class="cl-62185a9e">Q15_Attitude</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_01</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edbe"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_02</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edc0"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_03</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edbe"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_04</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edc0"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_05</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edbe"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_06</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edc0"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_07</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edbe"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_08</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edc0"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_09</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edbe"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_10</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edc0"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_11</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edbe"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_12</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edc0"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_13</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edbe"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_14</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edc0"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_15</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edbe"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_16</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edc0"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_17</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edbe"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_18</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edbf"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edc0"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edab"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_19</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edb4"><p class="cl-6219dc16"><span class="cl-62185aa8">4</span></p></td><td class="cl-6219edb5"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6219edc8"><p class="cl-6219dc0c"><span class="cl-62185aa8">Respondent_20</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">1</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">3</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">2</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edc9"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td><td class="cl-6219edd2"><p class="cl-6219dc16"><span class="cl-62185aa8">5</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>The inspection of the data shows that the responses of participants represent the rows and that the questions represent columns. The column names show that we have 15 questions and that the first five questions aim to test how outgoing respondents are. To check if the first five questions reliably test “outgoingness” (or “extraversion”), we calculate Cronbach’s alpha for these five questions.</p>
<p>Thus, we use the “alpha()” function and provide the questions that tap into the concept we want to assess. In addition to Cronbach’s <span class="math inline">\(\alpha\)</span>, the “alpha()” function also reports Guttman’s lambda_6 which is an alternative measure for reliability. This is an advantage because Cronbach’s <span class="math inline">\(\alpha\)</span> underestimates the reliability of a test and overestimates the first factor saturation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate cronbach's alpha</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>Cronbach <span class="ot">&lt;-</span> psych<span class="sc">::</span><span class="fu">alpha</span>(surveydata[<span class="fu">c</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q01_Outgoing"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q02_Outgoing"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q03_Outgoing"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q04_Outgoing"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q05_Outgoing"</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>)], <span class="at">check.keys =</span> F)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect results</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>Cronbach</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Reliability analysis   
Call: psych::alpha(x = surveydata[c("Q01_Outgoing", "Q02_Outgoing", 
    "Q03_Outgoing", "Q04_Outgoing", "Q05_Outgoing")], check.keys = F)

  raw_alpha std.alpha G6(smc) average_r S/N    ase mean  sd median_r
      0.98      0.98    0.97      0.89  42 0.0083  3.1 1.5      0.9

    95% confidence boundaries 
         lower alpha upper
Feldt     0.96  0.98  0.99
Duhachek  0.96  0.98  0.99

 Reliability if an item is dropped:
             raw_alpha std.alpha G6(smc) average_r S/N alpha se   var.r med.r
Q01_Outgoing      0.97      0.97    0.97      0.89  33   0.0108 0.00099  0.89
Q02_Outgoing      0.97      0.97    0.96      0.89  31   0.0116 0.00054  0.89
Q03_Outgoing      0.97      0.97    0.97      0.90  35   0.0104 0.00095  0.90
Q04_Outgoing      0.97      0.97    0.96      0.89  31   0.0115 0.00086  0.89
Q05_Outgoing      0.98      0.98    0.97      0.91  41   0.0088 0.00034  0.91

 Item statistics 
              n raw.r std.r r.cor r.drop mean  sd
Q01_Outgoing 20  0.96  0.96  0.95   0.94  3.1 1.5
Q02_Outgoing 20  0.97  0.97  0.96   0.95  3.2 1.6
Q03_Outgoing 20  0.95  0.95  0.94   0.93  3.1 1.5
Q04_Outgoing 20  0.97  0.97  0.96   0.95  3.0 1.6
Q05_Outgoing 20  0.94  0.94  0.91   0.90  3.2 1.6

Non missing response frequency for each item
                1   2    3    4    5 miss
Q01_Outgoing 0.20 0.2 0.10 0.25 0.25    0
Q02_Outgoing 0.15 0.3 0.05 0.15 0.35    0
Q03_Outgoing 0.15 0.3 0.05 0.25 0.25    0
Q04_Outgoing 0.25 0.2 0.05 0.30 0.20    0
Q05_Outgoing 0.20 0.2 0.10 0.20 0.30    0</code></pre>
</div>
</div>
<p>The output of the “alpha()” function is rather extensive and we will only interpret selected output here.</p>
<p>The value under alpha is Cronbach’s <span class="math inline">\(\alpha\)</span> and it should be above 0.7. The values to its left and right are the lower and upper bound of its confidence interval. The values in the column with the header “G6” show how well each question represents the concept it aims to reflect. Low values indicate that the question does not reflect the underlying concept while high values (.7 and higher) indicate that the question captures that concept well (or to an acceptable degree).</p>
</section>
<section id="omega" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="omega">Omega</h3>
<p>The omega (<span class="math inline">\(\omega\)</span>) coefficient is also a reliability measure of internal consistency. <span class="math inline">\(\omega\)</span> represents an estimate of the general factor saturation of a test that was proposed by McDonald. <span class="citation" data-cites="zinbarg2005cronbach">(<a href="#ref-zinbarg2005cronbach" role="doc-biblioref">R. E. Zinbarg et al.</a>)</span> compare McDonald’s Omega to Cronbach’s <span class="math inline">\(\alpha\)</span> and Revelle’s <span class="math inline">\(\beta\)</span>. They conclude that omega is the best estimate <span class="citation" data-cites="zinbarg2006estimating">(<a href="#ref-zinbarg2006estimating" role="doc-biblioref">R. Zinbarg et al.</a>)</span>.</p>
<p>A very handy way to calculate McDonald’s <span class="math inline">\(\omega\)</span> is to use the <code>scaleReliability()</code> function from the <code>userfriendlyscience</code> package (which also provides Cronbach’s <span class="math inline">\(\alpha\)</span> and the Greatest Lower Bound (GLB) estimate which is also a very good and innovative measure of reliability) <span class="citation" data-cites="peters2014alpha">(see also <a href="#ref-peters2014alpha" role="doc-biblioref">Peters</a>)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># activate package</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ufs)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># extract reliability measures</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>reliability <span class="ot">&lt;-</span> ufs<span class="sc">::</span><span class="fu">scaleStructure</span>(surveydata[<span class="fu">c</span>(</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q01_Outgoing"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q02_Outgoing"</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q03_Outgoing"</span>,</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q04_Outgoing"</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q05_Outgoing"</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>)])</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect results</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(reliability)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Information about this analysis:

                 Dataframe: surveydata[c("Q01_Outgoing", "Q02_Outgoing", "Q03_Outgoing", 
                     Items: all
              Observations: 20
     Positive correlations: 10 out of 10 (100%)

Estimates assuming interval level:
 
Information about this analysis:

                 Dataframe:     "Q04_Outgoing", "Q05_Outgoing")]
                     Items: all
              Observations: 20
     Positive correlations: 10 out of 10 (100%)

Estimates assuming interval level:

             Omega (total): 0.98
      Omega (hierarchical): 0.95
   Revelle's omega (total): 0.98
Greatest Lower Bound (GLB): NA
             Coefficient H: 0.98
         Coefficient alpha: 0.98

(Estimates assuming ordinal level not computed, as the polychoric correlation matrix has missing values.)

Note: the normal point estimate and confidence interval for omega are based on the procedure suggested by Dunn, Baguley &amp; Brunsden (2013) using the MBESS function ci.reliability, whereas the psych package point estimate was suggested in Revelle &amp; Zinbarg (2008). See the help ('?scaleStructure') for more information.</code></pre>
</div>
</div>
</section>
</section>
<section id="factor-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="factor-analysis">Factor analysis</h2>
<p>When dealing with many variables it is often the case that several variables are related and represent a common, underlying factor. To find such underlying factors, we can use a factor analysis.</p>
<p>Factor analysis is a method that allows to find commonalities or structure in data. This is particularly useful when dealing with many variables. Factors can be considered hidden latent variables or driving forces that affect or underlie several variables at once.</p>
<p>This becomes particularly apparent when considering socio-demographic variables as behaviors are not only dependent on single variables, e.g., economic status, but on the interaction of several additional variables such as education level, marital status, number of children, etc. All of these variables can be combined into a single factor (or hidden latent variable).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove respondent</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>surveydata <span class="ot">&lt;-</span> surveydata <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Respondent)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>factoranalysis <span class="ot">&lt;-</span> <span class="fu">factanal</span>(surveydata, <span class="dv">3</span>, <span class="at">rotation =</span> <span class="st">"varimax"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(factoranalysis, <span class="at">digits =</span> <span class="dv">2</span>, <span class="at">cutoff =</span> .<span class="dv">2</span>, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
factanal(x = surveydata, factors = 3, rotation = "varimax")

Uniquenesses:
    Q01_Outgoing     Q02_Outgoing     Q03_Outgoing     Q04_Outgoing 
            0.09             0.06             0.12             0.07 
    Q05_Outgoing Q06_Intelligence Q07_Intelligence Q08_Intelligence 
            0.14             0.10             0.13             0.10 
Q09_Intelligence Q10_Intelligence     Q11_Attitude     Q12_Attitude 
            0.28             0.41             0.08             0.14 
    Q13_Attitude     Q14_Attitude     Q15_Attitude 
            0.04             0.09             0.06 

Loadings:
                 Factor1 Factor2 Factor3
Q06_Intelligence -0.82    0.25    0.41  
Q07_Intelligence -0.80            0.47  
Q08_Intelligence -0.85            0.42  
Q09_Intelligence -0.79            0.29  
Q11_Attitude      0.96                  
Q12_Attitude      0.92                  
Q13_Attitude      0.97                  
Q14_Attitude      0.95                  
Q15_Attitude      0.96                  
Q01_Outgoing              0.94          
Q02_Outgoing              0.96          
Q03_Outgoing              0.93          
Q04_Outgoing              0.96          
Q05_Outgoing              0.92          
Q10_Intelligence -0.22   -0.46    0.57  

               Factor1 Factor2 Factor3
SS loadings       7.29    4.78    1.02
Proportion Var    0.49    0.32    0.07
Cumulative Var    0.49    0.80    0.87

Test of the hypothesis that 3 factors are sufficient.
The chi square statistic is 62.79 on 63 degrees of freedom.
The p-value is 0.484 </code></pre>
</div>
</div>
<p>The results of a factor analysis can be visualized so that questions which reflect the same underlying factor are grouped together.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot factor 1 by factor 2</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>load <span class="ot">&lt;-</span> factoranalysis<span class="sc">$</span>loadings[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># set up plot</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(load, <span class="at">type =</span> <span class="st">"n"</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.5</span>, <span class="fl">1.5</span>))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># add variable names</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(load,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># define labels</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">names</span>(surveydata),</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># define font size</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (smaller than default = values smaller than 1)</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> .<span class="dv">7</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="surveys_files/figure-html/fa_04-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The plot shows that the questions form groups which indicates that the questions do a rather good job at reflecting the concepts that they aim to tap into. The only problematic question is question 10 (Q10) which aimed to tap into the intelligence of respondents but appears not to correlate strongly with the other questions that aim to extract information about the respondents intelligence. In such cases, it makes sense, to remove a question (in this case Q10) from the survey as it does not appear to reflect what we wanted it to.</p>
</section>
<section id="principle-component-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="principle-component-analysis">Principle component analysis</h2>
<p>Principal component analysis is used when several questions or variables reflect a common factor and they should be combined into a single variable, e.g.&nbsp;during the statistical analysis of the data. Thus, principal component analysis can be used to collapse different variables (or questions) into one.</p>
<p>Imagine you have measured lengths of sentences in different ways (in words, syllables, characters, time it takes to pronounce, etc.). You could combine all these different measures of length by applying a PCA to those measures and using the first principal component as a single proxy for all these different measures.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># entering raw data and extracting PCs  from the correlation matrix</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>PrincipalComponents <span class="ot">&lt;-</span> <span class="fu">princomp</span>(surveydata[<span class="fu">c</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q01_Outgoing"</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q02_Outgoing"</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q03_Outgoing"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q04_Outgoing"</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Q05_Outgoing"</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>)], <span class="at">cor =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(PrincipalComponents) <span class="co"># print variance accounted for</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                       Comp.1  Comp.2  Comp.3  Comp.4  Comp.5
Standard deviation     2.1399 0.41221 0.33748 0.29870 0.21818
Proportion of Variance 0.9159 0.03398 0.02278 0.01784 0.00952
Cumulative Proportion  0.9159 0.94986 0.97264 0.99048 1.00000</code></pre>
</div>
</div>
<p>The output shows that the first component (Comp.1) explains 91.58 percent of the variance. This shows that we only lose 8.42 percent of the variance if we use this component as a proxy for “outgoingness” if we use the collapsed component rather than the five individual items.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">loadings</span>(PrincipalComponents) <span class="co"># pc loadings</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Loadings:
             Comp.1 Comp.2 Comp.3 Comp.4 Comp.5
Q01_Outgoing  0.448  0.324         0.831       
Q02_Outgoing  0.453  0.242 -0.408 -0.360  0.663
Q03_Outgoing  0.446  0.405  0.626 -0.405 -0.286
Q04_Outgoing  0.452 -0.191 -0.568 -0.114 -0.650
Q05_Outgoing  0.437 -0.798  0.342         0.230

               Comp.1 Comp.2 Comp.3 Comp.4 Comp.5
SS loadings       1.0    1.0    1.0    1.0    1.0
Proportion Var    0.2    0.2    0.2    0.2    0.2
Cumulative Var    0.2    0.4    0.6    0.8    1.0</code></pre>
</div>
</div>
<p>We now check if the five questions that are intended to tap into “outgoingness” represent one (and not more) underlying factors. Do check this, we create a scree plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(PrincipalComponents, <span class="at">type =</span> <span class="st">"lines"</span>) <span class="co"># scree plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="surveys_files/figure-html/pca_07-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The scree plot shown above indicates that we only need a single component to explain the variance as there is a steep decline from the first to the second component. This confirms that the questions that tap into “outgoingness” represent one (and not more) underlying factors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>PrincipalComponents<span class="sc">$</span>scores <span class="co"># the principal components</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Comp.1   Comp.2   Comp.3    Comp.4   Comp.5
 [1,]  1.8382 -0.36615 -0.05472 -0.185983  0.45152
 [2,]  1.8663  0.49141  0.43588  0.293521 -0.29327
 [3,]  2.1436 -0.43110 -0.14566  0.529200 -0.37631
 [4,]  2.4440  0.12865  0.39433  0.093406  0.28596
 [5,]  2.1362 -0.49210 -0.42957 -0.260901  0.02262
 [6,]  2.4574  0.52188 -0.20319 -0.014602 -0.29283
 [7,]  2.1362 -0.49210 -0.42957 -0.260901  0.02262
 [8,]  1.8506 -0.24517  0.63889 -0.230286 -0.17380
 [9,]  1.8538  0.37043 -0.25773  0.337824  0.33205
[10,]  1.8589  0.43041  0.15198 -0.496581  0.10566
[11,] -2.2853  0.62953  0.07366  0.047246  0.18177
[12,] -0.8112  0.23229 -0.69790  0.254192 -0.06639
[13,] -1.1176 -0.31735  0.16386  0.595405  0.08306
[14,] -2.2853  0.62953  0.07366  0.047246  0.18177
[15,] -2.2876  0.28617 -0.32086 -0.584569 -0.27755
[16,] -2.8995 -0.54086  0.11152  0.034152  0.06787
[17,] -1.7026 -0.01559 -0.07850  0.005418 -0.09725
[18,] -3.1841 -0.02169 -0.11116  0.001061 -0.08202
[19,] -1.1125 -0.25737  0.57357 -0.238999 -0.14334
[20,] -2.8995 -0.54086  0.11152  0.034152  0.06787</code></pre>
</div>
</div>
<p>You could now replace the five items which tap into “outgoingness” with the single first component shown in the table above.</p>
</section>
<section id="ordinal-regression" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="ordinal-regression">Ordinal Regression</h2>
<p>Ordinal regression is very similar to multiple linear regression but takes an ordinal dependent variable <span class="citation" data-cites="agresti2010analysis">(<a href="#ref-agresti2010analysis" role="doc-biblioref">Agresti</a>)</span>. For this reason, ordinal regression is one of the key methods in analyzing Likert data.</p>
<p>To see how an ordinal regression is implemented in R, we load and inspect the “ordinaldata” data set. The data set consists of 400 observations of students that were either educated at this school (Internal = 1) or not (Internal = 0). Some of the students have been abroad (Exchange = 1) while other have not (Exchange = 0). In addition, the data set contains the students’ final score of a language test (FinalScore) and the dependent variable which the recommendation of a committee for an additional, very prestigious program. The recommendation has three levels (“very likely”, “somewhat likely”, and “unlikely”) and reflects the committees’ assessment of whether the student is likely to succeed in the program.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load data</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>ordata <span class="ot">&lt;-</span> base<span class="sc">::</span><span class="fu">readRDS</span>(<span class="st">"tutorials/surveys/data/oda.rda"</span>, <span class="st">"rb"</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect data</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(ordata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   400 obs. of  4 variables:
 $ Recommend : chr  "very likely" "somewhat likely" "unlikely" "somewhat likely" ...
 $ Internal  : int  0 1 1 0 0 0 0 0 0 1 ...
 $ Exchange  : int  0 0 1 0 0 1 0 0 0 0 ...
 $ FinalScore: num  3.26 3.21 3.94 2.81 2.53 ...</code></pre>
</div>
</div>
<p>In a first step, we need to re-level the ordinal variable to represent an ordinal factor (or a progression from “unlikely” over “somewhat likely” to “very likely”. And we will also factorize Internal and Exchange to make it easier to interpret the output later on.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># relevel data</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>ordata <span class="ot">&lt;-</span> ordata <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Recommend =</span> <span class="fu">factor</span>(Recommend,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"unlikely"</span>, <span class="st">"somewhat likely"</span>, <span class="st">"very likely"</span>),</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"unlikely"</span>, <span class="st">"somewhat likely"</span>, <span class="st">"very likely"</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Exchange =</span> <span class="fu">ifelse</span>(Exchange <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Exchange"</span>, <span class="st">"NoExchange"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Internal =</span> <span class="fu">ifelse</span>(Internal <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Internal"</span>, <span class="st">"External"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that the dependent variable is re-leveled, we check the distribution of the variable levels by tabulating the data. To get a better understanding of the data we create frequency tables across variables rather than viewing the variables in isolation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="do">## three way cross tabs (xtabs) and flatten the table</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ftable</span>(<span class="fu">xtabs</span>(<span class="sc">~</span> Exchange <span class="sc">+</span> Recommend <span class="sc">+</span> Internal, <span class="at">data =</span> ordata))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                           Internal External Internal
Exchange   Recommend                                 
Exchange   unlikely                       25        6
           somewhat likely                12        4
           very likely                     7        3
NoExchange unlikely                      175       14
           somewhat likely                98       26
           very likely                    20       10</code></pre>
</div>
</div>
<p>We also check the mean and standard deviation of the final score as final score is a numeric variable and cannot be tabulated (unless we convert it to a factor).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ordata<span class="sc">$</span>FinalScore)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1.90    2.72    2.99    3.00    3.27    4.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(ordata<span class="sc">$</span>FinalScore)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3979</code></pre>
</div>
</div>
<p>The lowest score is 1.9 and the highest score is a 4.0 with a mean of approximately 3. Finally, we inspect the distributions graphically.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># visualize data</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>ordata <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Recommend, <span class="at">y =</span> FinalScore)) <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">size =</span> .<span class="dv">75</span>) <span class="sc">+</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Exchange <span class="sc">~</span> Internal, <span class="at">margins =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="surveys_files/figure-html/orr5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We see that we have only few students that have taken part in an exchange program and there are also only few internal students overall. With respect to recommendations, only few students are considered to very likely succeed in the program. We can now start with the modelling by using the “polr” function. To make things easier for us, we will only consider the main effects here as this tutorial only aims to how to implement an ordinal regression but not how it should be done in a proper study - then, the model fitting and diagnostic procedures would have to be performed accurately, of course.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="do">## fit ordered logit model and store results 'm'</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">polr</span>(Recommend <span class="sc">~</span> Internal <span class="sc">+</span> Exchange <span class="sc">+</span> FinalScore, <span class="at">data =</span> ordata, <span class="at">Hess =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="do">## view a summary of the model</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
polr(formula = Recommend ~ Internal + Exchange + FinalScore, 
    data = ordata, Hess = TRUE)

Coefficients:
                    Value Std. Error t value
InternalInternal   1.0477      0.266   3.942
ExchangeNoExchange 0.0587      0.298   0.197
FinalScore         0.6157      0.261   2.363

Intercepts:
                            Value Std. Error t value
unlikely|somewhat likely    2.262 0.882      2.564  
somewhat likely|very likely 4.357 0.904      4.818  

Residual Deviance: 717.02 
AIC: 727.02 </code></pre>
</div>
</div>
<p>The results show that having studied here at this school increases the chances of receiving a positive recommendation but that having been on an exchange has a negative but insignificant effect on the recommendation. The final score also correlates positively with a positive recommendation but not as much as having studied here.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="do">## store table</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>(ctable <span class="ot">&lt;-</span> <span class="fu">coef</span>(<span class="fu">summary</span>(m)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                              Value Std. Error t value
InternalInternal            1.04766     0.2658   3.942
ExchangeNoExchange          0.05868     0.2979   0.197
FinalScore                  0.61574     0.2606   2.363
unlikely|somewhat likely    2.26200     0.8822   2.564
somewhat likely|very likely 4.35744     0.9045   4.818</code></pre>
</div>
</div>
<p>As the regression report does not provide p-values, we have to calculate them separately (after having calculated them, we add them to the coefficient table).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="do">## calculate and store p values</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="fu">abs</span>(ctable[, <span class="st">"t value"</span>]), <span class="at">lower.tail =</span> <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="do">## combined table</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>(ctable <span class="ot">&lt;-</span> <span class="fu">cbind</span>(ctable, <span class="st">"p value"</span> <span class="ot">=</span> p))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                              Value Std. Error t value     p value
InternalInternal            1.04766     0.2658   3.942 0.000080902
ExchangeNoExchange          0.05868     0.2979   0.197 0.843819939
FinalScore                  0.61574     0.2606   2.363 0.018151727
unlikely|somewhat likely    2.26200     0.8822   2.564 0.010343823
somewhat likely|very likely 4.35744     0.9045   4.818 0.000001452</code></pre>
</div>
</div>
<p>As predicted, Exchange does not have a significant effect but FinalScore and Internal both correlate significantly with the likelihood of receiving a positive recommendation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract profiled confidence intervals</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>ci <span class="ot">&lt;-</span> <span class="fu">confint</span>(m)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate odds ratios and combine them with profiled CIs</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">cbind</span>(<span class="at">OR =</span> <span class="fu">coef</span>(m), ci))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      OR 2.5 % 97.5 %
InternalInternal   2.851 1.696  4.817
ExchangeNoExchange 1.060 0.595  1.920
FinalScore         1.851 1.114  3.098</code></pre>
</div>
</div>
<p>The odds ratios show that internal students are 2.85 or 285 percent more likely compared to non-internal students to receive positive evaluations and that a 1-point increase in the test score lead to a 1.85 or 185 percent increase in the chances of receiving a positive recommendation. The effect of an exchange is slightly negative but, as we have seen above, not significant.</p>
<p>In a final step, we will visualize the results of the ordinal regression model. To do that, we need to reformat the data and add the predictions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract predictions</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(m, <span class="at">data =</span> ordata, <span class="at">type =</span> <span class="st">"prob"</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="co"># add predictions to the data</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>newordata <span class="ot">&lt;-</span> <span class="fu">cbind</span>(ordata, predictions)</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="co"># rename columns</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(newordata)[<span class="dv">6</span><span class="sc">:</span><span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"somewhat_likely"</span>, <span class="st">"very_likely"</span>)</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="co"># reformat data</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>newordata <span class="ot">&lt;-</span> newordata <span class="sc">%&gt;%</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Recommend) <span class="sc">%&gt;%</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">gather</span>(Recommendation, Probability, unlikely<span class="sc">:</span>very_likely) <span class="sc">%&gt;%</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Recommendation =</span> <span class="fu">factor</span>(Recommendation,</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"unlikely"</span>,</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"somewhat_likely"</span>,</span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"very_likely"</span></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>newordata <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">set_table_properties</span>(<span class="at">width =</span> .<span class="dv">5</span>, <span class="at">layout =</span> <span class="st">"autofit"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">theme_zebra</span>() <span class="sc">%&gt;%</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">fontsize</span>(<span class="at">size =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">fontsize</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">part =</span> <span class="st">"header"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">align_text_col</span>(<span class="at">align =</span> <span class="st">"center"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">set_caption</span>(<span class="at">caption =</span> <span class="st">"First 10 rows of the newordata."</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">border_outer</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-63194e6c{table-layout:auto;width:50%;}.cl-63162200{font-family:'Helvetica';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6316220a{font-family:'Helvetica';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-63176192{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6317619c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-63176f8e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176f8f{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176f98{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176f99{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176f9a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fa2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fa3{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fa4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fac{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fad{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fae{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fb6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fb7{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fb8{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fc0{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-63176fc1{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-63194e6c"><thead><tr style="overflow-wrap:break-word;"><th class="cl-63176f8e"><p class="cl-63176192"><span class="cl-63162200">Internal</span></p></th><th class="cl-63176f8f"><p class="cl-63176192"><span class="cl-63162200">Exchange</span></p></th><th class="cl-63176f98"><p class="cl-6317619c"><span class="cl-63162200">FinalScore</span></p></th><th class="cl-63176f8f"><p class="cl-63176192"><span class="cl-63162200">Recommendation</span></p></th><th class="cl-63176f99"><p class="cl-6317619c"><span class="cl-63162200">Probability</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-63176f9a"><p class="cl-63176192"><span class="cl-6316220a">External</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">NoExchange</span></p></td><td class="cl-63176fa3"><p class="cl-6317619c"><span class="cl-6316220a">3.26</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fa4"><p class="cl-6317619c"><span class="cl-6316220a">0.5488</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-63176fac"><p class="cl-63176192"><span class="cl-6316220a">Internal</span></p></td><td class="cl-63176fad"><p class="cl-63176192"><span class="cl-6316220a">NoExchange</span></p></td><td class="cl-63176fae"><p class="cl-6317619c"><span class="cl-6316220a">3.21</span></p></td><td class="cl-63176fad"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fb6"><p class="cl-6317619c"><span class="cl-6316220a">0.3056</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-63176f9a"><p class="cl-63176192"><span class="cl-6316220a">Internal</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">Exchange</span></p></td><td class="cl-63176fa3"><p class="cl-6317619c"><span class="cl-6316220a">3.94</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fa4"><p class="cl-6317619c"><span class="cl-6316220a">0.2294</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-63176fac"><p class="cl-63176192"><span class="cl-6316220a">External</span></p></td><td class="cl-63176fad"><p class="cl-63176192"><span class="cl-6316220a">NoExchange</span></p></td><td class="cl-63176fae"><p class="cl-6317619c"><span class="cl-6316220a">2.81</span></p></td><td class="cl-63176fad"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fb6"><p class="cl-6317619c"><span class="cl-6316220a">0.6161</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-63176f9a"><p class="cl-63176192"><span class="cl-6316220a">External</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">NoExchange</span></p></td><td class="cl-63176fa3"><p class="cl-6317619c"><span class="cl-6316220a">2.53</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fa4"><p class="cl-6317619c"><span class="cl-6316220a">0.6560</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-63176fac"><p class="cl-63176192"><span class="cl-6316220a">External</span></p></td><td class="cl-63176fad"><p class="cl-63176192"><span class="cl-6316220a">Exchange</span></p></td><td class="cl-63176fae"><p class="cl-6317619c"><span class="cl-6316220a">2.59</span></p></td><td class="cl-63176fad"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fb6"><p class="cl-6317619c"><span class="cl-6316220a">0.6609</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-63176f9a"><p class="cl-63176192"><span class="cl-6316220a">External</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">NoExchange</span></p></td><td class="cl-63176fa3"><p class="cl-6317619c"><span class="cl-6316220a">2.56</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fa4"><p class="cl-6317619c"><span class="cl-6316220a">0.6518</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-63176fac"><p class="cl-63176192"><span class="cl-6316220a">External</span></p></td><td class="cl-63176fad"><p class="cl-63176192"><span class="cl-6316220a">NoExchange</span></p></td><td class="cl-63176fae"><p class="cl-6317619c"><span class="cl-6316220a">2.73</span></p></td><td class="cl-63176fad"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fb6"><p class="cl-6317619c"><span class="cl-6316220a">0.6277</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-63176f9a"><p class="cl-63176192"><span class="cl-6316220a">External</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">NoExchange</span></p></td><td class="cl-63176fa3"><p class="cl-6317619c"><span class="cl-6316220a">3.00</span></p></td><td class="cl-63176fa2"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fa4"><p class="cl-6317619c"><span class="cl-6316220a">0.5881</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-63176fb7"><p class="cl-63176192"><span class="cl-6316220a">Internal</span></p></td><td class="cl-63176fb8"><p class="cl-63176192"><span class="cl-6316220a">NoExchange</span></p></td><td class="cl-63176fc0"><p class="cl-6317619c"><span class="cl-6316220a">3.50</span></p></td><td class="cl-63176fb8"><p class="cl-63176192"><span class="cl-6316220a">unlikely</span></p></td><td class="cl-63176fc1"><p class="cl-6317619c"><span class="cl-6316220a">0.2690</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>We can now visualize the predictions of the model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bar plot</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>newordata <span class="sc">%&gt;%</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> FinalScore, Probability,</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> Recommendation,</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> Recommendation</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Exchange <span class="sc">~</span> Internal) <span class="sc">+</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># define colors</span></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> clrs3) <span class="sc">+</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> clrs3) <span class="sc">+</span></span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="surveys_files/figure-html/orr13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>For more information about regression modeling, model fitting, and model diagnostics, please have a look at the tutorial on <a href="../../regression.html#1_Fixed_Effects_Regression">fixed-effects regressions</a>.</p>
</section>
</section>
<section id="citation-session-info" class="level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2020. <em>Questionnaires and Surveys: Analyses with R</em>. Brisbane: The University of Queensland. url: https://ladal.edu.au/tutorials/surveys.html (Version 2020.12.11).</p>
<pre><code>@manual{schweinberger2020survey,
  author = {Schweinberger, Martin},
  title = {Questionnaires and Surveys: Analyses with R},
  note = {tutorials/surveys/surveys.html},
  year = {2020},
  organization = "The University of Queensland, Australia. School of Languages and Cultures},
  address = {Brisbane},
  edition = {2020/12/11}
}</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.1 (2024-06-14)
Platform: aarch64-apple-darwin20
Running under: macOS Sonoma 14.6.1

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: Australia/Brisbane
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] ufs_0.5.12        devtools_2.4.5    usethis_3.0.0     flextable_0.9.7  
 [5] here_1.0.1        viridis_0.6.5     viridisLite_0.4.2 psych_2.4.6.26   
 [9] MASS_7.3-61       likert_1.3.5      xtable_1.8-4      lubridate_1.9.3  
[13] forcats_1.0.0     stringr_1.5.1     dplyr_1.1.4       purrr_1.0.2      
[17] readr_2.1.5       tidyr_1.3.1       tibble_3.2.1      ggplot2_3.5.1    
[21] tidyverse_2.0.0   lattice_0.22-6    knitr_1.48       

loaded via a namespace (and not attached):
 [1] tidyselect_1.2.1        farver_2.1.2            fastmap_1.2.0          
 [4] fontquiver_0.2.1        promises_1.3.0          digest_0.6.37          
 [7] timechange_0.3.0        mime_0.12               lifecycle_1.0.4        
[10] ellipsis_0.3.2          magrittr_2.0.3          compiler_4.4.1         
[13] rlang_1.1.4             tools_4.4.1             utf8_1.2.4             
[16] data.table_1.16.2       labeling_0.4.3          askpass_1.2.1          
[19] htmlwidgets_1.6.4       pkgbuild_1.4.5          mnormt_2.1.1           
[22] plyr_1.8.9              xml2_1.3.6              pkgload_1.4.0          
[25] klippy_0.0.0.9500       miniUI_0.1.1.1          withr_3.0.2            
[28] grid_4.4.1              fansi_1.0.6             urlchecker_1.0.1       
[31] profvis_0.4.0           gdtools_0.4.0           colorspace_2.1-1       
[34] GPArotation_2024.3-1    scales_1.3.0            cli_3.6.3              
[37] rmarkdown_2.28          remotes_2.5.0           ragg_1.3.3             
[40] generics_0.1.3          reshape2_1.4.4          tzdb_0.4.0             
[43] sessioninfo_1.2.2       cachem_1.1.0            pander_0.6.5           
[46] splines_4.4.1           assertthat_0.2.1        parallel_4.4.1         
[49] vctrs_0.6.5             Matrix_1.7-1            jsonlite_1.8.9         
[52] fontBitstreamVera_0.1.1 hms_1.1.3               systemfonts_1.1.0      
[55] glue_1.8.0              codetools_0.2-20        stringi_1.8.4          
[58] gtable_0.3.6            later_1.3.2             munsell_0.5.1          
[61] pillar_1.9.0            htmltools_0.5.8.1       openssl_2.2.2          
[64] R6_2.5.1                textshaping_0.4.0       rprojroot_2.0.4        
[67] evaluate_1.0.1          shiny_1.9.1             memoise_2.0.1          
[70] fontLiberation_0.1.0    httpuv_1.6.15           Rcpp_1.0.13            
[73] zip_2.3.1               uuid_1.2-1              gridExtra_2.3          
[76] nlme_3.1-166            mgcv_1.9-1              officer_0.6.7          
[79] xfun_0.49               fs_1.6.5                pkgconfig_2.0.3        </code></pre>
</div>
</div>
</section>
<section id="references" class="level1 unnumbered">
<h1 class="unnumbered">References</h1>
<hr>
<p><a href="#introduction">Back to top</a></p>
<p><a href="../../index.html">Back to HOME</a></p>
<hr>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-agresti2010analysis" class="csl-entry" role="listitem">
Agresti, Alan. <em>Analysis of Ordinal Categorical Data</em>. John Wiley &amp; Sons.
</div>
<div id="ref-brown2001surveys" class="csl-entry" role="listitem">
Brown, James Dean. <em>Using Surveys in Language Programs</em>. Cambridge: Cambridge University Press.
</div>
<div id="ref-cronbach1951alpha" class="csl-entry" role="listitem">
Cronbach, Lee J. <span>“Coefficient Alpha and the Internal Strucuture of Tests.”</span> <em>Psychometrika</em>, 297–334.
</div>
<div id="ref-guttman1945lambda" class="csl-entry" role="listitem">
Guttman, Louis. <span>“A Basis for Analyzing Test-Retest Reliability.”</span> <em>Psychometrika</em>, 255–82.
</div>
<div id="ref-peters2014alpha" class="csl-entry" role="listitem">
Peters, Gjalt-Jorn. <span>“The Alpha and the Omegaof Scale Reliability and Validity: Why and How to Abandon Cronbach’s Alpha and the Route Towards More Comprehensive Assessment of Scale Quality.”</span> <em>The European HealthPsychologist</em>, 54–67.
</div>
<div id="ref-revelle2009coefficients" class="csl-entry" role="listitem">
Revelle, W., and Richard E. Zinbarg. <span>“Coefficients Alpha, Beta, Omega and the Glb: Comments on Sijtsma.”</span> <em>Psychometrika</em>, 1145–54.
</div>
<div id="ref-zinbarg2005cronbach" class="csl-entry" role="listitem">
Zinbarg, Richard E, William Revelle, Iftah Yovel, and Wen Li. <span>“Cronbach’s <span class="math inline">\(\alpha\)</span>, Revelle’s <span class="math inline">\(\beta\)</span>, and McDonald’s $$ h: Their Relations with Each Other and Two Alternative Conceptualizations of Reliability.”</span> <em>Psychometrika</em>, 123–33.
</div>
<div id="ref-zinbarg2006estimating" class="csl-entry" role="listitem">
Zinbarg, R, I Yovel, W Revelle, and R McDonald. <span>“Estimating Generalizability to a Universe of Indicators That All Have One Attribute in Common: A Comparison of Estimators for Omega.”</span> <em>Applied Psychological Measurement</em>, 121–44.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>